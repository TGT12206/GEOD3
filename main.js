/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GEOD3
});
module.exports = __toCommonJS(main_exports);

// classes/geod3-view.ts
var import_obsidian5 = require("obsidian");

// classes/project.ts
var import_obsidian4 = require("obsidian");

// classes/tabs/file-manager.ts
var import_obsidian3 = require("obsidian");

// classes/tabs/tab.ts
var Tab = class {
  /**
   * @param anp a reference to the obsidian app to read and write files as well as the geod3 project this tab should look at
   */
  constructor(anp) {
    this.anp = anp;
  }
};

// classes/tabs/file-types/geod3-file.ts
var import_obsidian = require("obsidian");
var GEOD3File = class {
  getParent(manager) {
    return manager.GetFile(this.parentPath);
  }
  get name() {
    const pathParts = this.path.valueOf().split("/");
    if (this.path.valueOf() === "/") {
      return "root";
    }
    return pathParts[pathParts.length - 1];
  }
  constructor(path, parentPath) {
    this.parentPath = parentPath;
    this.path = path;
  }
  async GrabDependencies(anp) {
  }
  async DisplayThumbnail(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    thumbnailDiv.empty();
    thumbnailDiv.onclick = async () => {
      this.getParent(manager).SelectFile(anp, this, thumbnailDiv);
    };
    thumbnailDiv.createEl("div", { text: this.name });
    thumbnailDiv.createEl("div", { text: "Type: " + this.type });
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    manager.fileDiv.empty();
    manager.fileDiv.className = "vbox";
    const backButton = manager.fileDiv.createEl("button", { text: "Go back to " + this.getParent(manager).name });
    backButton.onclick = async () => {
      this.getParent(manager).Open(anp);
    };
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath + ".md");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
  async Save(anp) {
    const path = (0, import_obsidian.normalizePath)(anp.project.pathToProject + this.path + ".md");
    anp.app.vault.adapter.write(path, JSON.stringify(this.data));
  }
};

// classes/tabs/file-types/geod3-folder.ts
var GEOD3Folder = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.type = "\u{1F4C1}Folder";
    this.files = [];
  }
  get data() {
    return this.files;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    const vault = anp.app.vault;
    const project = anp.project;
    const createDiv = manager.fileDiv.createDiv("hbox");
    const typeDropdown = createDiv.createEl("select");
    for (let i = 0; i < GEOD3FileManager.KNOWN_FILE_TYPES.length; i++) {
      const currType = GEOD3FileManager.KNOWN_FILE_TYPES[i];
      typeDropdown.createEl("option", { text: currType, value: currType });
    }
    typeDropdown.value = GEOD3FileManager.KNOWN_FILE_TYPES[0];
    const nameInput = createDiv.createEl("input", { type: "text", value: "Unnamed" });
    const addButton = createDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      const newRelPath = this.path + (this.path.valueOf() === "/" ? "" : "/") + nameInput.value;
      const newPath = project.pathToProject + newRelPath;
      const newGEOD3File = GEOD3FileManager.CreateFileOfType(newRelPath, this.path, typeDropdown.value);
      if (typeDropdown.value === "\u{1F4C1}Folder") {
        vault.createFolder(newPath);
      } else {
        vault.create(newPath + ".md", JSON.stringify(newGEOD3File));
      }
      manager.files.push(newGEOD3File);
      this.files.push(newGEOD3File);
      this.Open(anp);
    };
    this.selectedThumbnail = void 0;
    const folderDiv = manager.fileDiv.createDiv("geod3-folder");
    for (let i = 0; i < this.files.length; i++) {
      this.files[i].DisplayThumbnail(anp, folderDiv.createDiv("geod3-file-thumbnail pointer-hover"));
    }
  }
  SelectFile(anp, newSelectedFile, thumbnailDiv) {
    if (this.selectedThumbnail !== void 0 && this.selectedThumbnail[0] === newSelectedFile && this.selectedThumbnail[1] === thumbnailDiv) {
      this.selectedThumbnail[0].Open(anp);
    } else {
      if (this.selectedThumbnail !== void 0) {
        this.selectedThumbnail[1].className = "geod3-file-thumbnail pointer-hover";
      }
      this.selectedThumbnail = [newSelectedFile, thumbnailDiv];
      this.selectedThumbnail[1].className = "geod3-file-thumbnail selected pointer-hover";
      this.selectedThumbnail[0].DisplayProperties(anp, thumbnailDiv);
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFolderByPath(project.pathToProject + originalPath);
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath);
      }
      this.path = newPath;
      const folderStack = [];
      const GFindex = 0;
      const CFindex = 1;
      folderStack.push([this, 0]);
      let depth = 0;
      while (folderStack[0][CFindex] < this.files.length) {
        const currFolder = folderStack[depth];
        const currIndex = currFolder[CFindex];
        const currFile = currFolder[GFindex].files[currIndex];
        currFile.path = currFile.path.replace(originalPath.valueOf(), newPath);
        if (currFile instanceof GEOD3Folder) {
          folderStack.push([currFile, 0]);
          depth++;
        } else {
          currFolder[CFindex]++;
        }
        if (folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
          while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
            depth--;
            folderStack.pop();
            if (depth >= 0) {
              folderStack[depth][CFindex]++;
            }
          }
        }
      }
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
};

// classes/tabs/file-types/real-file.ts
var import_obsidian2 = require("obsidian");
var RealFile = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.src = "";
  }
  get data() {
    return this.src;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    this.DisplayActualFile(manager.fileDiv);
  }
  async GrabDependencies(anp) {
    try {
      const app = anp.app;
      const vault = app.vault;
      const project = anp.project;
      const pathToActualFile = project.pathToProject + this.path + ".actual-file";
      const tFile = vault.getFileByPath(pathToActualFile);
      if (tFile === null) {
        throw new Error("");
      }
      const arrayBuffer = await vault.readBinary(tFile);
      const blob = new Blob([arrayBuffer]);
      this.src = URL.createObjectURL(blob);
    } catch (e) {
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const currFileDiv = manager.propertiesDiv.createDiv();
    this.DisplayActualFile(currFileDiv);
    const fileInput = manager.propertiesDiv.createEl("input", { type: "file" });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile1 = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const tFile2 = vault.getFileByPath(project.pathToProject + originalPath + ".actual-file");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile1 !== null) {
        vault.rename(tFile1, project.pathToProject + newPath + ".md");
      }
      if (tFile2 !== null) {
        vault.rename(tFile2, project.pathToProject + newPath + ".actual-file");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
    fileInput.onchange = async () => {
      const fileArray = fileInput.files;
      if (fileArray !== null) {
        const arrayBuffer = await fileArray[0].arrayBuffer();
        const blob = new Blob([arrayBuffer]);
        this.src = URL.createObjectURL(blob);
        const pathToMDFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".md");
        const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
        await anp.app.vault.adapter.write(pathToMDFile, JSON.stringify(this));
        await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
      }
      currFileDiv.empty();
      this.DisplayActualFile(currFileDiv);
    };
  }
  async Save(anp) {
    await super.Save(anp);
    try {
      const response = await fetch(this.data);
      const arrayBuffer = await response.arrayBuffer();
      const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
      await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
    } catch (e) {
      console.log("Error converting " + this.path.valueOf() + " to an actual file");
    }
  }
};
var ImageFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F5BC}\uFE0FImage";
  }
  async DisplayActualFile(div) {
    const img = div.createEl("img");
    img.style.objectFit = "contain";
    img.src = this.src;
    return img;
  }
};
var SoundFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F50A}Sound";
  }
  async DisplayActualFile(div) {
    const el = div.createEl("audio");
    el.src = this.src;
    return el;
  }
};
var VideoFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F39E}\uFE0FVideo";
  }
  async DisplayActualFile(div) {
    const vid = div.createEl("video");
    vid.style.objectFit = "contain";
    vid.src = this.src;
    return vid;
  }
};

// classes/tabs/file-manager.ts
var GEOD3FileManager = class extends Tab {
  constructor(anp) {
    super(anp);
    this.files = [];
  }
  get imageFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof ImageFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get soundFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof SoundFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get videoFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof VideoFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  GetFile(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  GetFileByPrimitivePath(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path.valueOf() === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  AssignObjectFromFileType(plainObj, path, parentPath) {
    plainObj.path = path;
    plainObj.parentPath = parentPath;
    switch (plainObj.type) {
      case "\u{1F4C1}Folder":
      default:
        return Object.assign(new GEOD3Folder(path, parentPath), plainObj);
      case "\u{1F5BC}\uFE0FImage":
        return Object.assign(new ImageFile(path, parentPath), plainObj);
      case "\u{1F50A}Sound":
        return Object.assign(new SoundFile(path, parentPath), plainObj);
      case "\u{1F39E}\uFE0FVideo":
        return Object.assign(new VideoFile(path, parentPath), plainObj);
    }
  }
  static CreateFileOfType(path, parentPath, type) {
    switch (type) {
      case "\u{1F4C1}Folder":
      default:
        return new GEOD3Folder(path, parentPath);
      case "\u{1F5BC}\uFE0FImage":
        return new ImageFile(path, parentPath);
      case "\u{1F50A}Sound":
        return new SoundFile(path, parentPath);
      case "\u{1F39E}\uFE0FVideo":
        return new VideoFile(path, parentPath);
    }
  }
  async LoadFiles(anp) {
    this.files = [];
    const app = anp.app;
    const vault = app.vault;
    const project = anp.project;
    const projectFolder = vault.getFolderByPath(project.pathToProject);
    if (projectFolder === null) {
      throw new Error("Project folder does not exist");
    }
    const folderStack = [];
    const TFindex = 0;
    const GFindex = 1;
    const CFindex = 2;
    const rootPath = new String("/");
    const root = new GEOD3Folder(rootPath, rootPath);
    folderStack.push([projectFolder, root, 0]);
    this.files.push(root);
    let depth = 0;
    while (folderStack[0][CFindex] < projectFolder.children.length) {
      const currFolder = folderStack[depth];
      const currIndex = currFolder[CFindex];
      const currFile = currFolder[TFindex].children[currIndex];
      const relativePath = currFile.path.replace(project.pathToProject, "");
      if (currFile.name !== "RESERVED FOLDER DO NOT RENAME") {
        if (currFile instanceof import_obsidian3.TFolder) {
          const newGEOD3Folder = new GEOD3Folder(relativePath, currFolder[GFindex].path);
          this.files.push(newGEOD3Folder);
          currFolder[GFindex].files.push(newGEOD3Folder);
          folderStack.push([currFile, newGEOD3Folder, 0]);
          depth++;
        } else if (currFile instanceof import_obsidian3.TFile) {
          if (currFile.extension === "md") {
            const data = await vault.cachedRead(currFile);
            const plainObj = JSON.parse(data);
            const newFile = this.AssignObjectFromFileType(plainObj, relativePath.slice(0, -3), currFolder[GFindex].path);
            currFolder[GFindex].files.push(newFile);
            this.files.push(newFile);
          }
          currFolder[CFindex]++;
        }
      } else {
        currFolder[CFindex]++;
      }
      if (folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
        while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
          depth--;
          folderStack.pop();
          if (depth >= 0) {
            folderStack[depth][CFindex]++;
          }
        }
      }
    }
  }
  async Focus(div) {
    div.empty();
    this.mainDiv = div;
    this.mainDiv.className = "geod3-tab-container hbox";
    this.fileDiv = div.createDiv("vbox");
    this.propertiesDiv = div.createDiv("vbox");
    this.fileDiv.style.width = "70%";
    this.propertiesDiv.style.width = "30%";
    this.files[0].Open(this.anp);
  }
  UnFocus(div) {
    div.empty();
  }
};
GEOD3FileManager.icon = "\u{1F4C1}";
GEOD3FileManager.KNOWN_FILE_TYPES = [
  "\u{1F4C1}Folder",
  "\u{1F5BC}\uFE0FImage",
  "\u{1F50A}Sound",
  "\u{1F39E}\uFE0FVideo"
];

// classes/structs/struct.ts
var AS = /* @__PURE__ */ ((AS2) => {
  AS2[AS2["none"] = 0] = "none";
  AS2[AS2["boolean"] = 1] = "boolean";
  AS2[AS2["number"] = 2] = "number";
  AS2[AS2["string"] = 3] = "string";
  return AS2;
})(AS || {});
var ASHandler = class {
  static Copy(obj) {
    let newObj;
    switch (obj.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        newObj = new ABooleanI(obj.scope, obj.name);
        break;
      case 2 /* number */:
        newObj = new ANumberI(obj.scope, obj.name);
        break;
      case 3 /* string */:
        newObj = new AStringI(obj.scope, obj.name);
        break;
    }
    newObj.value = obj.value;
    return newObj;
  }
  static CreateI(type, scope, name) {
    switch (type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanI(scope, name);
      case 2 /* number */:
        return new ANumberI(scope, name);
      case 3 /* string */:
        return new AStringI(scope, name);
    }
  }
  static CreateII(struct, inspectorDiv) {
    switch (struct.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanII(struct, inspectorDiv);
      case 2 /* number */:
        return new ANumberII(struct, inspectorDiv);
      case 3 /* string */:
        return new AStringII(struct, inspectorDiv);
    }
  }
  static CreateEI(struct, blockDiv) {
    switch (struct.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanEI(struct, blockDiv);
      case 2 /* number */:
        return new ANumberEI(struct, blockDiv);
      case 3 /* string */:
        return new AStringEI(struct, blockDiv);
    }
  }
};
var ASI = class {
  constructor(scope, name = "") {
    this.name = name;
    this.scope = scope;
  }
};
var ASII = class {
};
var ASEI = class {
};
var ABooleanI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 1 /* boolean */;
    this.value = false;
  }
};
var ABooleanII = class extends ASII {
  constructor(instance, div) {
    super();
    this.instance = instance;
  }
};
var ABooleanEI = class extends ASEI {
  constructor(instance, div) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "checkbox" });
    input.checked = this.instance.value;
    input.style.backgroundColor = "rgb(29, 0, 54)";
    input.onchange = () => {
      this.instance.value = input.checked;
    };
  }
};
var ANumberI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 2 /* number */;
    this.value = 0;
  }
};
var ANumberII = class extends ASII {
  constructor(instance, div) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    input.style.backgroundColor = "rgb(29, 0, 54)";
    input.onchange = () => {
      this.instance.value = parseFloat(input.value);
    };
  }
};
var ANumberEI = class extends ASEI {
  constructor(instance, div) {
    super();
    this.instance = instance;
  }
};
var AStringI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 3 /* string */;
    this.value = "";
  }
};
var AStringII = class extends ASII {
  constructor(instance, div) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    input.style.backgroundColor = "rgb(29, 0, 54)";
    input.onchange = () => {
      this.instance.value = input.value;
    };
  }
};
var AStringEI = class extends ASEI {
  constructor(instance, div) {
    super();
    this.instance = instance;
  }
};

// classes/functions/function.ts
var AFHandler = class {
  static Copy(obj) {
    const newParams = [];
    for (let i = 0; i < obj.parameters.length; i++) {
      const currParam = obj.parameters[i];
      if (currParam instanceof AFI) {
        newParams.push(this.Copy(currParam));
      } else {
        newParams.push(ASHandler.Copy(currParam));
      }
    }
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(newParams);
      case 2 /* get */:
        return new AGetI(newParams);
      case 3 /* set */:
        return new ASetI(newParams);
      case 4 /* add */:
        return new AAddI(newParams);
    }
  }
  static CreateI(type, parameters) {
    switch (type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(parameters);
      case 2 /* get */:
        return new AGetI(parameters);
      case 3 /* set */:
        return new ASetI(parameters);
      case 4 /* add */:
        return new AAddI(parameters);
    }
  }
  static CreateEI(obj, blockDiv, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingEI(obj, blockDiv, anp);
      case 1 /* chain */:
        return new AChainEI(obj, blockDiv, anp);
      case 2 /* get */:
        return new AGetEI(obj, blockDiv, anp);
      case 3 /* set */:
        return new ASetEI(obj, blockDiv, anp);
      case 4 /* add */:
        return new AAddEI(obj, blockDiv, anp);
    }
  }
  static CreateRI(obj, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingRI(obj, anp);
      case 1 /* chain */:
        return new AChainRI(obj, anp);
      case 2 /* get */:
        return new AGetRI(obj, anp);
      case 3 /* set */:
        return new ASetRI(obj, anp);
      case 4 /* add */:
        return new AAddRI(obj, anp);
    }
  }
};
var AFI = class {
  constructor() {
    this.defaultParameters = [];
    this.parameters = [];
  }
};
var AFEI = class {
  constructor(instance, blockDiv, anp) {
    this.instance = instance;
    this.div = blockDiv;
    this.anp = anp;
    this.DisplayBlock();
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        const currDefaultParam = this.instance.defaultParameters[i];
        this.instance.parameters[i] = currDefaultParam instanceof ASI ? ASHandler.Copy(currDefaultParam) : AFHandler.Copy(currDefaultParam);
      }
    }
  }
  static MakeBlockDraggable(block, anp, isCopy) {
    const scriptEditor = anp.project.scriptEditor;
    block.div.draggable = true;
    block.div.addEventListener("dragstart", (event) => {
      event.stopPropagation();
      if (event.dataTransfer !== null) {
        event.dataTransfer.effectAllowed = "copy";
      }
      scriptEditor.currentlyDraggedBlockIsCopy = isCopy;
      scriptEditor.currentlyDraggedBlock = block;
      scriptEditor.blocksDiv.style.height = "90%";
      scriptEditor.delDiv.style.height = "10%";
    });
    block.div.addEventListener("dragend", (event) => {
      event.stopPropagation();
      event.preventDefault();
      scriptEditor.blocksDiv.style.height = "100%";
      scriptEditor.delDiv.style.height = "0%";
    });
  }
  static SetParameterDiv(anp, afei, paramDiv, paramIndex) {
    const scriptEditor = anp.project.scriptEditor;
    paramDiv.addEventListener("dragover", (event) => {
      event.stopPropagation();
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      paramDiv.style.borderStyle = "solid";
      paramDiv.style.borderColor = "rgb(223, 236, 255)";
    });
    paramDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      paramDiv.style.borderStyle = "";
    });
    paramDiv.addEventListener("drop", (event) => {
      event.stopPropagation();
      if (scriptEditor.currentlyDraggedBlock !== void 0) {
        let newBlock;
        let newBlockDiv;
        if (scriptEditor.currentlyDraggedBlockIsCopy) {
          const newBlockInstance = AFHandler.Copy(scriptEditor.currentlyDraggedBlock.instance);
          newBlockDiv = scriptEditor.currentlyDraggedBlock.div.cloneNode(true);
          newBlock = AFHandler.CreateEI(newBlockInstance, newBlockDiv, anp);
        } else {
          if (scriptEditor.currentlyDraggedBlock.parentEI !== void 0) {
            const parentEI = scriptEditor.currentlyDraggedBlock.parentEI;
            parentEI.RemoveParameter(scriptEditor.currentlyDraggedBlock.instance);
            parentEI.DisplayBlock();
          }
          newBlockDiv = scriptEditor.currentlyDraggedBlock.div;
          newBlock = scriptEditor.currentlyDraggedBlock;
          newBlockDiv.detach();
        }
        afei.instance.parameters[paramIndex] = newBlock.instance;
        afei.DisplayBlock();
        event.preventDefault();
      }
      scriptEditor.currentlyDraggedBlock = void 0;
    });
  }
};
var AFRI = class {
  constructor(ogFunction, anp) {
    this.type = ogFunction.type;
    this.parameters = [];
    this.anp = anp;
    for (let i = 0; i < ogFunction.parameters.length; i++) {
      const ogParam = ogFunction.parameters[i];
      let copy;
      if (ogParam instanceof ASI) {
        copy = ASHandler.Copy(ogParam);
      } else {
        copy = AFHandler.CreateRI(ogParam, anp);
      }
      this.parameters.push(copy);
    }
  }
};
var ADoNothingI = class extends AFI {
  constructor() {
    super(...arguments);
    this.type = 0 /* none */;
  }
};
var ADoNothingEI = class extends AFEI {
  DisplayBlock() {
    this.div.style.minWidth = "4vh";
    this.div.style.minHeight = "4vh";
    this.div.style.backgroundColor = "rgb(5, 5, 8)";
  }
  RemoveParameter(parameter) {
  }
};
var ADoNothingRI = class extends AFRI {
  async Execute() {
  }
};
var AChainI = class extends AFI {
  constructor(parameters = void 0) {
    super();
    this.type = 1 /* chain */;
    const doNothing = new ADoNothingI();
    this.defaultParameters.push(doNothing);
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AChainEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = "rgb(18, 18, 24)";
    div.style.borderStyle = "solid";
    div.style.borderColor = "rgb(100, 109, 123)";
    div.style.width = "fit-content";
    div.style.padding = "1vh";
    div.style.gap = "1vh";
    const anp = this.anp;
    for (let i = 0; i < this.instance.parameters.length; i++) {
      const index = i;
      const currBlockDiv = div.createDiv("hbox");
      const currParamDiv = currBlockDiv.createDiv();
      const currParam = this.instance.parameters[i];
      const currParamEI = AFHandler.CreateEI(currParam, currParamDiv, anp);
      AFEI.MakeBlockDraggable(currParamEI, anp, false);
      currParamEI.parentEI = this;
      AFEI.SetParameterDiv(anp, this, currParamDiv, index);
      const deleteButton = currBlockDiv.createEl("button", { text: "-" });
      deleteButton.className = "geod3-remove-button";
      const addButton2 = currBlockDiv.createEl("button", { text: "+" });
      addButton2.className = "geod3-add-button";
      deleteButton.onclick = () => {
        this.instance.parameters.splice(index, 1);
        this.DisplayBlock();
      };
      addButton2.onclick = () => {
        this.instance.parameters.splice(index, 0, new ADoNothingI());
        this.DisplayBlock();
      };
    }
    const addButton = div.createEl("button", { text: "+" });
    addButton.className = "geod3-add-button";
    addButton.onclick = () => {
      this.instance.parameters.splice(this.instance.parameters.length, 0, new ADoNothingI());
      this.DisplayBlock();
    };
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        this.instance.parameters[i] = AFHandler.Copy(this.instance.defaultParameters[0]);
      }
    }
  }
};
var AChainRI = class extends AFRI {
  async Execute() {
    for (let i = 0; i < this.parameters.length; i++) {
      await this.parameters[i].Execute();
    }
  }
};
var AGetI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 2 /* get */;
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    const varName = new AStringI(0 /* Value */, "Variable Name");
    objIndex.value = 0;
    varName.value = "Sprite Path";
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
    }
  }
};
var AGetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = "rgb(78, 17, 131)";
    div.style.borderStyle = "solid";
    div.style.borderColor = "rgb(100, 109, 123)";
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Get" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    const adjustInputWidth = (input) => {
      const tempEl = div.createEl("div", { text: input.value });
      tempEl.style.position = "absolute";
      tempEl.style.visibility = "hidden";
      tempEl.style.whiteSpace = "nowrap";
      tempEl.style.font = "inherit";
      tempEl.style.padding = "1.75vh";
      input.style.width = tempEl.getBoundingClientRect().width + "px";
      tempEl.remove();
    };
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = "rgb(29, 0, 54)";
    varNameInput.style.backgroundColor = "rgb(29, 0, 54)";
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      adjustInputWidth(objIDInput);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      adjustInputWidth(varNameInput);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    adjustInputWidth(objIDInput);
    adjustInputWidth(varNameInput);
  }
};
var AGetRI = class extends AFRI {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    return GEOD3ObjectHandler.GetVariable(obj, varName.value);
  }
};
var ASetI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 3 /* set */;
    const varName = new AStringI(0 /* Value */, "Variable Name");
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    varName.value = "Sprite Path";
    objIndex.value = 0;
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
      this.parameters.push(ASHandler.CreateI(2 /* number */, 0 /* Value */, ""));
    }
  }
};
var ASetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = "rgb(78, 17, 131)";
    div.style.borderStyle = "solid";
    div.style.borderColor = "rgb(100, 109, 123)";
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Set" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    div.createEl("div", { text: "to" });
    const valueDiv = div.createDiv();
    AFEI.SetParameterDiv(anp, this, valueDiv, 2);
    const adjustInputWidth = (input) => {
      const tempEl = div.createEl("div", { text: input.value });
      tempEl.style.position = "absolute";
      tempEl.style.visibility = "hidden";
      tempEl.style.whiteSpace = "nowrap";
      tempEl.style.font = "inherit";
      tempEl.style.padding = "1.75vh";
      input.style.width = tempEl.getBoundingClientRect().width + "px";
      tempEl.remove();
    };
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = "rgb(29, 0, 54)";
    varNameInput.style.backgroundColor = "rgb(29, 0, 54)";
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
      if (this.instance.parameters[2] instanceof AFI) {
        const valBlock = AFHandler.CreateEI(this.instance.parameters[2], valueDiv, anp);
        valBlock.parentEI = this;
        AFEI.MakeBlockDraggable(valBlock, anp, false);
      } else {
        valueDiv.empty();
        const varName2 = this.instance.parameters[0];
        const objIndex = this.instance.parameters[1];
        const obj = this.anp.project.sceneView.objects[objIndex.value];
        const value = ASHandler.Copy(GEOD3ObjectHandler.GetVariable(obj, varName2.value));
        value.value = this.instance.parameters[2].value;
        ASHandler.CreateII(value, valueDiv);
        this.instance.parameters[2] = value;
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      adjustInputWidth(objIDInput);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      adjustInputWidth(varNameInput);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    adjustInputWidth(objIDInput);
    adjustInputWidth(varNameInput);
  }
  RemoveParameter(parameter) {
    if (this.instance.parameters[2] === parameter) {
      const defaultParam = ASHandler.CreateI(this.instance.parameters[0].type, 0 /* Value */, "");
      this.instance.parameters[2] = defaultParam;
    }
  }
};
var ASetRI = class extends AFRI {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const val = this.parameters[2];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    const varToSet = GEOD3ObjectHandler.GetVariable(obj, varName.value);
    varToSet.value = val instanceof AFRI ? (await val.Execute()).value : val.value;
  }
};
var AAddI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 4 /* add */;
    this.returnType = 2 /* number */;
    const num1 = new ANumberI(0 /* Value */, "num1");
    const num2 = new ANumberI(0 /* Value */, "num2");
    num1.value = 0;
    num2.value = 0;
    this.defaultParameters = [num1, num2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(num1));
      this.parameters.push(ASHandler.Copy(num2));
    }
  }
};
var AAddEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = "rgb(111, 46, 169)";
    div.style.borderStyle = "solid";
    div.style.borderColor = "rgb(100, 109, 123)";
    const anp = this.anp;
    const num1 = this.instance.parameters[0];
    const num2 = this.instance.parameters[1];
    const num1Div = div.createDiv();
    div.createEl("div", { text: "+" });
    const num2Div = div.createDiv();
    AFEI.SetParameterDiv(anp, this, num1Div, 0);
    AFEI.SetParameterDiv(anp, this, num2Div, 1);
    const adjustInputWidth = (input) => {
      const tempEl = div.createEl("div", { text: input.value });
      tempEl.style.position = "absolute";
      tempEl.style.visibility = "hidden";
      tempEl.style.whiteSpace = "nowrap";
      tempEl.style.font = "inherit";
      tempEl.style.padding = "10px";
      input.style.width = tempEl.getBoundingClientRect().width + "px";
      tempEl.remove();
    };
    if (num1 instanceof ASI) {
      const num1Input = num1Div.createEl("input", { type: "text", value: num1.value + "" });
      num1Input.style.background = "rgb(29, 0, 54)";
      num1Input.style.padding = "1vh";
      adjustInputWidth(num1Input);
      num1Input.oninput = () => {
        adjustInputWidth(num1Input);
      };
      num1Input.onchange = () => {
        this.instance.parameters[0].value = parseFloat(num1Input.value);
      };
    } else {
      const num1EI = AFHandler.CreateEI(num1, num1Div, anp);
      AFEI.MakeBlockDraggable(num1EI, anp, false);
      num1EI.parentEI = this;
    }
    if (num2 instanceof ASI) {
      const num2Input = num2Div.createEl("input", { type: "text", value: num2.value + "" });
      num2Input.style.background = "rgb(29, 0, 54)";
      num2Input.style.padding = "1vh";
      adjustInputWidth(num2Input);
      num2Input.oninput = () => {
        adjustInputWidth(num2Input);
      };
      num2Input.onchange = () => {
        this.instance.parameters[1].value = parseFloat(num2Input.value);
      };
    } else {
      const num2EI = AFHandler.CreateEI(num2, num2Div, anp);
      AFEI.MakeBlockDraggable(num2EI, anp, false);
      num2EI.parentEI = this;
    }
  }
};
var AAddRI = class extends AFRI {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param1IsAFRI = param1 instanceof AFRI;
    const param2IsAFRI = param2 instanceof AFRI;
    const num1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const num2 = param2IsAFRI ? (await param2.Execute()).value : param2.value;
    const output = new ANumberI(0 /* Value */, "sum");
    output.value = num1 + num2;
    return output;
  }
};

// classes/tabs/geod3-object.ts
var GEOD3ObjectHandler = class {
  static GetVariable(obj, name) {
    for (let i = 0; i < obj.variables.length; i++) {
      if (obj.variables[i].name === name) {
        return obj.variables[i];
      }
    }
    throw new Error("Variable " + name + " not found on object " + obj.idInScene + ": " + obj.name);
  }
  static CreateII(obj, anp, inspectorDiv) {
    return new GEOD3ObjectII(obj, anp, inspectorDiv);
  }
  static CreateRI(obj, anp, objDiv) {
    return new GEOD3ObjectRI(obj, anp, objDiv);
  }
};
var GEOD3Object = class {
  constructor(id) {
    this.idInScene = id;
    this.name = "object";
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    this.variables.push(ASHandler.CreateI(3 /* string */, 1 /* Public */, "Sprite Path"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "z"));
  }
};
var GEOD3ObjectII = class {
  constructor(instance, anp, div) {
    this.instance = instance;
    this.anp = anp;
    div.empty();
    const nameDiv = div.createDiv("hbox");
    nameDiv.createEl("div", { text: this.instance.idInScene + ":" });
    const nameInput = nameDiv.createEl("input", { type: "text", value: this.instance.name });
    const editScriptsButton = nameDiv.createEl("button", { text: "Edit Scripts\u{1F4DC}" });
    editScriptsButton.className = "geod3-secondary-button";
    nameInput.onchange = () => {
      this.instance.name = nameInput.value;
    };
    editScriptsButton.onclick = () => {
      anp.project.scriptEditor.currentObject = this.instance;
      anp.project.SwitchToTab(anp.project.scriptEditorTabID);
    };
    const variablesDiv = div.createDiv("geod3-inspector-variable-list vbox");
    for (let i = 0; i < this.instance.variables.length; i++) {
      const asI = this.instance.variables[i];
      const varDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      varDiv.createEl("div", { text: asI.name });
      ASHandler.CreateII(asI, varDiv.createDiv());
    }
    const addNewDiv = div.createDiv("hbox");
    const variableNameInput = addNewDiv.createEl("input", { type: "text", value: "unnamed" });
    const variableTypeInput = addNewDiv.createEl("select");
    const addVariableButton = addNewDiv.createEl("button", { text: "+" });
    addVariableButton.className = "geod3-add-button";
    for (let i = 1; i < 4; i++) {
      const type = AS[i];
      variableTypeInput.createEl("option", { text: type, value: i + "" });
    }
    variableTypeInput.value = "1";
    addVariableButton.onclick = () => {
      const name = variableNameInput.value;
      for (let i = 0; i < this.instance.variables.length; i++) {
        if (this.instance.variables[i].name === name) {
          return;
        }
      }
      const newVar = ASHandler.CreateI(parseInt(variableTypeInput.value), 1 /* Public */, name);
      this.instance.variables.push(newVar);
      const newVarDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      newVarDiv.createEl("div", { text: newVar.name });
      ASHandler.CreateII(newVar, newVarDiv);
    };
  }
};
var GEOD3ObjectRI = class {
  constructor(obj, anp, objDiv) {
    this.idInScene = obj.idInScene;
    this.name = obj.name;
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    for (let i = 0; i < obj.variables.length; i++) {
      this.variables.push(ASHandler.Copy(obj.variables[i]));
    }
    for (let i = 0; i < obj.onStart.length; i++) {
      this.onStart.push(AFHandler.CreateRI(obj.onStart[i], anp));
    }
    for (let i = 0; i < obj.onNewFrame.length; i++) {
      this.onNewFrame.push(AFHandler.CreateRI(obj.onNewFrame[i], anp));
    }
    this.objDiv = objDiv;
    this.anp = anp;
    this.prevSpritePath = "";
    this.SetObjDivCSSProperties();
  }
  SetObjDivCSSProperties() {
    this.objDiv.style.transform = "translate(-50%, 0%)";
    this.objDiv.style.position = "absolute";
  }
  RefreshSprite() {
    const spritePath = GEOD3ObjectHandler.GetVariable(this, "Sprite Path").value;
    if (this.prevSpritePath !== spritePath) {
      try {
        const mediaFile = this.anp.project.fileManager.GetFileByPrimitivePath(spritePath);
        const spriteSrc = mediaFile.data;
        let mediaEl;
        this.objDiv.empty();
        if (mediaFile instanceof ImageFile) {
          mediaEl = this.objDiv.createEl("img");
        } else {
          mediaEl = this.objDiv.createEl("video");
          mediaEl.controls = false;
          mediaEl.loop = true;
        }
        mediaEl.src = spriteSrc;
        mediaEl.style.width = "100%";
        mediaEl.style.height = "100%";
        this.prevSpritePath = spritePath;
      } catch (e) {
        console.log("failed to find image/video path");
      }
    }
  }
  SetLocationAndWidth() {
    const width = GEOD3ObjectHandler.GetVariable(this, "Sprite Width").value;
    const height = GEOD3ObjectHandler.GetVariable(this, "Sprite Height").value;
    const x = GEOD3ObjectHandler.GetVariable(this, "x").value;
    const y = GEOD3ObjectHandler.GetVariable(this, "y").value;
    this.objDiv.style.width = width + "px";
    this.objDiv.style.height = height + "px";
    this.objDiv.style.left = x + "px";
    this.objDiv.style.bottom = y + "px";
  }
  Render() {
    this.RefreshSprite();
    this.SetLocationAndWidth();
  }
  OnStart() {
    for (let i = 0; i < this.onStart.length; i++) {
      this.onStart[i].Execute();
    }
  }
  OnNewFrame() {
    for (let i = 0; i < this.onNewFrame.length; i++) {
      this.onNewFrame[i].Execute();
    }
  }
};

// classes/tabs/game-view.ts
var GameView = class extends Tab {
  async Focus(div) {
    div.empty();
    div.className = "geod3-game-view-main-div geod3-tab-container";
    const gameWrapper = div.createDiv("geod3-game-wrapper");
    this.gameDiv = gameWrapper.createDiv("geod3-game");
    this.stillRunning = true;
    this.objects = [];
    await this.OnStart();
    while (this.stillRunning) {
      this.OnNewFrame();
      await sleep(15);
    }
  }
  UnFocus(div) {
    div.empty();
    this.stillRunning = false;
  }
  async OnStart() {
    const objInstances = this.anp.project.sceneView.objects;
    for (let i = 0; i < objInstances.length; i++) {
      this.objects.push(GEOD3ObjectHandler.CreateRI(objInstances[i], this.anp, this.gameDiv.createDiv()));
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnStart();
    }
  }
  async OnNewFrame() {
    const renderingOrder = [];
    for (let i = 0; i < this.objects.length; i++) {
      const currObj = this.objects[i];
      currObj.Render();
      this.PlaceIntoSpriteArray(renderingOrder, currObj);
    }
    for (let i = 0; i < renderingOrder.length; i++) {
      const currSprite = renderingOrder[i];
      currSprite.objDiv.style.zIndex = i + "";
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnNewFrame();
    }
  }
  PlaceIntoSpriteArray(arr, newItem) {
    let low = 0;
    let high = arr.length;
    const newZ = GEOD3ObjectHandler.GetVariable(newItem, "z");
    while (low < high) {
      const mid = Math.floor((low + high) / 2);
      const midZ = GEOD3ObjectHandler.GetVariable(arr[mid], "z");
      if (midZ < newZ) {
        low = mid + 1;
      } else {
        high = mid;
      }
    }
    arr.splice(low, 0, newItem);
  }
};
GameView.icon = "\u25B6\uFE0F";

// classes/tabs/scene-view.ts
var SceneView = class extends Tab {
  constructor(anp) {
    super(anp);
    this.objects = [];
  }
  Focus(div) {
    div.empty();
    div.className = "geod3-tab-container hbox";
    this.hierarchyDiv = div.createDiv("geod3-object-list vbox");
    const sceneScrollWrapper = div.createDiv("geod3-scene-scroll-wrapper");
    const sceneWrapper = sceneScrollWrapper.createDiv("geod3-scene-wrapper");
    this.sceneDiv = sceneWrapper.createDiv("geod3-scene");
    this.inspectorDiv = div.createDiv("geod3-inspector");
    const listDiv = this.hierarchyDiv.createDiv("vbox");
    for (let i = 0; i < this.objects.length; i++) {
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      const currObj = this.objects[i];
      objectDiv.textContent = currObj.idInScene + ": " + currObj.name;
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(currObj, this.anp, this.inspectorDiv);
      };
    }
    const buttonsDiv = this.hierarchyDiv.createDiv("hbox");
    const refreshButton = buttonsDiv.createEl("button", { text: "\u27F3" });
    const addObjButton = buttonsDiv.createEl("button", { text: "+" });
    refreshButton.className = "geod3-secondary-button";
    addObjButton.className = "geod3-add-button";
    refreshButton.style.width = "50%";
    addObjButton.style.width = "50%";
    refreshButton.onclick = () => {
      this.sceneDiv.empty();
      for (let i = 0; i < this.objects.length; i++) {
        const currObj = GEOD3ObjectHandler.CreateRI(this.objects[i], this.anp, this.sceneDiv.createDiv());
        currObj.Render();
      }
    };
    addObjButton.onclick = () => {
      const index = this.objects.length;
      const newObj = new GEOD3Object(index);
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      objectDiv.createEl("div", { text: newObj.idInScene + ": " + newObj.name });
      this.objects.push(newObj);
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(newObj, this.anp, this.inspectorDiv);
      };
    };
  }
  UnFocus(div) {
    div.empty();
  }
};
SceneView.icon = "\u{1F310}";

// classes/tabs/script-editor.ts
var ScriptEditor = class extends Tab {
  async Focus(div) {
    div.empty();
    if (this.currentObject !== void 0) {
      div.className = "geod3-tab-container hbox";
      const leftSide = div.createDiv("geod3-script-wrapper vbox");
      const topDiv = leftSide.createDiv("geod3-script-navigator hbox");
      topDiv.createEl("div", { text: this.currentObject.idInScene + ": " + this.currentObject.name });
      const clusterTypeInput = topDiv.createEl("select");
      clusterTypeInput.value = "On Start";
      clusterTypeInput.createEl("option", { text: "On Start", value: "On Start" });
      clusterTypeInput.createEl("option", { text: "On New Frame", value: "On New Frame" });
      const clusterNumberInput = topDiv.createEl("input", { type: "number", value: "0" });
      clusterNumberInput.min = "0";
      this.scriptDiv = leftSide.createDiv("geod3-script");
      const blockPool = div.createDiv("geod3-block-pool");
      this.blocksDiv = blockPool.createDiv("geod3-blocks-list");
      this.delDiv = blockPool.createDiv("geod3-block-delete-div");
      const LoadScript = () => {
        const obj = this.currentObject;
        const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
        const index = parseInt(clusterNumberInput.value);
        if (index >= scriptType.length) {
          scriptType.push(new AChainI([new ADoNothingI()]));
          clusterNumberInput.max = scriptType.length + "";
        }
        AFHandler.CreateEI(scriptType[index], this.scriptDiv, this.anp);
      };
      this.CreateBlockPool();
      LoadScript();
      clusterTypeInput.onchange = () => {
        const obj = this.currentObject;
        const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
        clusterNumberInput.value = "0";
        clusterNumberInput.max = scriptType.length + "";
        LoadScript();
      };
      clusterNumberInput.onchange = () => {
        LoadScript();
      };
    } else {
      div.createEl("h1", { text: "No object was selected" });
    }
  }
  CreateBlockPool() {
    this.blocksDiv.empty();
    this.delDiv.addEventListener("dragover", (event) => {
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      this.delDiv.className = "geod3-block-delete-div-hover";
    });
    this.delDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      this.delDiv.className = "geod3-block-delete-div";
    });
    this.delDiv.addEventListener("drop", (event) => {
      if (!(this.currentlyDraggedBlock === void 0 || this.currentlyDraggedBlockIsCopy)) {
        this.currentlyDraggedBlock.div.remove();
        const parentEI = this.currentlyDraggedBlock.parentEI;
        if (parentEI !== void 0) {
          parentEI.RemoveParameter(this.currentlyDraggedBlock.instance);
          parentEI.DisplayBlock();
        }
      }
    });
    const chainI = AFHandler.CreateI(1 /* chain */, void 0);
    const getI = AFHandler.CreateI(2 /* get */, void 0);
    const setI = AFHandler.CreateI(3 /* set */, void 0);
    const addI = AFHandler.CreateI(4 /* add */, void 0);
    const chainBlock = AFHandler.CreateEI(chainI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const getBlock = AFHandler.CreateEI(getI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const setBlock = AFHandler.CreateEI(setI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const addBlock = AFHandler.CreateEI(addI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    AFEI.MakeBlockDraggable(chainBlock, this.anp, true);
    AFEI.MakeBlockDraggable(getBlock, this.anp, true);
    AFEI.MakeBlockDraggable(setBlock, this.anp, true);
    AFEI.MakeBlockDraggable(addBlock, this.anp, true);
  }
  UnFocus(div) {
    div.empty();
  }
};
ScriptEditor.icon = "\u{1F4DC}";

// classes/project.ts
var Project = class {
  get fileManager() {
    return this.tabs[0];
  }
  get sceneView() {
    return this.tabs[1];
  }
  get scriptEditor() {
    return this.tabs[2];
  }
  get gameView() {
    return this.tabs[3];
  }
  get fileManagerTabID() {
    return 0;
  }
  get sceneViewTabID() {
    return 1;
  }
  get scriptEditorTabID() {
    return 2;
  }
  get gameViewTabID() {
    return 3;
  }
  constructor(app) {
    this.anp = new AppAndProject(app, this);
    this.tabs = [];
    this.tabs.push(new GEOD3FileManager(this.anp));
    this.tabs.push(new SceneView(this.anp));
    this.tabs.push(new ScriptEditor(this.anp));
    this.tabs.push(new GameView(this.anp));
    this.activeTabID = 0;
  }
  async Load() {
    await this.LoadFiles();
    await this.GrabFileDependencies();
    await this.LoadObjects();
  }
  async LoadFiles() {
    await this.fileManager.LoadFiles(this.anp);
  }
  async GrabFileDependencies() {
    const fm = this.fileManager;
    for (let i = 0; i < fm.files.length; i++) {
      await fm.files[i].GrabDependencies(this.anp);
    }
  }
  async LoadObjects() {
    const sv = this.sceneView;
    const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
    const tFile = this.anp.app.vault.getFileByPath(path);
    if (tFile === null) {
      return;
    }
    const data = await this.anp.app.vault.cachedRead(tFile);
    const plainObj = JSON.parse(data);
    sv.objects = plainObj.objects;
    const loadFunction = (plainFunct) => {
      const newFunct = Object.assign(AFHandler.CreateI(plainFunct.type, plainFunct.parameters), plainFunct);
      for (let i = 0; i < newFunct.defaultParameters.length; i++) {
        const isStruct = plainFunct.defaultParameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.defaultParameters[i];
          newFunct.defaultParameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.defaultParameters[i] = loadFunction(plainFunct.defaultParameters[i]);
        }
      }
      for (let i = 0; i < newFunct.parameters.length; i++) {
        const isStruct = plainFunct.parameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.parameters[i];
          newFunct.parameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.parameters[i] = loadFunction(plainFunct.parameters[i]);
        }
      }
      return newFunct;
    };
    for (let i = 0; i < plainObj.objects.length; i++) {
      const newObj = Object.assign(new GEOD3Object(i), plainObj.objects[i]);
      sv.objects[i] = newObj;
      for (let j = 0; j < newObj.variables.length; j++) {
        const plainVar = sv.objects[i].variables[j];
        const newVar = Object.assign(ASHandler.CreateI(plainVar.type, plainVar.scope, plainVar.name), plainVar);
        sv.objects[i].variables[j] = newVar;
      }
      for (let j = 0; j < newObj.onStart.length; j++) {
        const plainFunct = sv.objects[i].onStart[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onStart[j] = newFunct;
      }
      for (let j = 0; j < newObj.onNewFrame.length; j++) {
        const plainFunct = sv.objects[i].onNewFrame[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onNewFrame[j] = newFunct;
      }
    }
  }
  async Display(div) {
    div.empty();
    const tabBar = div.createDiv("geod3-tab-bar hbox");
    const tabContainer = div.createDiv("geod3-tab-container");
    const tabIcons = [];
    const filesTab = tabBar.createEl("button", { text: GEOD3FileManager.icon });
    const sceneViewTab = tabBar.createEl("button", { text: SceneView.icon });
    const scriptEditorTab = tabBar.createEl("button", { text: ScriptEditor.icon });
    const gameTab = tabBar.createEl("button", { text: GameView.icon });
    const saveButton = tabBar.createEl("button", { text: "\u{1F4BE}Save" });
    saveButton.className = "geod3-secondary-button";
    saveButton.onclick = async () => {
      saveButton.disabled = true;
      saveButton.textContent = "\u27F3Saving...";
      const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
      const data = JSON.stringify(new SceneDTO(this.anp.project.sceneView.objects));
      await this.anp.app.vault.adapter.write(path, data);
      saveButton.disabled = false;
      saveButton.textContent = "\u{1F4BE}Save";
    };
    filesTab.className = "geod3-tab-icon";
    sceneViewTab.className = "geod3-tab-icon";
    scriptEditorTab.className = "geod3-tab-icon";
    gameTab.className = "geod3-tab-icon";
    tabIcons.push(filesTab);
    tabIcons.push(sceneViewTab);
    tabIcons.push(scriptEditorTab);
    tabIcons.push(gameTab);
    tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
    this.tabs[this.activeTabID].Focus(tabContainer);
    const switchToTab = async (index) => {
      tabIcons[this.activeTabID].className = "geod3-tab-icon";
      await this.tabs[this.activeTabID].UnFocus(tabContainer);
      this.activeTabID = index;
      tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
      this.tabs[this.activeTabID].Focus(tabContainer);
    };
    this.SwitchToTab = switchToTab;
    filesTab.onclick = () => {
      switchToTab(0);
    };
    sceneViewTab.onclick = () => {
      switchToTab(1);
    };
    scriptEditorTab.onclick = () => {
      switchToTab(2);
    };
    gameTab.onclick = () => {
      switchToTab(3);
    };
  }
};
var AppAndProject = class {
  constructor(app, project) {
    this.app = app;
    this.project = project;
  }
};
var SceneDTO = class {
  constructor(objects = []) {
    this.objects = objects;
  }
};

// classes/geod3-view.ts
var VIEW_TYPE_GEOD3_PROJECT = "geod3-view";
var GEOD3View = class extends import_obsidian5.ItemView {
  constructor(leaf, defaultPath) {
    super(leaf);
    this.defaultPath = defaultPath;
  }
  getViewType() {
    return VIEW_TYPE_GEOD3_PROJECT;
  }
  getDisplayText() {
    return "GEO:D3";
  }
  async onOpen() {
    const mainEl = this.containerEl.children[1];
    mainEl.empty();
    const mainDiv = mainEl.createDiv("geod3-main-div");
    const mainDivTemp = mainDiv.createDiv("geod3-main-div");
    mainDivTemp.tabIndex = -1;
    mainDivTemp.focus();
    mainDivTemp.createEl("h1", { text: "Path to project:" });
    const pathInput = mainDivTemp.createEl("input", { type: "text", value: this.defaultPath });
    const submitButton = mainDivTemp.createEl("button", { text: "Open" });
    const onSubmit = async () => {
      const folderPath = (0, import_obsidian5.normalizePath)(pathInput.value);
      const dataPath = folderPath + "/RESERVED FOLDER DO NOT RENAME/Objects.md";
      this.project = new Project(this.app);
      this.project.pathToProject = folderPath;
      if (!await this.app.vault.adapter.exists(dataPath)) {
        const newDTO = new SceneDTO();
        const pathParts = dataPath.split("/");
        let pathSoFar = "";
        for (let i = 0; !await this.app.vault.adapter.exists(dataPath) && i < pathParts.length; i++) {
          const isLast = i === pathParts.length - 1;
          pathSoFar += pathParts[i] + (isLast ? "" : "/");
          if (isLast) {
            await this.app.vault.create(pathSoFar, JSON.stringify(newDTO));
          } else {
            await this.app.vault.createFolder(pathSoFar);
          }
        }
      }
      await this.project.Load();
      await this.project.Display(mainDiv);
    };
    submitButton.onclick = onSubmit;
    mainDivTemp.onkeydown = (e) => {
      if (e.key === "Enter") {
        mainDivTemp.onkeydown = () => {
        };
        onSubmit();
      }
    };
  }
  async onClose() {
    this.project.gameView.stillRunning = false;
  }
};

// main.ts
var import_obsidian6 = require("obsidian");
var DEFAULT_SETTINGS = {
  projectPath: "New GEOD3 Project"
};
var GEOD3 = class extends import_obsidian6.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_GEOD3_PROJECT,
      (leaf) => new GEOD3View(leaf, this.settings.projectPath)
    );
    this.addRibbonIcon("boxes", "Open GEOD3", () => {
      this.activateView(VIEW_TYPE_GEOD3_PROJECT);
    });
    this.addCommand({
      id: "open-geod3-view",
      name: "Open GEOD3",
      callback: () => {
        this.activateView(VIEW_TYPE_GEOD3_PROJECT);
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  activateView(view_type) {
    let leaf = null;
    leaf = this.app.workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian6.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    leaf.setViewState({ type: view_type, active: true });
  }
};
var SampleSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.projectPath).onChange(async (value) => {
      this.plugin.settings.projectPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2dlb2QzLXZpZXcudHMiLCAiY2xhc3Nlcy9wcm9qZWN0LnRzIiwgImNsYXNzZXMvdGFicy9maWxlLW1hbmFnZXIudHMiLCAiY2xhc3Nlcy90YWJzL3RhYi50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9nZW9kMy1maWxlLnRzIiwgImNsYXNzZXMvdGFicy9maWxlLXR5cGVzL2dlb2QzLWZvbGRlci50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9yZWFsLWZpbGUudHMiLCAiY2xhc3Nlcy9zdHJ1Y3RzL3N0cnVjdC50cyIsICJjbGFzc2VzL2Z1bmN0aW9ucy9mdW5jdGlvbi50cyIsICJjbGFzc2VzL3RhYnMvZ2VvZDMtb2JqZWN0LnRzIiwgImNsYXNzZXMvdGFicy9nYW1lLXZpZXcudHMiLCAiY2xhc3Nlcy90YWJzL3NjZW5lLXZpZXcudHMiLCAiY2xhc3Nlcy90YWJzL3NjcmlwdC1lZGl0b3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEdFT0QzVmlldywgVklFV19UWVBFX0dFT0QzX1BST0pFQ1QgfSBmcm9tICdjbGFzc2VzL2dlb2QzLXZpZXcnO1xyXG5pbXBvcnQgeyBBcHAsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLyoqXHJcbiAqIEdFTzpEMyBzdGFuZHMgZm9yIEdhbWUgRW5naW5lIGluIE9ic2lkaWFuOiBEZXZlbG9wZWQgYnkgM3JkLXBhcnR5LlxyXG4gKi9cclxuaW50ZXJmYWNlIEdFT0QzU2V0dGluZ3Mge1xyXG5cdHByb2plY3RQYXRoOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEdFT0QzU2V0dGluZ3MgPSB7XHJcblx0cHJvamVjdFBhdGg6ICdOZXcgR0VPRDMgUHJvamVjdCdcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR0VPRDMgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBHRU9EM1NldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFxyXG5cdFx0XHRWSUVXX1RZUEVfR0VPRDNfUFJPSkVDVCxcclxuXHRcdFx0KGxlYWYpID0+IG5ldyBHRU9EM1ZpZXcobGVhZiwgdGhpcy5zZXR0aW5ncy5wcm9qZWN0UGF0aClcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKCdib3hlcycsICdPcGVuIEdFT0QzJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmFjdGl2YXRlVmlldyhWSUVXX1RZUEVfR0VPRDNfUFJPSkVDVCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ29wZW4tZ2VvZDMtdmlldycsXHJcblx0XHRcdG5hbWU6ICdPcGVuIEdFT0QzJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmFjdGl2YXRlVmlldyhWSUVXX1RZUEVfR0VPRDNfUFJPSkVDVCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNhbXBsZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdGFjdGl2YXRlVmlldyh2aWV3X3R5cGU6IHN0cmluZykge1xyXG5cdFx0bGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3RhYicpO1xyXG5cdFx0aWYgKGxlYWYgPT09IG51bGwpIHtcclxuXHRcdFx0bmV3IE5vdGljZShcIkZhaWxlZCB0byBjcmVhdGUgdmlldzogd29ya3NwYWNlIGxlYWYgd2FzIG51bGxcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogdmlld190eXBlLCBhY3RpdmU6IHRydWUgfSk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBTYW1wbGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBHRU9EMztcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogR0VPRDMpIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdEZWZhdWx0IFNvdXJjZSBQYXRoJylcclxuXHRcdFx0LnNldERlc2MoJ1RoZSB2YXVsdCBwYXRoIHRvIGF1dG9tYXRpY2FsbHkgZmlsbCBpbiBmb3IgdGhlIHNvdXJjZSBwYXRoJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdEZWZhdWx0IFNvdXJjZSBQYXRoJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvamVjdFBhdGgpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvamVjdFBhdGggPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEl0ZW1WaWV3LCBub3JtYWxpemVQYXRoLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBQcm9qZWN0LCBTY2VuZURUTyB9IGZyb20gJy4vcHJvamVjdCc7XHJcblxyXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0dFT0QzX1BST0pFQ1QgPSAnZ2VvZDMtdmlldyc7XHJcblxyXG4vKipcclxuICogT3BlbnMgYSBwcm9qZWN0XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR0VPRDNWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG4gICAgZGVmYXVsdFBhdGg6IHN0cmluZztcclxuICAgIHByb2plY3Q6IFByb2plY3Q7XHJcbiAgICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBkZWZhdWx0UGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobGVhZik7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UGF0aCA9IGRlZmF1bHRQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZXdUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiBWSUVXX1RZUEVfR0VPRDNfUFJPSkVDVDtcclxuICAgIH1cclxuXHJcbiAgICBnZXREaXNwbGF5VGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gJ0dFTzpEMyc7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IG1haW5FbCA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XHJcbiAgICAgICAgbWFpbkVsLmVtcHR5KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWFpbkRpdiA9IG1haW5FbC5jcmVhdGVEaXYoJ2dlb2QzLW1haW4tZGl2Jyk7XHJcbiAgICAgICAgY29uc3QgbWFpbkRpdlRlbXAgPSBtYWluRGl2LmNyZWF0ZURpdignZ2VvZDMtbWFpbi1kaXYnKTtcclxuXHJcbiAgICAgICAgbWFpbkRpdlRlbXAudGFiSW5kZXggPSAtMTtcclxuICAgICAgICBtYWluRGl2VGVtcC5mb2N1cygpO1xyXG5cclxuICAgICAgICBtYWluRGl2VGVtcC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdQYXRoIHRvIHByb2plY3Q6JyB9ICk7XHJcbiAgICAgICAgY29uc3QgcGF0aElucHV0ID0gbWFpbkRpdlRlbXAuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmRlZmF1bHRQYXRoIH0gKTtcclxuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBtYWluRGl2VGVtcC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnT3BlbicgfSApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gbm9ybWFsaXplUGF0aChwYXRoSW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhUGF0aCA9IGZvbGRlclBhdGggKyAnL1JFU0VSVkVEIEZPTERFUiBETyBOT1QgUkVOQU1FL09iamVjdHMubWQnO1xyXG4gICAgICAgICAgICB0aGlzLnByb2plY3QgPSBuZXcgUHJvamVjdCh0aGlzLmFwcCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvamVjdC5wYXRoVG9Qcm9qZWN0ID0gZm9sZGVyUGF0aDtcclxuICAgICAgICAgICAgaWYgKCFhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhkYXRhUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RUTyA9IG5ldyBTY2VuZURUTygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IGRhdGFQYXRoLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGF0aFNvRmFyID0gJyc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgIShhd2FpdCB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhkYXRhUGF0aCkpICYmIGkgPCBwYXRoUGFydHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0xhc3QgPSBpID09PSBwYXRoUGFydHMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoU29GYXIgKz0gcGF0aFBhcnRzW2ldICsgKGlzTGFzdCA/ICcnIDogJy8nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNMYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShwYXRoU29GYXIsIEpTT04uc3RyaW5naWZ5KG5ld0RUTykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihwYXRoU29GYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2plY3QuTG9hZCgpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2plY3QuRGlzcGxheShtYWluRGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VibWl0QnV0dG9uLm9uY2xpY2sgPSBvblN1Ym1pdDtcclxuICAgICAgICBtYWluRGl2VGVtcC5vbmtleWRvd24gPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgIG1haW5EaXZUZW1wLm9ua2V5ZG93biA9ICgpID0+IHt9O1xyXG4gICAgICAgICAgICAgICAgb25TdWJtaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBvbkNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMucHJvamVjdC5nYW1lVmlldy5zdGlsbFJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBub3JtYWxpemVQYXRoIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZU1hbmFnZXIgfSBmcm9tIFwiLi90YWJzL2ZpbGUtbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBHYW1lVmlldyB9IGZyb20gXCIuL3RhYnMvZ2FtZS12aWV3XCI7XHJcbmltcG9ydCB7IFNjZW5lVmlldyB9IGZyb20gXCIuL3RhYnMvc2NlbmUtdmlld1wiO1xyXG5pbXBvcnQgeyBTY3JpcHRFZGl0b3IgfSBmcm9tIFwiLi90YWJzL3NjcmlwdC1lZGl0b3JcIjtcclxuaW1wb3J0IHsgVGFiIH0gZnJvbSBcIi4vdGFicy90YWJcIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3QgfSBmcm9tIFwiLi90YWJzL2dlb2QzLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBBU0hhbmRsZXIgfSBmcm9tIFwiLi9zdHJ1Y3RzL3N0cnVjdFwiO1xyXG5pbXBvcnQgeyBBRiwgQUZIYW5kbGVyLCBBRkkgfSBmcm9tIFwiLi9mdW5jdGlvbnMvZnVuY3Rpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0IHtcclxuICAgIHBhdGhUb1Byb2plY3Q6IHN0cmluZztcclxuICAgIHRhYnM6IFRhYltdO1xyXG5cclxuICAgIGdldCBmaWxlTWFuYWdlcigpOiBHRU9EM0ZpbGVNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gPEdFT0QzRmlsZU1hbmFnZXI+IHRoaXMudGFic1swXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NlbmVWaWV3KCk6IFNjZW5lVmlldyB7XHJcbiAgICAgICAgcmV0dXJuIDxTY2VuZVZpZXc+IHRoaXMudGFic1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NyaXB0RWRpdG9yKCk6IFNjcmlwdEVkaXRvciB7XHJcbiAgICAgICAgcmV0dXJuIDxTY3JpcHRFZGl0b3I+IHRoaXMudGFic1syXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZ2FtZVZpZXcoKTogR2FtZVZpZXcge1xyXG4gICAgICAgIHJldHVybiA8R2FtZVZpZXc+IHRoaXMudGFic1szXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmlsZU1hbmFnZXJUYWJJRCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY2VuZVZpZXdUYWJJRCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY3JpcHRFZGl0b3JUYWJJRCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBnYW1lVmlld1RhYklEKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDM7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aXZlVGFiSUQ6IG51bWJlcjtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdFxyXG5cclxuICAgIFN3aXRjaFRvVGFiOiAoaW5kZXg6IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG4gICAgICAgIHRoaXMuYW5wID0gbmV3IEFwcEFuZFByb2plY3QoYXBwLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnRhYnMgPSBbXTtcclxuICAgICAgICB0aGlzLnRhYnMucHVzaChuZXcgR0VPRDNGaWxlTWFuYWdlcih0aGlzLmFucCkpO1xyXG4gICAgICAgIHRoaXMudGFicy5wdXNoKG5ldyBTY2VuZVZpZXcodGhpcy5hbnApKTtcclxuICAgICAgICB0aGlzLnRhYnMucHVzaChuZXcgU2NyaXB0RWRpdG9yKHRoaXMuYW5wKSk7XHJcbiAgICAgICAgdGhpcy50YWJzLnB1c2gobmV3IEdhbWVWaWV3KHRoaXMuYW5wKSk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVUYWJJRCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgTG9hZCgpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLkxvYWRGaWxlcygpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuR3JhYkZpbGVEZXBlbmRlbmNpZXMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLkxvYWRPYmplY3RzKCk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBMb2FkRmlsZXMoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5maWxlTWFuYWdlci5Mb2FkRmlsZXModGhpcy5hbnApO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgR3JhYkZpbGVEZXBlbmRlbmNpZXMoKSB7XHJcbiAgICAgICAgY29uc3QgZm0gPSB0aGlzLmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm0uZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXdhaXQgZm0uZmlsZXNbaV0uR3JhYkRlcGVuZGVuY2llcyh0aGlzLmFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgTG9hZE9iamVjdHMoKSB7XHJcbiAgICAgICAgY29uc3Qgc3YgPSB0aGlzLnNjZW5lVmlldztcclxuICAgICAgICBjb25zdCBwYXRoID0gbm9ybWFsaXplUGF0aCh0aGlzLmFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyAnL1JFU0VSVkVEIEZPTERFUiBETyBOT1QgUkVOQU1FL09iamVjdHMubWQnKTtcclxuICAgICAgICBjb25zdCB0RmlsZSA9IHRoaXMuYW5wLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKHBhdGgpO1xyXG4gICAgICAgIGlmICh0RmlsZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFucC5hcHAudmF1bHQuY2FjaGVkUmVhZCh0RmlsZSk7XHJcbiAgICAgICAgY29uc3QgcGxhaW5PYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIHN2Lm9iamVjdHMgPSBwbGFpbk9iai5vYmplY3RzO1xyXG4gICAgICAgIGNvbnN0IGxvYWRGdW5jdGlvbiA9IChwbGFpbkZ1bmN0OiBhbnkpOiBBRkkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdGdW5jdCA9IE9iamVjdC5hc3NpZ24oQUZIYW5kbGVyLkNyZWF0ZUkocGxhaW5GdW5jdC50eXBlLCBwbGFpbkZ1bmN0LnBhcmFtZXRlcnMpLCBwbGFpbkZ1bmN0KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdGdW5jdC5kZWZhdWx0UGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNTdHJ1Y3QgPSBwbGFpbkZ1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzW2ldLm5hbWUgIT09IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGlmIChpc1N0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluU3RydWN0ID0gcGxhaW5GdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdGdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXSA9IE9iamVjdC5hc3NpZ24oQVNIYW5kbGVyLkNyZWF0ZUkocGxhaW5TdHJ1Y3QudHlwZSwgcGxhaW5TdHJ1Y3Quc2NvcGUsIHBsYWluU3RydWN0Lm5hbWUpLCBwbGFpblN0cnVjdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Z1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzW2ldID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RnVuY3QucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNTdHJ1Y3QgPSBwbGFpbkZ1bmN0LnBhcmFtZXRlcnNbaV0ubmFtZSAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhaW5TdHJ1Y3QgPSBwbGFpbkZ1bmN0LnBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RnVuY3QucGFyYW1ldGVyc1tpXSA9IE9iamVjdC5hc3NpZ24oQVNIYW5kbGVyLkNyZWF0ZUkocGxhaW5TdHJ1Y3QudHlwZSwgcGxhaW5TdHJ1Y3Quc2NvcGUsIHBsYWluU3RydWN0Lm5hbWUpLCBwbGFpblN0cnVjdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Z1bmN0LnBhcmFtZXRlcnNbaV0gPSBsb2FkRnVuY3Rpb24ocGxhaW5GdW5jdC5wYXJhbWV0ZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3RnVuY3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxhaW5PYmoub2JqZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdPYmogPSBPYmplY3QuYXNzaWduKG5ldyBHRU9EM09iamVjdChpKSwgcGxhaW5PYmoub2JqZWN0c1tpXSk7XHJcbiAgICAgICAgICAgIHN2Lm9iamVjdHNbaV0gPSBuZXdPYmo7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmV3T2JqLnZhcmlhYmxlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhaW5WYXIgPSBzdi5vYmplY3RzW2ldLnZhcmlhYmxlc1tqXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhciA9IE9iamVjdC5hc3NpZ24oQVNIYW5kbGVyLkNyZWF0ZUkocGxhaW5WYXIudHlwZSwgcGxhaW5WYXIuc2NvcGUsIHBsYWluVmFyLm5hbWUpLCBwbGFpblZhcik7XHJcbiAgICAgICAgICAgICAgICBzdi5vYmplY3RzW2ldLnZhcmlhYmxlc1tqXSA9IG5ld1ZhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5ld09iai5vblN0YXJ0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFpbkZ1bmN0ID0gc3Yub2JqZWN0c1tpXS5vblN0YXJ0W2pdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RnVuY3QgPSBsb2FkRnVuY3Rpb24ocGxhaW5GdW5jdCk7XHJcbiAgICAgICAgICAgICAgICBzdi5vYmplY3RzW2ldLm9uU3RhcnRbal0gPSBuZXdGdW5jdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5ld09iai5vbk5ld0ZyYW1lLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFpbkZ1bmN0ID0gc3Yub2JqZWN0c1tpXS5vbk5ld0ZyYW1lW2pdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RnVuY3QgPSBsb2FkRnVuY3Rpb24ocGxhaW5GdW5jdCk7XHJcbiAgICAgICAgICAgICAgICBzdi5vYmplY3RzW2ldLm9uTmV3RnJhbWVbal0gPSBuZXdGdW5jdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBEaXNwbGF5KGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFiQmFyID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtdGFiLWJhciBoYm94Jyk7XHJcbiAgICAgICAgY29uc3QgdGFiQ29udGFpbmVyID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtdGFiLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBjb25zdCB0YWJJY29uczogSFRNTEVsZW1lbnRbXSA9IFtdO1xyXG5cclxuICAgICAgICBjb25zdCBmaWxlc1RhYiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBHRU9EM0ZpbGVNYW5hZ2VyLmljb24gfSApO1xyXG4gICAgICAgIGNvbnN0IHNjZW5lVmlld1RhYiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBTY2VuZVZpZXcuaWNvbiB9ICk7XHJcbiAgICAgICAgY29uc3Qgc2NyaXB0RWRpdG9yVGFiID0gdGFiQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IFNjcmlwdEVkaXRvci5pY29uIH0gKTtcclxuICAgICAgICBjb25zdCBnYW1lVGFiID0gdGFiQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IEdhbWVWaWV3Lmljb24gfSApO1xyXG4gICAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1RDgzRFx1RENCRVNhdmUnIH0gKTtcclxuICAgICAgICBzYXZlQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1zZWNvbmRhcnktYnV0dG9uJztcclxuICAgICAgICBzYXZlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1x1MjdGM1NhdmluZy4uLic7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBub3JtYWxpemVQYXRoKHRoaXMuYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArICcvUkVTRVJWRUQgRk9MREVSIERPIE5PVCBSRU5BTUUvT2JqZWN0cy5tZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkobmV3IFNjZW5lRFRPKHRoaXMuYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHMpKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgZGF0YSk7XHJcbiAgICAgICAgICAgIHNhdmVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdUQ4M0RcdURDQkVTYXZlJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZpbGVzVGFiLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbic7XHJcbiAgICAgICAgc2NlbmVWaWV3VGFiLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbic7XHJcbiAgICAgICAgc2NyaXB0RWRpdG9yVGFiLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbic7XHJcbiAgICAgICAgZ2FtZVRhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG5cclxuICAgICAgICB0YWJJY29ucy5wdXNoKGZpbGVzVGFiKTtcclxuICAgICAgICB0YWJJY29ucy5wdXNoKHNjZW5lVmlld1RhYik7XHJcbiAgICAgICAgdGFiSWNvbnMucHVzaChzY3JpcHRFZGl0b3JUYWIpO1xyXG4gICAgICAgIHRhYkljb25zLnB1c2goZ2FtZVRhYik7XHJcblxyXG4gICAgICAgIHRhYkljb25zW3RoaXMuYWN0aXZlVGFiSURdLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbi1vcGVuZWQnO1xyXG4gICAgICAgIHRoaXMudGFic1t0aGlzLmFjdGl2ZVRhYklEXS5Gb2N1cyh0YWJDb250YWluZXIpO1xyXG5cclxuICAgICAgICBjb25zdCBzd2l0Y2hUb1RhYiA9IGFzeW5jIChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHRhYkljb25zW3RoaXMuYWN0aXZlVGFiSURdLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbic7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudGFic1t0aGlzLmFjdGl2ZVRhYklEXS5VbkZvY3VzKHRhYkNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSUQgPSBpbmRleDtcclxuICAgICAgICAgICAgdGFiSWNvbnNbdGhpcy5hY3RpdmVUYWJJRF0uY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uLW9wZW5lZCc7XHJcbiAgICAgICAgICAgIHRoaXMudGFic1t0aGlzLmFjdGl2ZVRhYklEXS5Gb2N1cyh0YWJDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5Td2l0Y2hUb1RhYiA9IHN3aXRjaFRvVGFiO1xyXG5cclxuICAgICAgICBmaWxlc1RhYi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2hUb1RhYigwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2NlbmVWaWV3VGFiLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaFRvVGFiKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzY3JpcHRFZGl0b3JUYWIub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoVG9UYWIoMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdhbWVUYWIub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoVG9UYWIoMyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwQW5kUHJvamVjdCB7XHJcbiAgICBhcHA6IEFwcDtcclxuICAgIHByb2plY3Q6IFByb2plY3Q7XHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJvamVjdDogUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTY2VuZURUTyB7XHJcbiAgICBvYmplY3RzOiBHRU9EM09iamVjdFtdO1xyXG4gICAgY29uc3RydWN0b3Iob2JqZWN0czogR0VPRDNPYmplY3RbXSA9IFtdKSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzID0gb2JqZWN0cztcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBURmlsZSwgVEZvbGRlciB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlIH0gZnJvbSBcIi4vZmlsZS10eXBlcy9nZW9kMy1maWxlXCI7XHJcbmltcG9ydCB7IEdFT0QzRm9sZGVyIH0gZnJvbSBcIi4vZmlsZS10eXBlcy9nZW9kMy1mb2xkZXJcIjtcclxuaW1wb3J0IHsgSW1hZ2VGaWxlLCBTb3VuZEZpbGUsIFZpZGVvRmlsZSB9IGZyb20gXCIuL2ZpbGUtdHlwZXMvcmVhbC1maWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR0VPRDNGaWxlTWFuYWdlciBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdUQ4M0RcdURDQzEnO1xyXG4gICAgZmlsZXM6IEdFT0QzRmlsZVtdO1xyXG4gICAgbWFpbkRpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBmaWxlRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHByb3BlcnRpZXNEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgXHJcbiAgICBnZXQgaW1hZ2VGaWxlcygpOiBJbWFnZUZpbGVbXSB7XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzW2ldIGluc3RhbmNlb2YgSW1hZ2VGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCg8SW1hZ2VGaWxlPiB0aGlzLmZpbGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgc291bmRGaWxlcygpOiBTb3VuZEZpbGVbXSB7XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzW2ldIGluc3RhbmNlb2YgU291bmRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCg8U291bmRGaWxlPiB0aGlzLmZpbGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgdmlkZW9GaWxlcygpOiBWaWRlb0ZpbGVbXSB7XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzW2ldIGluc3RhbmNlb2YgVmlkZW9GaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCg8VmlkZW9GaWxlPiB0aGlzLmZpbGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG5cclxuICAgIEdldEZpbGUocGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzW2ldLnBhdGggPT09IHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbGVzW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGF0aCAnICsgcGF0aCArICcgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0RmlsZUJ5UHJpbWl0aXZlUGF0aChwYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbaV0ucGF0aC52YWx1ZU9mKCkgPT09IHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbGVzW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGF0aCAnICsgcGF0aCArICcgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgc3VwZXIoYW5wKTtcclxuICAgICAgICB0aGlzLmZpbGVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEtOT1dOX0ZJTEVfVFlQRVMgPSBbXHJcbiAgICAgICAgJ1x1RDgzRFx1RENDMUZvbGRlcicsXHJcbiAgICAgICAgJ1x1RDgzRFx1RERCQ1x1RkUwRkltYWdlJyxcclxuICAgICAgICAnXHVEODNEXHVERDBBU291bmQnLFxyXG4gICAgICAgICdcdUQ4M0NcdURGOUVcdUZFMEZWaWRlbydcclxuICAgIF1cclxuXHJcbiAgICBwcml2YXRlIEFzc2lnbk9iamVjdEZyb21GaWxlVHlwZShwbGFpbk9iajogYW55LCBwYXRoOiBzdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZyk6IEdFT0QzRmlsZSB7XHJcbiAgICAgICAgcGxhaW5PYmoucGF0aCA9IHBhdGg7XHJcbiAgICAgICAgcGxhaW5PYmoucGFyZW50UGF0aCA9IHBhcmVudFBhdGg7XHJcbiAgICAgICAgc3dpdGNoKHBsYWluT2JqLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVEQ0MxRm9sZGVyJzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBHRU9EM0ZvbGRlcihwYXRoLCBwYXJlbnRQYXRoKSwgcGxhaW5PYmopO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdUREQkNcdUZFMEZJbWFnZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgSW1hZ2VGaWxlKHBhdGgsIHBhcmVudFBhdGgpLCBwbGFpbk9iaik7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1REQwQVNvdW5kJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBTb3VuZEZpbGUocGF0aCwgcGFyZW50UGF0aCksIHBsYWluT2JqKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNDXHVERjlFXHVGRTBGVmlkZW8nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFZpZGVvRmlsZShwYXRoLCBwYXJlbnRQYXRoKSwgcGxhaW5PYmopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQ3JlYXRlRmlsZU9mVHlwZShwYXRoOiBzdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZywgdHlwZTogc3RyaW5nKTogR0VPRDNGaWxlIHtcclxuICAgICAgICBzd2l0Y2godHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdURDQzFGb2xkZXInOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHRU9EM0ZvbGRlcihwYXRoLCBwYXJlbnRQYXRoKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVEREJDXHVGRTBGSW1hZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbWFnZUZpbGUocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1REQwQVNvdW5kJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU291bmRGaWxlKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0NcdURGOUVcdUZFMEZWaWRlbyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZpZGVvRmlsZShwYXRoLCBwYXJlbnRQYXRoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgTG9hZEZpbGVzKGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMuZmlsZXMgPSBbXTtcclxuICAgICAgICBjb25zdCBhcHAgPSBhbnAuYXBwO1xyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuXHJcbiAgICAgICAgY29uc3QgcHJvamVjdEZvbGRlciA9IHZhdWx0LmdldEZvbGRlckJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QpO1xyXG4gICAgICAgIGlmIChwcm9qZWN0Rm9sZGVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvamVjdCBmb2xkZXIgZG9lcyBub3QgZXhpc3QnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbGRlclN0YWNrOiBbVEZvbGRlciwgR0VPRDNGb2xkZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IFRGaW5kZXggPSAwO1xyXG4gICAgICAgIGNvbnN0IEdGaW5kZXggPSAxO1xyXG4gICAgICAgIGNvbnN0IENGaW5kZXggPSAyO1xyXG5cclxuICAgICAgICBjb25zdCByb290UGF0aCA9IG5ldyBTdHJpbmcoJy8nKTtcclxuICAgICAgICBjb25zdCByb290ID0gbmV3IEdFT0QzRm9sZGVyKHJvb3RQYXRoLCByb290UGF0aCk7XHJcbiAgICAgICAgZm9sZGVyU3RhY2sucHVzaChbcHJvamVjdEZvbGRlciwgcm9vdCwgMF0pO1xyXG4gICAgICAgIHRoaXMuZmlsZXMucHVzaChyb290KTtcclxuICAgICAgICBsZXQgZGVwdGggPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAoZm9sZGVyU3RhY2tbMF1bQ0ZpbmRleF0gPCBwcm9qZWN0Rm9sZGVyLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyRm9sZGVyID0gZm9sZGVyU3RhY2tbZGVwdGhdO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJySW5kZXggPSBjdXJyRm9sZGVyW0NGaW5kZXhdO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyRmlsZSA9IGN1cnJGb2xkZXJbVEZpbmRleF0uY2hpbGRyZW5bY3VyckluZGV4XTtcclxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gY3VyckZpbGUucGF0aC5yZXBsYWNlKHByb2plY3QucGF0aFRvUHJvamVjdCwgJycpO1xyXG4gICAgICAgICAgICBpZiAoY3VyckZpbGUubmFtZSAhPT0gJ1JFU0VSVkVEIEZPTERFUiBETyBOT1QgUkVOQU1FJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJGaWxlIGluc3RhbmNlb2YgVEZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0dFT0QzRm9sZGVyID0gbmV3IEdFT0QzRm9sZGVyKHJlbGF0aXZlUGF0aCwgY3VyckZvbGRlcltHRmluZGV4XS5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2gobmV3R0VPRDNGb2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJGb2xkZXJbR0ZpbmRleF0uZmlsZXMucHVzaChuZXdHRU9EM0ZvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2sucHVzaChbY3VyckZpbGUsIG5ld0dFT0QzRm9sZGVyLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyckZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyRmlsZS5leHRlbnNpb24gPT09ICdtZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQoPFRGaWxlPiBjdXJyRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluT2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RmlsZSA9IHRoaXMuQXNzaWduT2JqZWN0RnJvbUZpbGVUeXBlKHBsYWluT2JqLCByZWxhdGl2ZVBhdGguc2xpY2UoMCwgLTMpLCBjdXJyRm9sZGVyW0dGaW5kZXhdLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0dGaW5kZXhdLmZpbGVzLnB1c2gobmV3RmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZXMucHVzaChuZXdGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyckZvbGRlcltDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyckZvbGRlcltDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmb2xkZXJTdGFja1tkZXB0aF1bQ0ZpbmRleF0gPj0gZm9sZGVyU3RhY2tbZGVwdGhdW1RGaW5kZXhdLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGRlcHRoID4gMCAmJiBmb2xkZXJTdGFja1tkZXB0aF1bQ0ZpbmRleF0gPj0gZm9sZGVyU3RhY2tbZGVwdGhdW1RGaW5kZXhdLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIGFzeW5jIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLm1haW5EaXYgPSBkaXY7XHJcbiAgICAgICAgdGhpcy5tYWluRGl2LmNsYXNzTmFtZSA9ICdnZW9kMy10YWItY29udGFpbmVyIGhib3gnO1xyXG4gICAgICAgIHRoaXMuZmlsZURpdiA9IGRpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXNEaXYgPSBkaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcbiAgICAgICAgdGhpcy5maWxlRGl2LnN0eWxlLndpZHRoID0gJzcwJSc7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzRGl2LnN0eWxlLndpZHRoID0gJzMwJSc7XHJcbiAgICAgICAgdGhpcy5maWxlc1swXS5PcGVuKHRoaXMuYW5wKTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUYWIge1xyXG4gICAgc3RhdGljIGljb246IHN0cmluZztcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGFucCBhIHJlZmVyZW5jZSB0byB0aGUgb2JzaWRpYW4gYXBwIHRvIHJlYWQgYW5kIHdyaXRlIGZpbGVzIGFzIHdlbGwgYXMgdGhlIGdlb2QzIHByb2plY3QgdGhpcyB0YWIgc2hvdWxkIGxvb2sgYXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIChmb2N1cyBvbikgdGhlIHRhYlxyXG4gICAgICogQHBhcmFtIGRpdiB0aGUgbWFpbiBkaXYgb2YgdGhlIHZpZXdcclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3QgRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFVuZm9jdXMgdGhpcyB0YWIgYmVmb3JlIGZvY3VzaW5nIG9uIGFub3RoZXIgb25lLlxyXG4gICAgICogVGhpcyBwcmV2ZW50cyB0aGluZ3MgaGFwcGVuaW5nIGluIHRoZSBiYWNrZ3JvdW5kIHdoaWxlIHRoZSB1c2VyIGlzbid0IGxvb2tpbmcsXHJcbiAgICAgKiBvciBqdXN0IHBhdXNpbmcgbG9vcHNcclxuICAgICAqIEBwYXJhbSBkaXYgdGhlIG1haW4gZGl2IG9mIHRoZSB2aWV3XHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0IFVuRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xyXG59IiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tICdjbGFzc2VzL3Byb2plY3QnO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGVNYW5hZ2VyIH0gZnJvbSAnLi4vZmlsZS1tYW5hZ2VyJztcclxuaW1wb3J0IHsgR0VPRDNGb2xkZXIgfSBmcm9tICcuL2dlb2QzLWZvbGRlcic7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR0VPRDNGaWxlIHtcclxuICAgIHBhcmVudFBhdGg6IFN0cmluZztcclxuICAgIGdldFBhcmVudChtYW5hZ2VyOiBHRU9EM0ZpbGVNYW5hZ2VyKTogR0VPRDNGb2xkZXIge1xyXG4gICAgICAgIHJldHVybiA8R0VPRDNGb2xkZXI+IG1hbmFnZXIuR2V0RmlsZSh0aGlzLnBhcmVudFBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBhdGggdG8gdGhpcyBmaWxlIFJFTEFUSVZFIFRPIFRIRSBQUk9KRUNUIEZPTERFUiwgTk9UIFRIRSBWQVVMVFxyXG4gICAgICovXHJcbiAgICBwYXRoOiBTdHJpbmc7XHJcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHRoaXMucGF0aC52YWx1ZU9mKCkuc3BsaXQoJy8nKTtcclxuICAgICAgICBpZiAodGhpcy5wYXRoLnZhbHVlT2YoKSA9PT0gJy8nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncm9vdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGFic3RyYWN0IGdldCBkYXRhKCk6IGFueTtcclxuICAgIGNvbnN0cnVjdG9yKHBhdGg6IFN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRQYXRoID0gcGFyZW50UGF0aDtcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgR3JhYkRlcGVuZGVuY2llcyhhbnA6IEFwcEFuZFByb2plY3QpOiBQcm9taXNlPHZvaWQ+IHt9XHJcbiAgICBhc3luYyBEaXNwbGF5VGh1bWJuYWlsKGFucDogQXBwQW5kUHJvamVjdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICB0aHVtYm5haWxEaXYuZW1wdHkoKTtcclxuXHRcdHRodW1ibmFpbERpdi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldFBhcmVudChtYW5hZ2VyKS5TZWxlY3RGaWxlKGFucCwgdGhpcywgdGh1bWJuYWlsRGl2KTtcclxuXHRcdH1cclxuXHRcdHRodW1ibmFpbERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiB0aGlzLm5hbWUgfSApO1xyXG5cdFx0dGh1bWJuYWlsRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuICAgIH1cclxuICAgIGFzeW5jIE9wZW4oYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIG1hbmFnZXIuZmlsZURpdi5lbXB0eSgpO1xyXG4gICAgICAgIG1hbmFnZXIuZmlsZURpdi5jbGFzc05hbWUgPSAndmJveCc7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSBtYW5hZ2VyLmZpbGVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvIGJhY2sgdG8gJyArIHRoaXMuZ2V0UGFyZW50KG1hbmFnZXIpLm5hbWUgfSApO1xyXG5cclxuICAgICAgICBiYWNrQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0UGFyZW50KG1hbmFnZXIpLk9wZW4oYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBEaXNwbGF5UHJvcGVydGllcyhhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmVtcHR5KCk7XHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm5hbWUgfSApO1xyXG5cdFx0bWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2YXVsdCA9IGFucC5hcHAudmF1bHQ7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG5cclxuICAgICAgICBuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCArIG9yaWdpbmFsUGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGguc2xpY2UoMCwgLWN1cnJOYW1lLmxlbmd0aCkgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0RmlsZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQucmVuYW1lKHRGaWxlLCBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdQYXRoICsgJy5tZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IG5ld1BhdGg7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRodW1ibmFpbChhbnAsIHRodW1ibmFpbERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgU2F2ZShhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gbm9ybWFsaXplUGF0aChhbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5tZCcpO1xyXG4gICAgICAgIGFucC5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gXCIuLi9maWxlLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlIH0gZnJvbSBcIi4vZ2VvZDMtZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzRm9sZGVyIGV4dGVuZHMgR0VPRDNGaWxlIHtcclxuICAgIG92ZXJyaWRlIHR5cGUgPSAnXHVEODNEXHVEQ0MxRm9sZGVyJztcclxuICAgIGZpbGVzOiBHRU9EM0ZpbGVbXTtcclxuICAgIHNlbGVjdGVkVGh1bWJuYWlsOiBbR0VPRDNGaWxlLCBIVE1MRGl2RWxlbWVudF0gfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgb3ZlcnJpZGUgZ2V0IGRhdGEoKTogR0VPRDNGaWxlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhdGg6IFN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgdGhpcy5maWxlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIGFzeW5jIE9wZW4oYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIHN1cGVyLk9wZW4oYW5wKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhbnAuYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuICAgICAgICBjb25zdCBjcmVhdGVEaXYgPSBtYW5hZ2VyLmZpbGVEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcbiAgICAgICAgY29uc3QgdHlwZURyb3Bkb3duID0gY3JlYXRlRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEdFT0QzRmlsZU1hbmFnZXIuS05PV05fRklMRV9UWVBFUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyVHlwZSA9IEdFT0QzRmlsZU1hbmFnZXIuS05PV05fRklMRV9UWVBFU1tpXTtcclxuICAgICAgICAgICAgdHlwZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJUeXBlLCB2YWx1ZTogY3VyclR5cGUgfSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0eXBlRHJvcGRvd24udmFsdWUgPSBHRU9EM0ZpbGVNYW5hZ2VyLktOT1dOX0ZJTEVfVFlQRVNbMF07XHJcbiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gY3JlYXRlRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJ1VubmFtZWQnIH0gKTtcclxuICAgICAgICBjb25zdCBhZGRCdXR0b24gPSBjcmVhdGVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcclxuICAgICAgICBhZGRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UmVsUGF0aCA9IHRoaXMucGF0aCArICh0aGlzLnBhdGgudmFsdWVPZigpID09PSAnLycgPyAnJyA6ICcvJykgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdSZWxQYXRoO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdHRU9EM0ZpbGUgPSBHRU9EM0ZpbGVNYW5hZ2VyLkNyZWF0ZUZpbGVPZlR5cGUobmV3UmVsUGF0aCwgdGhpcy5wYXRoLCB0eXBlRHJvcGRvd24udmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZURyb3Bkb3duLnZhbHVlID09PSAnXHVEODNEXHVEQ0MxRm9sZGVyJykge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQuY3JlYXRlRm9sZGVyKG5ld1BhdGgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQuY3JlYXRlKG5ld1BhdGggKyAnLm1kJywgSlNPTi5zdHJpbmdpZnkobmV3R0VPRDNGaWxlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFuYWdlci5maWxlcy5wdXNoKG5ld0dFT0QzRmlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZXMucHVzaChuZXdHRU9EM0ZpbGUpO1xyXG4gICAgICAgICAgICB0aGlzLk9wZW4oYW5wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgY29uc3QgZm9sZGVyRGl2ID0gbWFuYWdlci5maWxlRGl2LmNyZWF0ZURpdignZ2VvZDMtZm9sZGVyJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZXNbaV0uRGlzcGxheVRodW1ibmFpbChhbnAsIGZvbGRlckRpdi5jcmVhdGVEaXYoJ2dlb2QzLWZpbGUtdGh1bWJuYWlsIHBvaW50ZXItaG92ZXInKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFNlbGVjdEZpbGUoYW5wOiBBcHBBbmRQcm9qZWN0LCBuZXdTZWxlY3RlZEZpbGU6IEdFT0QzRmlsZSwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVGh1bWJuYWlsICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFswXSA9PT0gbmV3U2VsZWN0ZWRGaWxlICYmIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMV0gPT09IHRodW1ibmFpbERpdikge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzBdLk9wZW4oYW5wKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRodW1ibmFpbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzFdLmNsYXNzTmFtZSA9ICdnZW9kMy1maWxlLXRodW1ibmFpbCBwb2ludGVyLWhvdmVyJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsID0gW25ld1NlbGVjdGVkRmlsZSwgdGh1bWJuYWlsRGl2XTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFsxXS5jbGFzc05hbWUgPSAnZ2VvZDMtZmlsZS10aHVtYm5haWwgc2VsZWN0ZWQgcG9pbnRlci1ob3Zlcic7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMF0uRGlzcGxheVByb3BlcnRpZXMoYW5wLCB0aHVtYm5haWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5UHJvcGVydGllcyhhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5uYW1lIH0gKTtcclxuICAgICAgICBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1R5cGU6ICcgKyB0aGlzLnR5cGUgfSApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYW5wLmFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcblxyXG4gICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgICBjb25zdCB0RmlsZSA9IHZhdWx0LmdldEZvbGRlckJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBvcmlnaW5hbFBhdGgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyTmFtZSA9IHRoaXMubmFtZTtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IHRoaXMucGF0aC5zbGljZSgwLCAtY3Vyck5hbWUubGVuZ3RoKSArIG5hbWVJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHRGaWxlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXVsdC5yZW5hbWUodEZpbGUsIHByb2plY3QucGF0aFRvUHJvamVjdCArIG5ld1BhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IG5ld1BhdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclN0YWNrOiBbR0VPRDNGb2xkZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBHRmluZGV4ID0gMDtcclxuICAgICAgICAgICAgY29uc3QgQ0ZpbmRleCA9IDE7XHJcbiAgICAgICAgICAgIGZvbGRlclN0YWNrLnB1c2goW3RoaXMsIDBdKTtcclxuICAgICAgICAgICAgbGV0IGRlcHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChmb2xkZXJTdGFja1swXVtDRmluZGV4XSA8IHRoaXMuZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyRm9sZGVyID0gZm9sZGVyU3RhY2tbZGVwdGhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckluZGV4ID0gY3VyckZvbGRlcltDRmluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJGaWxlID0gY3VyckZvbGRlcltHRmluZGV4XS5maWxlc1tjdXJySW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgY3VyckZpbGUucGF0aCA9IGN1cnJGaWxlLnBhdGgucmVwbGFjZShvcmlnaW5hbFBhdGgudmFsdWVPZigpLCBuZXdQYXRoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyRmlsZSBpbnN0YW5jZW9mIEdFT0QzRm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2sucHVzaChbY3VyckZpbGUsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdID49IGZvbGRlclN0YWNrW2RlcHRoXVtHRmluZGV4XS5maWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZGVwdGggPiAwICYmIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSA+PSBmb2xkZXJTdGFja1tkZXB0aF1bR0ZpbmRleF0uZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGh1bWJuYWlsKGFucCwgdGh1bWJuYWlsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZSB9IGZyb20gXCIuL2dlb2QzLWZpbGVcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gXCIuLi9maWxlLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlYWxGaWxlIGV4dGVuZHMgR0VPRDNGaWxlIHtcclxuICAgIHByb3RlY3RlZCBzcmM6IHN0cmluZztcclxuICAgIG92ZXJyaWRlIGdldCBkYXRhKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhdGg6IFN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgdGhpcy5zcmMgPSAnJztcclxuICAgIH1cclxuICAgIG92ZXJyaWRlIGFzeW5jIE9wZW4oYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIHN1cGVyLk9wZW4oYW5wKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlBY3R1YWxGaWxlKG1hbmFnZXIuZmlsZURpdik7XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBhc3luYyBHcmFiRGVwZW5kZW5jaWVzKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFwcCA9IGFucC5hcHA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0ID0gYXBwLnZhdWx0O1xyXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb0FjdHVhbEZpbGUgPSBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyB0aGlzLnBhdGggKyAnLmFjdHVhbC1maWxlJztcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHBhdGhUb0FjdHVhbEZpbGUpO1xyXG4gICAgICAgICAgICBpZiAodEZpbGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCB2YXVsdC5yZWFkQmluYXJ5KHRGaWxlKTtcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFthcnJheUJ1ZmZlcl0pO1xyXG4gICAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlQcm9wZXJ0aWVzKGFucDogQXBwQW5kUHJvamVjdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuZW1wdHkoKTtcclxuXHRcdGNvbnN0IG5hbWVJbnB1dCA9IG1hbmFnZXIucHJvcGVydGllc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMubmFtZSB9ICk7XHJcblx0XHRtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1R5cGU6ICcgKyB0aGlzLnR5cGUgfSApO1xyXG5cdFx0Y29uc3QgY3VyckZpbGVEaXYgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5QWN0dWFsRmlsZShjdXJyRmlsZURpdik7XHJcblx0XHRjb25zdCBmaWxlSW5wdXQgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnZmlsZScgfSApO1xyXG5cdFx0XHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhbnAuYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuXHJcbiAgICAgICAgbmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSB0aGlzLnBhdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRGaWxlMSA9IHZhdWx0LmdldEZpbGVCeVBhdGgocHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgb3JpZ2luYWxQYXRoICsgJy5tZCcpO1xyXG4gICAgICAgICAgICBjb25zdCB0RmlsZTIgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCArIG9yaWdpbmFsUGF0aCArICcuYWN0dWFsLWZpbGUnKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGguc2xpY2UoMCwgLWN1cnJOYW1lLmxlbmd0aCkgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0RmlsZTEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LnJlbmFtZSh0RmlsZTEsIHByb2plY3QucGF0aFRvUHJvamVjdCArIG5ld1BhdGggKyAnLm1kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRGaWxlMiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQucmVuYW1lKHRGaWxlMiwgcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgbmV3UGF0aCArICcuYWN0dWFsLWZpbGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBuZXdQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUaHVtYm5haWwoYW5wLCB0aHVtYm5haWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcclxuICAgICAgICAgICAgaWYgKGZpbGVBcnJheSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlQXJyYXlbMF0uYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb01ERmlsZSA9IG5vcm1hbGl6ZVBhdGgoYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArIHRoaXMucGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb0FjdHVhbEZpbGUgPSBub3JtYWxpemVQYXRoKGFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyB0aGlzLnBhdGggKyAnLmFjdHVhbC1maWxlJyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aFRvTURGaWxlLCBKU09OLnN0cmluZ2lmeSh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkocGF0aFRvQWN0dWFsRmlsZSwgYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJGaWxlRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUFjdHVhbEZpbGUoY3VyckZpbGVEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFic3RyYWN0IERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxFbGVtZW50PjtcclxuICAgIGFzeW5jIFNhdmUoYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgYXdhaXQgc3VwZXIuU2F2ZShhbnApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5kYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoVG9BY3R1YWxGaWxlID0gbm9ybWFsaXplUGF0aChhbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5hY3R1YWwtZmlsZScpO1xyXG4gICAgICAgICAgICBhd2FpdCBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkocGF0aFRvQWN0dWFsRmlsZSwgYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgY29udmVydGluZyAnICsgdGhpcy5wYXRoLnZhbHVlT2YoKSArICcgdG8gYW4gYWN0dWFsIGZpbGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZUZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzRFx1RERCQ1x1RkUwRkltYWdlJztcclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+IHtcclxuICAgICAgICBjb25zdCBpbWcgPSBkaXYuY3JlYXRlRWwoJ2ltZycpO1xyXG4gICAgICAgIGltZy5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XHJcbiAgICAgICAgaW1nLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgICAgIHJldHVybiBpbWc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTb3VuZEZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzRFx1REQwQVNvdW5kJztcclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxBdWRpb0VsZW1lbnQ+IHtcclxuICAgICAgICBjb25zdCBlbCA9IGRpdi5jcmVhdGVFbCgnYXVkaW8nKTtcclxuICAgICAgICBlbC5zcmMgPSB0aGlzLnNyYztcclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb0ZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzQ1x1REY5RVx1RkUwRlZpZGVvJztcclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxWaWRlb0VsZW1lbnQ+IHtcclxuICAgICAgICBjb25zdCB2aWQgPSBkaXYuY3JlYXRlRWwoJ3ZpZGVvJyk7XHJcbiAgICAgICAgdmlkLnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcclxuICAgICAgICB2aWQuc3JjID0gdGhpcy5zcmM7XHJcbiAgICAgICAgcmV0dXJuIHZpZDtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgU2NvcGUgfSBmcm9tIFwiY2xhc3Nlcy9zY29wZVwiO1xyXG5cclxuZXhwb3J0IGVudW0gQVMge1xyXG4gICAgJ25vbmUnLFxyXG4gICAgJ2Jvb2xlYW4nLFxyXG4gICAgJ251bWJlcicsXHJcbiAgICAnc3RyaW5nJ1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNIYW5kbGVyIHtcclxuICAgIHN0YXRpYyBDb3B5KG9iajogQVNJKTogQVNJIHtcclxuICAgICAgICBsZXQgbmV3T2JqO1xyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIG5ld09iaiA9IG5ldyBBQm9vbGVhbkkob2JqLnNjb3BlLCBvYmoubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICBuZXdPYmogPSBuZXcgQU51bWJlckkob2JqLnNjb3BlLCBvYmoubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBUy5zdHJpbmc6XHJcbiAgICAgICAgICAgICAgICBuZXdPYmogPSBuZXcgQVN0cmluZ0kob2JqLnNjb3BlLCBvYmoubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3T2JqLnZhbHVlID0gb2JqLnZhbHVlO1xyXG4gICAgICAgIHJldHVybiBuZXdPYmo7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSSh0eXBlOiBBUywgc2NvcGU6IFNjb3BlLCBuYW1lOiBzdHJpbmcpOiBBU0kge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVMubm9uZTpcclxuICAgICAgICAgICAgY2FzZSBBUy5ib29sZWFuOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQm9vbGVhbkkoc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLm51bWJlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQU51bWJlckkoc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLnN0cmluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVN0cmluZ0koc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBDcmVhdGVJSShzdHJ1Y3Q6IEFTSSwgaW5zcGVjdG9yRGl2OiBIVE1MRGl2RWxlbWVudCk6IEFTSUkge1xyXG4gICAgICAgIHN3aXRjaChzdHJ1Y3QudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUJvb2xlYW5JSShzdHJ1Y3QsIGluc3BlY3RvckRpdik7XHJcbiAgICAgICAgICAgIGNhc2UgQVMubnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBTnVtYmVySUkoc3RydWN0LCBpbnNwZWN0b3JEaXYpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLnN0cmluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVN0cmluZ0lJKHN0cnVjdCwgaW5zcGVjdG9yRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlRUkoc3RydWN0OiBBU0ksIGJsb2NrRGl2OiBIVE1MRGl2RWxlbWVudCk6IEFTRUkge1xyXG4gICAgICAgIHN3aXRjaChzdHJ1Y3QudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUJvb2xlYW5FSShzdHJ1Y3QsIGJsb2NrRGl2KTtcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFOdW1iZXJFSShzdHJ1Y3QsIGJsb2NrRGl2KTtcclxuICAgICAgICAgICAgY2FzZSBBUy5zdHJpbmc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTdHJpbmdFSShzdHJ1Y3QsIGJsb2NrRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBU0kge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZTogQVM7XHJcbiAgICB2YWx1ZTogYW55O1xyXG4gICAgc2NvcGU6IFNjb3BlO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFTSTtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFTRUkge1xyXG4gICAgaW5zdGFuY2U6IEFTSTtcclxufVxyXG5cclxuLy8jcmVnaW9uIEJvb2xlYW5cclxuZXhwb3J0IGNsYXNzIEFCb29sZWFuSSBleHRlbmRzIEFTSSB7XHJcbiAgICB0eXBlID0gQVMuYm9vbGVhbjtcclxuICAgIHZhbHVlOiBib29sZWFuO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICBzdXBlcihzY29wZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUJvb2xlYW5JSSBleHRlbmRzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFCb29sZWFuSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBQm9vbGVhbkksIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFCb29sZWFuRUkgZXh0ZW5kcyBBU0VJIHtcclxuICAgIGluc3RhbmNlOiBBQm9vbGVhbkk7XHJcbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZTogQUJvb2xlYW5JLCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0gKTtcclxuICAgICAgICBpbnB1dC5jaGVja2VkID0gdGhpcy5pbnN0YW5jZS52YWx1ZTtcclxuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI5LCAwLCA1NCknXHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBpbnB1dC5jaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gQm9vbGVhblxyXG5cclxuLy8jcmVnaW9uIE51bWJlclxyXG5leHBvcnQgY2xhc3MgQU51bWJlckkgZXh0ZW5kcyBBU0kge1xyXG4gICAgdHlwZSA9IEFTLm51bWJlcjtcclxuICAgIHZhbHVlOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUsIG5hbWUgPSAnJykge1xyXG4gICAgICAgIHN1cGVyKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFOdW1iZXJJSSBleHRlbmRzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFOdW1iZXJJO1xyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEFOdW1iZXJJLCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmluc3RhbmNlLnZhbHVlICsgJycgfSApO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMjksIDAsIDU0KSdcclxuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS52YWx1ZSA9IHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFOdW1iZXJFSSBleHRlbmRzIEFTRUkge1xyXG4gICAgaW5zdGFuY2U6IEFOdW1iZXJJO1xyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEFOdW1iZXJJLCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIE51bWJlclxyXG5cclxuLy8jcmVnaW9uIFN0cmluZ1xyXG5leHBvcnQgY2xhc3MgQVN0cmluZ0kgZXh0ZW5kcyBBU0kge1xyXG4gICAgdHlwZSA9IEFTLnN0cmluZztcclxuICAgIHZhbHVlOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUsIG5hbWUgPSAnJykge1xyXG4gICAgICAgIHN1cGVyKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU3RyaW5nSUkgZXh0ZW5kcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBU3RyaW5nSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBU3RyaW5nSSwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5pbnN0YW5jZS52YWx1ZSArICcnIH0gKTtcclxuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI5LCAwLCA1NCknXHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU3RyaW5nRUkgZXh0ZW5kcyBBU0VJIHtcclxuICAgIGluc3RhbmNlOiBBU3RyaW5nSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBU3RyaW5nSSwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBTdHJpbmciLCAiaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgU2NvcGUgfSBmcm9tIFwiY2xhc3Nlcy9zY29wZVwiO1xyXG5pbXBvcnQgeyBBTnVtYmVySSwgQVMsIEFTSGFuZGxlciwgQVNJLCBBU3RyaW5nSSB9IGZyb20gXCJjbGFzc2VzL3N0cnVjdHMvc3RydWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0SGFuZGxlciB9IGZyb20gXCJjbGFzc2VzL3RhYnMvZ2VvZDMtb2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZW51bSBBRiB7XHJcbiAgICAnbm9uZScsXHJcbiAgICAnY2hhaW4nLFxyXG4gICAgJ2dldCcsXHJcbiAgICAnc2V0JyxcclxuICAgICdhZGQnXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBRkhhbmRsZXIge1xyXG4gICAgc3RhdGljIENvcHkob2JqOiBBRkkpOiBBRkkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclBhcmFtID0gb2JqLnBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChjdXJyUGFyYW0gaW5zdGFuY2VvZiBBRkkpIHtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKHRoaXMuQ29weShjdXJyUGFyYW0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKEFTSGFuZGxlci5Db3B5KGN1cnJQYXJhbSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdJKCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY2hhaW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDaGFpbkkoPEFGSVtdPiBuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEkoPEFTSVtdPiBuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLnNldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNldEkobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5hZGQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFBZGRJKG5ld1BhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUkodHlwZTogQUYsIHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpOiBBRkkge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQUYubm9uZTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jaGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNoYWluSSg8QUZJW10gfCB1bmRlZmluZWQ+IHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEkoPEFTSVtdIHwgdW5kZWZpbmVkPiBwYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5zZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTZXRJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmFkZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUFkZEkocGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUVJKG9iajogQUZJLCBibG9ja0RpdjogSFRNTERpdkVsZW1lbnQsIGFucDogQXBwQW5kUHJvamVjdCk6IEFGRUkge1xyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNoYWluOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ2hhaW5FSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuc2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU2V0RUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5hZGQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFBZGRFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBDcmVhdGVSSShvYmo6IEFGSSwgYW5wOiBBcHBBbmRQcm9qZWN0KTogQUZSSSB7XHJcbiAgICAgICAgc3dpdGNoKG9iai50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQUYubm9uZTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQURvTm90aGluZ1JJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jaGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNoYWluUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldFJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5zZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTZXRSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuYWRkOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQWRkUkkob2JqLCBhbnApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFGSSB7XHJcbiAgICB0eXBlOiBBRjtcclxuICAgIGRlZmF1bHRQYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdO1xyXG4gICAgcGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBbXTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFGRUkge1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0O1xyXG4gICAgaW5zdGFuY2U6IEFGSTtcclxuICAgIGRpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwYXJlbnRFSTogQUZFSSB8IHVuZGVmaW5lZDtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBRkksIGJsb2NrRGl2OiBIVE1MRGl2RWxlbWVudCwgYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuZGl2ID0gYmxvY2tEaXY7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgIH1cclxuICAgIGFic3RyYWN0IERpc3BsYXlCbG9jaygpOiB2b2lkO1xyXG4gICAgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9PT0gcGFyYW1ldGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyRGVmYXVsdFBhcmFtID0gdGhpcy5pbnN0YW5jZS5kZWZhdWx0UGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9IGN1cnJEZWZhdWx0UGFyYW0gaW5zdGFuY2VvZiBBU0kgPyBBU0hhbmRsZXIuQ29weShjdXJyRGVmYXVsdFBhcmFtKSA6IEFGSGFuZGxlci5Db3B5KGN1cnJEZWZhdWx0UGFyYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIE1ha2VCbG9ja0RyYWdnYWJsZShibG9jazogQUZFSSwgYW5wOiBBcHBBbmRQcm9qZWN0LCBpc0NvcHk6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCBzY3JpcHRFZGl0b3IgPSBhbnAucHJvamVjdC5zY3JpcHRFZGl0b3I7XHJcbiAgICAgICAgYmxvY2suZGl2LmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICAgICAgYmxvY2suZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2NvcHknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2tJc0NvcHkgPSBpc0NvcHk7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2sgPSBibG9jaztcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmJsb2Nrc0Rpdi5zdHlsZS5oZWlnaHQgPSAnOTAlJztcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmRlbERpdi5zdHlsZS5oZWlnaHQgPSAnMTAlJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmxvY2suZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmJsb2Nrc0Rpdi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5kZWxEaXYuc3R5bGUuaGVpZ2h0ID0gJzAlJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgU2V0UGFyYW1ldGVyRGl2KGFucDogQXBwQW5kUHJvamVjdCwgYWZlaTogQUZFSSwgcGFyYW1EaXY6IEhUTUxEaXZFbGVtZW50LCBwYXJhbUluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBzY3JpcHRFZGl0b3IgPSBhbnAucHJvamVjdC5zY3JpcHRFZGl0b3I7XHJcblxyXG4gICAgICAgIHBhcmFtRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyYW1EaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgICAgICBwYXJhbURpdi5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZ2IoMjIzLCAyMzYsIDI1NSknO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYXJhbURpdi5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgcGFyYW1EaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFyYW1EaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jayAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3QmxvY2s7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3QmxvY2tEaXY7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9ja0lzQ29weSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Jsb2NrSW5zdGFuY2UgPSBBRkhhbmRsZXIuQ29weShzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja0RpdiA9IDxIVE1MRGl2RWxlbWVudD4gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5kaXYuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrID0gQUZIYW5kbGVyLkNyZWF0ZUVJKG5ld0Jsb2NrSW5zdGFuY2UsIG5ld0Jsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5wYXJlbnRFSSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEVJID0gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5wYXJlbnRFSTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RUkuUmVtb3ZlUGFyYW1ldGVyKHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2suaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFSS5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tEaXYgPSBzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmRpdjtcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jayA9IHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tEaXYuZGV0YWNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhZmVpLmluc3RhbmNlLnBhcmFtZXRlcnNbcGFyYW1JbmRleF0gPSBuZXdCbG9jay5pbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGFmZWkuRGlzcGxheUJsb2NrKCk7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2sgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBRlJJIHtcclxuICAgIHR5cGU6IEFGO1xyXG4gICAgcGFyYW1ldGVyczogKEFTSSB8IEFGUkkpW107XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3Q7XHJcbiAgICBhYnN0cmFjdCBFeGVjdXRlKCk6IFByb21pc2U8YW55PjtcclxuICAgIGNvbnN0cnVjdG9yKG9nRnVuY3Rpb246IEFGSSwgYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gb2dGdW5jdGlvbi50eXBlO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2dGdW5jdGlvbi5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9nUGFyYW0gPSBvZ0Z1bmN0aW9uLnBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgIGxldCBjb3B5O1xyXG4gICAgICAgICAgICBpZiAob2dQYXJhbSBpbnN0YW5jZW9mIEFTSSkge1xyXG4gICAgICAgICAgICAgICAgY29weSA9IEFTSGFuZGxlci5Db3B5KG9nUGFyYW0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29weSA9IEFGSGFuZGxlci5DcmVhdGVSSShvZ1BhcmFtLCBhbnApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKGNvcHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8jcmVnaW9uIERvIE5vdGhpbmdcclxuZXhwb3J0IGNsYXNzIEFEb05vdGhpbmdJIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5ub25lO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQURvTm90aGluZ0VJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQURvTm90aGluZ0k7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubWluV2lkdGggPSAnNHZoJztcclxuICAgICAgICB0aGlzLmRpdi5zdHlsZS5taW5IZWlnaHQgPSAnNHZoJztcclxuICAgICAgICB0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDUsIDUsIDgpJztcclxuICAgIH1cclxuICAgIG92ZXJyaWRlIFJlbW92ZVBhcmFtZXRlcihwYXJhbWV0ZXI6IEFGSSk6IHZvaWQgeyB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBRG9Ob3RoaW5nUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7fVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBEbyBOb3RoaW5nXHJcblxyXG4vLyNyZWdpb24gQ2hhaW5cclxuZXhwb3J0IGNsYXNzIEFDaGFpbkkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLmNoYWluO1xyXG4gICAgZGVmYXVsdFBhcmFtZXRlcnM6IEFGSVtdO1xyXG4gICAgcGFyYW1ldGVyczogQUZJW107XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiAoQUZJKVtdIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBjb25zdCBkb05vdGhpbmcgPSBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzLnB1c2goZG9Ob3RoaW5nKTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQUZIYW5kbGVyLkNvcHkoZG9Ob3RoaW5nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUNoYWluRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBQ2hhaW5JO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgdmJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMTgsIDE4LCAyNCknO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gJ3JnYigxMDAsIDEwOSwgMTIzKSc7XHJcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gJ2ZpdC1jb250ZW50JztcclxuICAgICAgICBkaXYuc3R5bGUucGFkZGluZyA9ICcxdmgnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5nYXAgPSAnMXZoJztcclxuICAgICAgICBjb25zdCBhbnAgPSB0aGlzLmFucDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyQmxvY2tEaXYgPSBkaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJQYXJhbURpdiA9IGN1cnJCbG9ja0Rpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICAgICAgY29uc3QgY3VyclBhcmFtID0gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgY3VyclBhcmFtRUkgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoY3VyclBhcmFtLCBjdXJyUGFyYW1EaXYsIGFucCk7XHJcbiAgICAgICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKGN1cnJQYXJhbUVJLCBhbnAsIGZhbHNlKTtcclxuICAgICAgICAgICAgY3VyclBhcmFtRUkucGFyZW50RUkgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgQUZFSS5TZXRQYXJhbWV0ZXJEaXYoYW5wLCB0aGlzLCBjdXJyUGFyYW1EaXYsIGluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGN1cnJCbG9ja0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnLScgfSApO1xyXG4gICAgICAgICAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLXJlbW92ZS1idXR0b24nO1xyXG4gICAgICAgICAgICBjb25zdCBhZGRCdXR0b24gPSBjdXJyQmxvY2tEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcclxuICAgICAgICAgICAgYWRkQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhZGRCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5zcGxpY2UoaW5kZXgsIDAsIG5ldyBBRG9Ob3RoaW5nSSgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuRGlzcGxheUJsb2NrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWRkQnV0dG9uID0gZGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuXHJcbiAgICAgICAgYWRkQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5zcGxpY2UodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLmxlbmd0aCwgMCwgbmV3IEFEb05vdGhpbmdJKCkpO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG92ZXJyaWRlIFJlbW92ZVBhcmFtZXRlcihwYXJhbWV0ZXI6IEFGSSk6IHZvaWQge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbaV0gPT09IHBhcmFtZXRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldID0gQUZIYW5kbGVyLkNvcHkodGhpcy5pbnN0YW5jZS5kZWZhdWx0UGFyYW1ldGVyc1swXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQ2hhaW5SSSBleHRlbmRzIEFGUkkge1xyXG4gICAgcGFyYW1ldGVyczogQUZSSVtdO1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBhcmFtZXRlcnNbaV0uRXhlY3V0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gQ2hhaW5cclxuXHJcbi8vI3JlZ2lvbiBHZXRcclxuZXhwb3J0IGNsYXNzIEFHZXRJIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5nZXQ7XHJcbiAgICBwYXJhbWV0ZXJzOiBBU0lbXTtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IEFTSVtdIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IG9iakluZGV4ID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAnT2JqZWN0IEluZGV4Jyk7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ1ZhcmlhYmxlIE5hbWUnKTtcclxuICAgICAgICBvYmpJbmRleC52YWx1ZSA9IDA7XHJcbiAgICAgICAgdmFyTmFtZS52YWx1ZSA9ICdTcHJpdGUgUGF0aCc7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UGFyYW1ldGVycyA9IFt2YXJOYW1lLCBvYmpJbmRleF07XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KHZhck5hbWUpKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkob2JqSW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBR2V0RUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBR2V0STtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMuZGl2O1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrIGhib3gnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDc4LCAxNywgMTMxKSc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmdiKDEwMCwgMTA5LCAxMjMpJztcclxuICAgICAgICBjb25zdCBhbnAgPSB0aGlzLmFucDtcclxuXHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBvYmpJRCA9IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXTtcclxuXHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdHZXQnIH0gKTtcclxuICAgICAgICBjb25zdCB2YXJEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdmcm9tJyB9ICk7XHJcbiAgICAgICAgY29uc3Qgb2JqRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBjb25zdCBhZGp1c3RJbnB1dFdpZHRoID0gKGlucHV0OiBIVE1MU2VsZWN0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wRWwgPSBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogaW5wdXQudmFsdWUgfSApO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUuZm9udCA9ICdpbmhlcml0JztcclxuICAgICAgICAgICAgdGVtcEVsLnN0eWxlLnBhZGRpbmcgPSAnMS43NXZoJztcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSB0ZW1wRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB0ZW1wRWwucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvYmpJRElucHV0ID0gb2JqRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCB2YXJOYW1lSW5wdXQgPSB2YXJEaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMjksIDAsIDU0KSc7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMjksIDAsIDU0KSc7XHJcblxyXG4gICAgICAgIGNvbnN0IG9iakFyciA9IGFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9iaklESW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogaSArICc6ICcgKyBvYmpBcnJbaV0ubmFtZSwgdmFsdWU6IGkgKyAnOiAnICsgb2JqQXJyW2ldLm5hbWUgfSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgR2V0QWxsVmFyTmFtZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhck5hbWVJbnB1dC5lbXB0eSgpO1xyXG4gICAgICAgICAgICBjb25zdCBvYmpBcnIgPSBhbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cztcclxuICAgICAgICAgICAgY29uc3QgdmFyQXJyID0gb2JqQXJyW3RoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXS52YWx1ZV0udmFyaWFibGVzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhckFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyTmFtZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IHZhckFycltpXS5uYW1lLCB2YWx1ZTogdmFyQXJyW2ldLm5hbWUgfSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG9iaklESW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXS52YWx1ZSA9IHBhcnNlSW50KG9iaklESW5wdXQudmFsdWUuc3BsaXQoJzonKVswXSk7XHJcbiAgICAgICAgICAgIGFkanVzdElucHV0V2lkdGgob2JqSURJbnB1dCk7XHJcbiAgICAgICAgICAgIEdldEFsbFZhck5hbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhck5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdLnZhbHVlID0gdmFyTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBhZGp1c3RJbnB1dFdpZHRoKHZhck5hbWVJbnB1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBHZXRBbGxWYXJOYW1lcygpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnZhbHVlID0gb2JqSUQudmFsdWUgKyAnOiAnICsgb2JqQXJyW29iaklELnZhbHVlXS5uYW1lO1xyXG4gICAgICAgIHZhck5hbWVJbnB1dC52YWx1ZSA9IHZhck5hbWUudmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0KTtcclxuICAgICAgICBhZGp1c3RJbnB1dFdpZHRoKHZhck5hbWVJbnB1dCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBR2V0UkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFTSVtdO1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPEFTST4ge1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSW5kZXggPSB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5hbnAucHJvamVjdC5nYW1lVmlldy5vYmplY3RzW29iakluZGV4LnZhbHVlXTtcclxuICAgICAgICByZXR1cm4gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKG9iaiwgdmFyTmFtZS52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEdldFxyXG5cclxuLy8jcmVnaW9uIFNldFxyXG5leHBvcnQgY2xhc3MgQVNldEkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLnNldDtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ1ZhcmlhYmxlIE5hbWUnKTtcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIG9iakluZGV4LnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW3Zhck5hbWUsIG9iakluZGV4XTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFyTmFtZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShvYmpJbmRleCkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlZhbHVlLCAnJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTZXRFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFTZXRJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNzgsIDE3LCAxMzEpJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZ2IoMTAwLCAxMDksIDEyMyknO1xyXG4gICAgICAgIGNvbnN0IGFucCA9IHRoaXMuYW5wO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJOYW1lID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IG9iaklEID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1NldCcgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhckRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ2Zyb20nIH0gKTtcclxuICAgICAgICBjb25zdCBvYmpEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICd0bycgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBBRkVJLlNldFBhcmFtZXRlckRpdihhbnAsIHRoaXMsIHZhbHVlRGl2LCAyKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWRqdXN0SW5wdXRXaWR0aCA9IChpbnB1dDogSFRNTFNlbGVjdEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGVtcEVsID0gZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGlucHV0LnZhbHVlIH0gKTtcclxuICAgICAgICAgICAgdGVtcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgdGVtcEVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgdGVtcEVsLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcclxuICAgICAgICAgICAgdGVtcEVsLnN0eWxlLmZvbnQgPSAnaW5oZXJpdCc7XHJcbiAgICAgICAgICAgIHRlbXBFbC5zdHlsZS5wYWRkaW5nID0gJzEuNzV2aCc7XHJcbiAgICAgICAgICAgIGlucHV0LnN0eWxlLndpZHRoID0gdGVtcEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgdGVtcEVsLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2JqSURJbnB1dCA9IG9iakRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZUlucHV0ID0gdmFyRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI5LCAwLCA1NCknO1xyXG4gICAgICAgIHZhck5hbWVJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI5LCAwLCA1NCknO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpBcnIgPSBhbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iakFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvYmpJRElucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGkgKyAnOiAnICsgb2JqQXJyW2ldLm5hbWUsIHZhbHVlOiBpICsgJzogJyArIG9iakFycltpXS5uYW1lIH0gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IEdldEFsbFZhck5hbWVzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXJOYW1lSW5wdXQuZW1wdHkoKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhckFyciA9IG9iakFyclsoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdKS52YWx1ZV0udmFyaWFibGVzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhckFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyTmFtZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IHZhckFycltpXS5uYW1lLCB2YWx1ZTogdmFyQXJyW2ldLm5hbWUgfSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzJdIGluc3RhbmNlb2YgQUZJKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSSh0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMl0sIHZhbHVlRGl2LCBhbnApO1xyXG4gICAgICAgICAgICAgICAgdmFsQmxvY2sucGFyZW50RUkgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUodmFsQmxvY2ssIGFucCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVEaXYuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhck5hbWUgPSA8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmpJbmRleCA9IDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHNbb2JqSW5kZXgudmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBBU0hhbmRsZXIuQ29weShHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUob2JqLCB2YXJOYW1lLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSA9IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1syXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIEFTSGFuZGxlci5DcmVhdGVJSSh2YWx1ZSwgdmFsdWVEaXYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzJdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqSURJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXSkudmFsdWUgPSBwYXJzZUludChvYmpJRElucHV0LnZhbHVlLnNwbGl0KCc6JylbMF0pO1xyXG4gICAgICAgICAgICBhZGp1c3RJbnB1dFdpZHRoKG9iaklESW5wdXQpO1xyXG4gICAgICAgICAgICBHZXRBbGxWYXJOYW1lcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXJOYW1lSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF0pLnZhbHVlID0gdmFyTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBhZGp1c3RJbnB1dFdpZHRoKHZhck5hbWVJbnB1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBHZXRBbGxWYXJOYW1lcygpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnZhbHVlID0gb2JqSUQudmFsdWUgKyAnOiAnICsgb2JqQXJyW29iaklELnZhbHVlXS5uYW1lO1xyXG4gICAgICAgIHZhck5hbWVJbnB1dC52YWx1ZSA9IHZhck5hbWUudmFsdWU7XHJcblxyXG4gICAgICAgIGFkanVzdElucHV0V2lkdGgob2JqSURJbnB1dCk7XHJcbiAgICAgICAgYWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQpO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1syXSA9PT0gcGFyYW1ldGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRQYXJhbSA9IEFTSGFuZGxlci5DcmVhdGVJKCg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF0pLnR5cGUsIFNjb3BlLlZhbHVlLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1syXSA9IGRlZmF1bHRQYXJhbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU2V0UkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IDxBU0k+IHRoaXMucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IDxBU0k+IHRoaXMucGFyYW1ldGVyc1sxXTtcclxuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnBhcmFtZXRlcnNbMl07XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5hbnAucHJvamVjdC5nYW1lVmlldy5vYmplY3RzW29iakluZGV4LnZhbHVlXTtcclxuICAgICAgICBjb25zdCB2YXJUb1NldCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZShvYmosIHZhck5hbWUudmFsdWUpO1xyXG4gICAgICAgIHZhclRvU2V0LnZhbHVlID0gdmFsIGluc3RhbmNlb2YgQUZSSSA/IChhd2FpdCB2YWwuRXhlY3V0ZSgpKS52YWx1ZSA6IHZhbC52YWx1ZTtcclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gU2V0XHJcblxyXG4vLyNyZWdpb24gQWRkXHJcbmV4cG9ydCBjbGFzcyBBQWRkSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuYWRkO1xyXG4gICAgcmV0dXJuVHlwZSA9IEFTLm51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgbnVtMSA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ251bTEnKTtcclxuICAgICAgICBjb25zdCBudW0yID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAnbnVtMicpO1xyXG4gICAgICAgIG51bTEudmFsdWUgPSAwO1xyXG4gICAgICAgIG51bTIudmFsdWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbbnVtMSwgbnVtMl07XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG51bTEpKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkobnVtMikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFBZGRFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFBZGRJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMTExLCA0NiwgMTY5KSc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmdiKDEwMCwgMTA5LCAxMjMpJztcclxuICAgICAgICBjb25zdCBhbnAgPSB0aGlzLmFucDtcclxuXHJcbiAgICAgICAgY29uc3QgbnVtMSA9IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBudW0yID0gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBjb25zdCBudW0xRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnKycgfSApO1xyXG4gICAgICAgIGNvbnN0IG51bTJEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcblxyXG4gICAgICAgIEFGRUkuU2V0UGFyYW1ldGVyRGl2KGFucCwgdGhpcywgbnVtMURpdiwgMCk7XHJcbiAgICAgICAgQUZFSS5TZXRQYXJhbWV0ZXJEaXYoYW5wLCB0aGlzLCBudW0yRGl2LCAxKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWRqdXN0SW5wdXRXaWR0aCA9IChpbnB1dDogSFRNTElucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wRWwgPSBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogaW5wdXQudmFsdWUgfSApO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG4gICAgICAgICAgICB0ZW1wRWwuc3R5bGUuZm9udCA9ICdpbmhlcml0JztcclxuICAgICAgICAgICAgdGVtcEVsLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7XHJcbiAgICAgICAgICAgIGlucHV0LnN0eWxlLndpZHRoID0gdGVtcEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuICAgICAgICAgICAgdGVtcEVsLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG51bTEgaW5zdGFuY2VvZiBBU0kpIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtMUlucHV0ID0gbnVtMURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IG51bTEudmFsdWUgKyAnJyB9ICk7XHJcbiAgICAgICAgICAgIG51bTFJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JnYigyOSwgMCwgNTQpJztcclxuICAgICAgICAgICAgbnVtMUlucHV0LnN0eWxlLnBhZGRpbmcgPSAnMXZoJztcclxuICAgICAgICAgICAgYWRqdXN0SW5wdXRXaWR0aChudW0xSW5wdXQpO1xyXG4gICAgICAgICAgICBudW0xSW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGFkanVzdElucHV0V2lkdGgobnVtMUlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBudW0xSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdKS52YWx1ZSA9IHBhcnNlRmxvYXQobnVtMUlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG51bTFFSSA9IEFGSGFuZGxlci5DcmVhdGVFSShudW0xLCBudW0xRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShudW0xRUksIGFucCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBudW0xRUkucGFyZW50RUkgPSB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtMiBpbnN0YW5jZW9mIEFTSSkge1xyXG4gICAgICAgICAgICBjb25zdCBudW0ySW5wdXQgPSBudW0yRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogbnVtMi52YWx1ZSArICcnIH0gKTtcclxuICAgICAgICAgICAgbnVtMklucHV0LnN0eWxlLmJhY2tncm91bmQgPSAncmdiKDI5LCAwLCA1NCknO1xyXG4gICAgICAgICAgICBudW0ySW5wdXQuc3R5bGUucGFkZGluZyA9ICcxdmgnO1xyXG4gICAgICAgICAgICBhZGp1c3RJbnB1dFdpZHRoKG51bTJJbnB1dCk7XHJcbiAgICAgICAgICAgIG51bTJJbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYWRqdXN0SW5wdXRXaWR0aChudW0ySW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG51bTJJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV0pLnZhbHVlID0gcGFyc2VGbG9hdChudW0ySW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtMkVJID0gQUZIYW5kbGVyLkNyZWF0ZUVJKG51bTIsIG51bTJEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKG51bTJFSSwgYW5wLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG51bTJFSS5wYXJlbnRFSSA9IHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUFkZFJJIGV4dGVuZHMgQUZSSSB7XHJcbiAgICBhc3luYyBFeGVjdXRlKCk6IFByb21pc2U8QU51bWJlckk+IHtcclxuICAgICAgICBjb25zdCBwYXJhbTEgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3QgcGFyYW0yID0gdGhpcy5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBjb25zdCBwYXJhbTFJc0FGUkkgPSBwYXJhbTEgaW5zdGFuY2VvZiBBRlJJO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMklzQUZSSSA9IHBhcmFtMiBpbnN0YW5jZW9mIEFGUkk7XHJcblxyXG4gICAgICAgIGNvbnN0IG51bTEgPSBwYXJhbTFJc0FGUkkgPyAoYXdhaXQgcGFyYW0xLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTEudmFsdWU7XHJcbiAgICAgICAgY29uc3QgbnVtMiA9IHBhcmFtMklzQUZSSSA/IChhd2FpdCBwYXJhbTIuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMi52YWx1ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAnc3VtJyk7XHJcbiAgICAgICAgb3V0cHV0LnZhbHVlID0gbnVtMSArIG51bTI7XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEFkZFxyXG5cclxuIiwgImltcG9ydCB7IEFGSGFuZGxlciwgQUZJLCBBRlJJIH0gZnJvbSBcImNsYXNzZXMvZnVuY3Rpb25zL2Z1bmN0aW9uXCI7XHJcbmltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IFNjb3BlIH0gZnJvbSBcImNsYXNzZXMvc2NvcGVcIjtcclxuaW1wb3J0IHsgQVMsIEFTSGFuZGxlciwgQVNJIH0gZnJvbSBcImNsYXNzZXMvc3RydWN0cy9zdHJ1Y3RcIjtcclxuaW1wb3J0IHsgSW1hZ2VGaWxlLCBWaWRlb0ZpbGUgfSBmcm9tIFwiLi9maWxlLXR5cGVzL3JlYWwtZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0SGFuZGxlciB7XHJcbiAgICBzdGF0aWMgR2V0VmFyaWFibGUob2JqOiBHRU9EM09iamVjdCB8IEdFT0QzT2JqZWN0UkksIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAob2JqLnZhcmlhYmxlc1tpXS5uYW1lID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnZhcmlhYmxlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhcmlhYmxlICcgKyBuYW1lICsgJyBub3QgZm91bmQgb24gb2JqZWN0ICcgKyBvYmouaWRJblNjZW5lICsgJzogJyArIG9iai5uYW1lKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBDcmVhdGVJSShvYmo6IEdFT0QzT2JqZWN0LCBhbnA6IEFwcEFuZFByb2plY3QsIGluc3BlY3RvckRpdjogSFRNTERpdkVsZW1lbnQpOiBHRU9EM09iamVjdElJIHtcclxuICAgICAgICByZXR1cm4gbmV3IEdFT0QzT2JqZWN0SUkob2JqLCBhbnAsIGluc3BlY3RvckRpdik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlUkkob2JqOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBvYmpEaXY6IEhUTUxEaXZFbGVtZW50KTogR0VPRDNPYmplY3RSSSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHRU9EM09iamVjdFJJKG9iaiwgYW5wLCBvYmpEaXYpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR0VPRDNPYmplY3Qge1xyXG4gICAgaWRJblNjZW5lOiBudW1iZXI7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBvblN0YXJ0OiBBRklbXTtcclxuICAgIG9uTmV3RnJhbWU6IEFGSVtdO1xyXG4gICAgdmFyaWFibGVzOiBBU0lbXTtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmlkSW5TY2VuZSA9IGlkO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdvYmplY3QnO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gW107XHJcbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gW107XHJcbiAgICAgICAgdGhpcy5vbk5ld0ZyYW1lID0gW107XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5zdHJpbmcsIFNjb3BlLlB1YmxpYywgJ1Nwcml0ZSBQYXRoJykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcHJpdGUgV2lkdGgnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ1Nwcml0ZSBIZWlnaHQnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ3gnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ3knKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ3onKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHRU9EM09iamVjdElJIHtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIGluc3RhbmNlOiBHRU9EM09iamVjdDtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEdFT0QzT2JqZWN0LCBhbnA6IEFwcEFuZFByb2plY3QsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgbmFtZURpdiA9IGRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuICAgICAgICBuYW1lRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IHRoaXMuaW5zdGFuY2UuaWRJblNjZW5lICsgJzonIH0gKTtcclxuICAgICAgICBjb25zdCBuYW1lSW5wdXQgPSBuYW1lRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5pbnN0YW5jZS5uYW1lIH0gKTtcclxuICAgICAgICBjb25zdCBlZGl0U2NyaXB0c0J1dHRvbiA9IG5hbWVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0VkaXQgU2NyaXB0c1x1RDgzRFx1RENEQycgfSApO1xyXG4gICAgICAgIGVkaXRTY3JpcHRzQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1zZWNvbmRhcnktYnV0dG9uJztcclxuICAgICAgICBuYW1lSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UubmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWRpdFNjcmlwdHNCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgYW5wLnByb2plY3Quc2NyaXB0RWRpdG9yLmN1cnJlbnRPYmplY3QgPSB0aGlzLmluc3RhbmNlO1xyXG4gICAgICAgICAgICBhbnAucHJvamVjdC5Td2l0Y2hUb1RhYihhbnAucHJvamVjdC5zY3JpcHRFZGl0b3JUYWJJRCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlc0RpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3Rvci12YXJpYWJsZS1saXN0IHZib3gnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UudmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFzSSA9IHRoaXMuaW5zdGFuY2UudmFyaWFibGVzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCB2YXJEaXYgPSB2YXJpYWJsZXNEaXYuY3JlYXRlRGl2KCdnZW9kMy1pbnNwZWN0b3ItdmFyaWFibGUgaGJveCcpO1xyXG4gICAgICAgICAgICB2YXJEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogYXNJLm5hbWUgfSApO1xyXG4gICAgICAgICAgICBBU0hhbmRsZXIuQ3JlYXRlSUkoYXNJLCB2YXJEaXYuY3JlYXRlRGl2KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhZGROZXdEaXYgPSBkaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZUlucHV0ID0gYWRkTmV3RGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJ3VubmFtZWQnIH0gKTtcclxuICAgICAgICBjb25zdCB2YXJpYWJsZVR5cGVJbnB1dCA9IGFkZE5ld0Rpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgYWRkVmFyaWFibGVCdXR0b24gPSBhZGROZXdEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcclxuXHJcbiAgICAgICAgYWRkVmFyaWFibGVCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLWFkZC1idXR0b24nO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gQVNbaV07XHJcbiAgICAgICAgICAgIHZhcmlhYmxlVHlwZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IHR5cGUsIHZhbHVlOiBpICsgJycgfSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXJpYWJsZVR5cGVJbnB1dC52YWx1ZSA9ICcxJztcclxuXHJcbiAgICAgICAgYWRkVmFyaWFibGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHZhcmlhYmxlTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UudmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS52YXJpYWJsZXNbaV0ubmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBuZXdWYXIgPSBBU0hhbmRsZXIuQ3JlYXRlSShwYXJzZUludCh2YXJpYWJsZVR5cGVJbnB1dC52YWx1ZSksIFNjb3BlLlB1YmxpYywgbmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFyaWFibGVzLnB1c2gobmV3VmFyKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFyRGl2ID0gdmFyaWFibGVzRGl2LmNyZWF0ZURpdignZ2VvZDMtaW5zcGVjdG9yLXZhcmlhYmxlIGhib3gnKTtcclxuICAgICAgICAgICAgbmV3VmFyRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IG5ld1Zhci5uYW1lIH0gKTtcclxuICAgICAgICAgICAgQVNIYW5kbGVyLkNyZWF0ZUlJKG5ld1ZhciwgbmV3VmFyRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0Ukkge1xyXG4gICAgaWRJblNjZW5lOiBudW1iZXI7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBvblN0YXJ0OiBBRlJJW107XHJcbiAgICBvbk5ld0ZyYW1lOiBBRlJJW107XHJcbiAgICB2YXJpYWJsZXM6IEFTSVtdO1xyXG4gICAgb2JqRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIHByaXZhdGUgcHJldlNwcml0ZVBhdGg6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKG9iajogR0VPRDNPYmplY3QsIGFucDogQXBwQW5kUHJvamVjdCwgb2JqRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuaWRJblNjZW5lID0gb2JqLmlkSW5TY2VuZTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBvYmoubmFtZTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMub25TdGFydCA9IFtdO1xyXG4gICAgICAgIHRoaXMub25OZXdGcmFtZSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5Db3B5KG9iai52YXJpYWJsZXNbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoub25TdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhcnQucHVzaChBRkhhbmRsZXIuQ3JlYXRlUkkob2JqLm9uU3RhcnRbaV0sIGFucCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5vbk5ld0ZyYW1lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25OZXdGcmFtZS5wdXNoKEFGSGFuZGxlci5DcmVhdGVSSShvYmoub25OZXdGcmFtZVtpXSwgYW5wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JqRGl2ID0gb2JqRGl2O1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgICAgIHRoaXMucHJldlNwcml0ZVBhdGggPSAnJztcclxuICAgICAgICB0aGlzLlNldE9iakRpdkNTU1Byb3BlcnRpZXMoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgU2V0T2JqRGl2Q1NTUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIDAlKSc7XHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBSZWZyZXNoU3ByaXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZVBhdGggPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1Nwcml0ZSBQYXRoJykudmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJldlNwcml0ZVBhdGggIT09IHNwcml0ZVBhdGgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhRmlsZSA9IDxJbWFnZUZpbGUgfCBWaWRlb0ZpbGU+IHRoaXMuYW5wLnByb2plY3QuZmlsZU1hbmFnZXIuR2V0RmlsZUJ5UHJpbWl0aXZlUGF0aChzcHJpdGVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZVNyYyA9IG1lZGlhRmlsZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1lZGlhRWw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iakRpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lZGlhRmlsZSBpbnN0YW5jZW9mIEltYWdlRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRWwgPSB0aGlzLm9iakRpdi5jcmVhdGVFbCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRWwgPSB0aGlzLm9iakRpdi5jcmVhdGVFbCgndmlkZW8nKTtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUVsLmNvbnRyb2xzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFFbC5sb29wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lZGlhRWwuc3JjID0gc3ByaXRlU3JjO1xyXG4gICAgICAgICAgICAgICAgbWVkaWFFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgICAgIG1lZGlhRWwuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2U3ByaXRlUGF0aCA9IHNwcml0ZVBhdGg7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCB0byBmaW5kIGltYWdlL3ZpZGVvIHBhdGgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgU2V0TG9jYXRpb25BbmRXaWR0aCgpIHtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3ByaXRlIFdpZHRoJykudmFsdWU7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcHJpdGUgSGVpZ2h0JykudmFsdWU7XHJcbiAgICAgICAgY29uc3QgeCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAneCcpLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHkgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ3knKS52YWx1ZTtcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIHRoaXMub2JqRGl2LnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5ib3R0b20gPSB5ICsgJ3B4JztcclxuICAgIH1cclxuICAgIFJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLlJlZnJlc2hTcHJpdGUoKTtcclxuICAgICAgICB0aGlzLlNldExvY2F0aW9uQW5kV2lkdGgoKTtcclxuICAgIH1cclxuICAgIE9uU3RhcnQoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9uU3RhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXJ0W2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPbk5ld0ZyYW1lKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vbk5ld0ZyYW1lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25OZXdGcmFtZVtpXS5FeGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBHRU9EM09iamVjdEhhbmRsZXIsIEdFT0QzT2JqZWN0UkkgfSBmcm9tIFwiLi9nZW9kMy1vYmplY3RcIjtcclxuaW1wb3J0IHsgVGFiIH0gZnJvbSBcIi4vdGFiXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVZpZXcgZXh0ZW5kcyBUYWIge1xyXG4gICAgc3RhdGljIG92ZXJyaWRlIGljb24gPSAnXHUyNUI2XHVGRTBGJztcclxuICAgIGdhbWVEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgc3RpbGxSdW5uaW5nOiBib29sZWFuO1xyXG4gICAgb2JqZWN0czogR0VPRDNPYmplY3RSSVtdO1xyXG5cclxuICAgIG92ZXJyaWRlIGFzeW5jIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLWdhbWUtdmlldy1tYWluLWRpdiBnZW9kMy10YWItY29udGFpbmVyJztcclxuICAgICAgICBjb25zdCBnYW1lV3JhcHBlciA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWdhbWUtd3JhcHBlcicpO1xyXG4gICAgICAgIHRoaXMuZ2FtZURpdiA9IGdhbWVXcmFwcGVyLmNyZWF0ZURpdignZ2VvZDMtZ2FtZScpO1xyXG4gICAgICAgIHRoaXMuc3RpbGxSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9iamVjdHMgPSBbXTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5PblN0YXJ0KCk7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RpbGxSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuT25OZXdGcmFtZSgpO1xyXG4gICAgICAgICAgICBhd2FpdCBzbGVlcCgxNSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgVW5Gb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuc3RpbGxSdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBPblN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnN0IG9iakluc3RhbmNlcyA9IHRoaXMuYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpJbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzLnB1c2goR0VPRDNPYmplY3RIYW5kbGVyLkNyZWF0ZVJJKG9iakluc3RhbmNlc1tpXSwgdGhpcy5hbnAsIHRoaXMuZ2FtZURpdi5jcmVhdGVEaXYoKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNbaV0uT25TdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIE9uTmV3RnJhbWUoKSB7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyaW5nT3JkZXI6IEdFT0QzT2JqZWN0UklbXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJPYmogPSB0aGlzLm9iamVjdHNbaV07XHJcbiAgICAgICAgICAgIGN1cnJPYmouUmVuZGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGxhY2VJbnRvU3ByaXRlQXJyYXkocmVuZGVyaW5nT3JkZXIsIGN1cnJPYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmluZ09yZGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTcHJpdGUgPSByZW5kZXJpbmdPcmRlcltpXTtcclxuICAgICAgICAgICAgY3VyclNwcml0ZS5vYmpEaXYuc3R5bGUuekluZGV4ID0gaSArICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHNbaV0uT25OZXdGcmFtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFBsYWNlSW50b1Nwcml0ZUFycmF5KGFycjogR0VPRDNPYmplY3RSSVtdLCBuZXdJdGVtOiBHRU9EM09iamVjdFJJKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxvdyA9IDA7XHJcbiAgICAgICAgbGV0IGhpZ2ggPSBhcnIubGVuZ3RoO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdaID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKG5ld0l0ZW0sICd6Jyk7XHJcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcclxuICAgICAgICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcclxuICAgICAgICAgICAgY29uc3QgbWlkWiA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZShhcnJbbWlkXSwgJ3onKTtcclxuICAgICAgICAgICAgaWYgKG1pZFogPCBuZXdaKSB7XHJcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXJyLnNwbGljZShsb3csIDAsIG5ld0l0ZW0pO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgVGFiIH0gZnJvbSBcIi4vdGFiXCI7XHJcbmltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0LCBHRU9EM09iamVjdEhhbmRsZXIgfSBmcm9tIFwiLi9nZW9kMy1vYmplY3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2VuZVZpZXcgZXh0ZW5kcyBUYWIge1xyXG4gICAgc3RhdGljIG92ZXJyaWRlIGljb24gPSAnXHVEODNDXHVERjEwJztcclxuICAgIG9iamVjdHM6IEdFT0QzT2JqZWN0W107XHJcbiAgICBoaWVyYXJjaHlEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgc2NlbmVEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgaW5zcGVjdG9yRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgc3VwZXIoYW5wKTtcclxuICAgICAgICB0aGlzLm9iamVjdHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBGb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWNvbnRhaW5lciBoYm94JztcclxuXHJcbiAgICAgICAgdGhpcy5oaWVyYXJjaHlEaXYgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1vYmplY3QtbGlzdCB2Ym94Jyk7XHJcbiAgICAgICAgY29uc3Qgc2NlbmVTY3JvbGxXcmFwcGVyID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtc2NlbmUtc2Nyb2xsLXdyYXBwZXInKTtcclxuICAgICAgICBjb25zdCBzY2VuZVdyYXBwZXIgPSBzY2VuZVNjcm9sbFdyYXBwZXIuY3JlYXRlRGl2KCdnZW9kMy1zY2VuZS13cmFwcGVyJyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZURpdiA9IHNjZW5lV3JhcHBlci5jcmVhdGVEaXYoJ2dlb2QzLXNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5pbnNwZWN0b3JEaXYgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1pbnNwZWN0b3InKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGlzdERpdiA9IHRoaXMuaGllcmFyY2h5RGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3REaXYgPSBsaXN0RGl2LmNyZWF0ZURpdignZ2VvZDMtb2JqZWN0LWluLWxpc3QgaGJveCBwb2ludGVyLWhvdmVyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJPYmogPSB0aGlzLm9iamVjdHNbaV07XHJcbiAgICAgICAgICAgIG9iamVjdERpdi50ZXh0Q29udGVudCA9IGN1cnJPYmouaWRJblNjZW5lICsgJzogJyArIGN1cnJPYmoubmFtZTtcclxuICAgICAgICAgICAgb2JqZWN0RGl2Lm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBHRU9EM09iamVjdEhhbmRsZXIuQ3JlYXRlSUkoY3Vyck9iaiwgdGhpcy5hbnAsIHRoaXMuaW5zcGVjdG9yRGl2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBidXR0b25zRGl2ID0gdGhpcy5oaWVyYXJjaHlEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcbiAgICAgICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1MjdGMycgfSApO1xyXG4gICAgICAgIGNvbnN0IGFkZE9iakJ1dHRvbiA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcclxuICAgICAgICByZWZyZXNoQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1zZWNvbmRhcnktYnV0dG9uJztcclxuICAgICAgICBhZGRPYmpCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLWFkZC1idXR0b24nO1xyXG4gICAgICAgIHJlZnJlc2hCdXR0b24uc3R5bGUud2lkdGggPSAnNTAlJztcclxuICAgICAgICBhZGRPYmpCdXR0b24uc3R5bGUud2lkdGggPSAnNTAlJztcclxuICAgICAgICByZWZyZXNoQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVEaXYuZW1wdHkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJPYmogPSBHRU9EM09iamVjdEhhbmRsZXIuQ3JlYXRlUkkodGhpcy5vYmplY3RzW2ldLCB0aGlzLmFucCwgdGhpcy5zY2VuZURpdi5jcmVhdGVEaXYoKSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyT2JqLlJlbmRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZE9iakJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub2JqZWN0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld09iaiA9IG5ldyBHRU9EM09iamVjdChpbmRleCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdERpdiA9IGxpc3REaXYuY3JlYXRlRGl2KCdnZW9kMy1vYmplY3QtaW4tbGlzdCBoYm94IHBvaW50ZXItaG92ZXInKTtcclxuICAgICAgICAgICAgb2JqZWN0RGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IG5ld09iai5pZEluU2NlbmUgKyAnOiAnICsgbmV3T2JqLm5hbWUgfSApO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHMucHVzaChuZXdPYmopO1xyXG4gICAgICAgICAgICBvYmplY3REaXYub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEdFT0QzT2JqZWN0SGFuZGxlci5DcmVhdGVJSShuZXdPYmosIHRoaXMuYW5wLCB0aGlzLmluc3BlY3RvckRpdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgVW5Gb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IFRhYiB9IGZyb20gXCIuL3RhYlwiO1xyXG5pbXBvcnQgeyBHRU9EM09iamVjdCB9IGZyb20gXCIuL2dlb2QzLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBBQ2hhaW5JLCBBRG9Ob3RoaW5nSSwgQUYsIEFGRUksIEFGSGFuZGxlciB9IGZyb20gXCJjbGFzc2VzL2Z1bmN0aW9ucy9mdW5jdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjcmlwdEVkaXRvciBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdUQ4M0RcdURDREMnO1xyXG4gICAgc2NyaXB0RGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGJsb2Nrc0RpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBkZWxEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgY3VycmVudE9iamVjdDogR0VPRDNPYmplY3Q7XHJcbiAgICBjdXJyZW50bHlEcmFnZ2VkQmxvY2s6IEFGRUkgfCB1bmRlZmluZWQ7XHJcbiAgICBjdXJyZW50bHlEcmFnZ2VkQmxvY2tJc0NvcHk6IGJvb2xlYW47XHJcblxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy10YWItY29udGFpbmVyIGhib3gnO1xyXG4gICAgICAgICAgICBjb25zdCBsZWZ0U2lkZSA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC13cmFwcGVyIHZib3gnKTtcclxuICAgICAgICAgICAgY29uc3QgdG9wRGl2ID0gbGVmdFNpZGUuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtbmF2aWdhdG9yIGhib3gnKTtcclxuXHJcbiAgICAgICAgICAgIHRvcERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiB0aGlzLmN1cnJlbnRPYmplY3QuaWRJblNjZW5lICsgJzogJyArIHRoaXMuY3VycmVudE9iamVjdC5uYW1lIH0gKTtcclxuICAgICAgICAgICAgY29uc3QgY2x1c3RlclR5cGVJbnB1dCA9IHRvcERpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPSAnT24gU3RhcnQnO1xyXG4gICAgICAgICAgICBjbHVzdGVyVHlwZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICdPbiBTdGFydCcsIHZhbHVlOiAnT24gU3RhcnQnIH0gKTtcclxuICAgICAgICAgICAgY2x1c3RlclR5cGVJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiAnT24gTmV3IEZyYW1lJywgdmFsdWU6ICdPbiBOZXcgRnJhbWUnIH0gKTtcclxuICAgICAgICAgICAgY29uc3QgY2x1c3Rlck51bWJlcklucHV0ID0gdG9wRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ251bWJlcicsIHZhbHVlOiAnMCcgfSApO1xyXG4gICAgICAgICAgICBjbHVzdGVyTnVtYmVySW5wdXQubWluID0gJzAnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY3JpcHREaXYgPSBsZWZ0U2lkZS5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdCcpO1xyXG4gICAgICAgICAgICBjb25zdCBibG9ja1Bvb2wgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1ibG9jay1wb29sJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYmxvY2tzRGl2ID0gYmxvY2tQb29sLmNyZWF0ZURpdignZ2VvZDMtYmxvY2tzLWxpc3QnKTtcclxuICAgICAgICAgICAgdGhpcy5kZWxEaXYgPSBibG9ja1Bvb2wuY3JlYXRlRGl2KCdnZW9kMy1ibG9jay1kZWxldGUtZGl2Jyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBMb2FkU2NyaXB0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5jdXJyZW50T2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0VHlwZSA9IGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPT09ICdPbiBTdGFydCcgPyBvYmoub25TdGFydCA6IG9iai5vbk5ld0ZyYW1lO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChjbHVzdGVyTnVtYmVySW5wdXQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSBzY3JpcHRUeXBlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdFR5cGUucHVzaChuZXcgQUNoYWluSShbbmV3IEFEb05vdGhpbmdJKCldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2x1c3Rlck51bWJlcklucHV0Lm1heCA9IHNjcmlwdFR5cGUubGVuZ3RoICsgJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBBRkhhbmRsZXIuQ3JlYXRlRUkoc2NyaXB0VHlwZVtpbmRleF0sIHRoaXMuc2NyaXB0RGl2LCB0aGlzLmFucCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5DcmVhdGVCbG9ja1Bvb2woKTtcclxuICAgICAgICAgICAgTG9hZFNjcmlwdCgpO1xyXG5cclxuICAgICAgICAgICAgY2x1c3RlclR5cGVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuY3VycmVudE9iamVjdDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdFR5cGUgPSBjbHVzdGVyVHlwZUlucHV0LnZhbHVlID09PSAnT24gU3RhcnQnID8gb2JqLm9uU3RhcnQgOiBvYmoub25OZXdGcmFtZTtcclxuICAgICAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC52YWx1ZSA9ICcwJztcclxuICAgICAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICAgICAgTG9hZFNjcmlwdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIExvYWRTY3JpcHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpdi5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdObyBvYmplY3Qgd2FzIHNlbGVjdGVkJyB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ3JlYXRlQmxvY2tQb29sKCkge1xyXG4gICAgICAgIHRoaXMuYmxvY2tzRGl2LmVtcHR5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2ZlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcImNvcHlcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlbERpdi5jbGFzc05hbWUgPSAnZ2VvZDMtYmxvY2stZGVsZXRlLWRpdi1ob3Zlcic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsRGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1ibG9jay1kZWxldGUtZGl2JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxEaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghKHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrID09PSB1bmRlZmluZWQgfHwgdGhpcy5jdXJyZW50bHlEcmFnZ2VkQmxvY2tJc0NvcHkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9jay5kaXYucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRFSSA9IHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrLnBhcmVudEVJO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEVJICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFSS5SZW1vdmVQYXJhbWV0ZXIodGhpcy5jdXJyZW50bHlEcmFnZ2VkQmxvY2suaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVJLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY2hhaW5JID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuY2hhaW4sIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgZ2V0SSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmdldCwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBzZXRJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuc2V0LCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IGFkZEkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5hZGQsIHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYWluQmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoY2hhaW5JLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3QgZ2V0QmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoZ2V0SSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IHNldEJsb2NrID0gQUZIYW5kbGVyLkNyZWF0ZUVJKHNldEksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuICAgICAgICBjb25zdCBhZGRCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShhZGRJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcblxyXG4gICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKGNoYWluQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShnZXRCbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKHNldEJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoYWRkQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb3ZlcnJpZGUgVW5Gb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgfVxyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FDQUEsSUFBQUEsbUJBQXVEOzs7QUNBdkQsSUFBQUMsbUJBQW1DOzs7QUNBbkMsSUFBQUMsbUJBQStCOzs7QUNFeEIsSUFBZSxNQUFmLE1BQW1CO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNdEIsWUFBWSxLQUFvQjtB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QUFDL0IsUUFBSSxPQUE2QjtBQUVqQyxXQUFPLEtBQUssSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN2QyxRQUFJLFNBQVMsTUFBTTtBQUNsQixVQUFJLHdCQUFPLGdEQUFnRDtBQUMzRDtBQUFBLElBQ0Q7QUFDQSxTQUFLLGFBQWEsRUFBRSxNQUFNLFdBQVcsUUFBUSxLQUFLLENBQUM7QUFBQSxFQUNwRDtBQUNEO0FBRUEsSUFBTSxtQkFBTixjQUErQixrQ0FBaUI7QUFBQSxFQUcvQyxZQUFZLEtBQVUsUUFBZTtBQUNwQyxVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBQyxZQUFXLElBQUk7QUFFdEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxxQkFBcUIsRUFDN0IsUUFBUSw2REFBNkQsRUFDckUsUUFBUSxVQUFRLEtBQ2YsZUFBZSxxQkFBcUIsRUFDcEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxXQUFXLEVBQ3pDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGNBQWM7QUFDbkMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUFBLEVBQ0w7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIkFTIiwgImFkZEJ1dHRvbiIsICJvYmpBcnIiLCAidmFyTmFtZSIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
