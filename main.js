/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GEOD3
});
module.exports = __toCommonJS(main_exports);

// classes/geod3-view.ts
var import_obsidian5 = require("obsidian");

// classes/project.ts
var import_obsidian4 = require("obsidian");

// classes/tabs/file-manager.ts
var import_obsidian3 = require("obsidian");

// classes/tabs/tab.ts
var Tab = class {
  /**
   * @param anp a reference to the obsidian app to read and write files as well as the geod3 project this tab should look at
   */
  constructor(anp) {
    this.anp = anp;
  }
};

// classes/tabs/file-types/geod3-file.ts
var import_obsidian = require("obsidian");
var GEOD3File = class {
  getParent(manager) {
    return manager.GetFile(this.parentPath);
  }
  get name() {
    const pathParts = this.path.valueOf().split("/");
    if (this.path.valueOf() === "/") {
      return "root";
    }
    return pathParts[pathParts.length - 1];
  }
  constructor(path, parentPath) {
    this.parentPath = parentPath;
    this.path = path;
  }
  async GrabDependencies(anp) {
  }
  async DisplayThumbnail(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    thumbnailDiv.empty();
    thumbnailDiv.onclick = async () => {
      this.getParent(manager).SelectFile(anp, this, thumbnailDiv);
    };
    thumbnailDiv.createEl("div", { text: this.name });
    thumbnailDiv.createEl("div", { text: "Type: " + this.type });
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    manager.fileDiv.empty();
    manager.fileDiv.className = "vbox";
    const backButton = manager.fileDiv.createEl("button", { text: "Go back to " + this.getParent(manager).name });
    backButton.onclick = async () => {
      this.getParent(manager).Open(anp);
    };
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath + ".md");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
  async Save(anp) {
    const path = (0, import_obsidian.normalizePath)(anp.project.pathToProject + this.path + ".md");
    anp.app.vault.adapter.write(path, JSON.stringify(this.data));
  }
};

// classes/tabs/file-types/geod3-folder.ts
var GEOD3Folder = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.type = "\u{1F4C1}Folder";
    this.files = [];
  }
  get data() {
    return this.files;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    const vault = anp.app.vault;
    const project = anp.project;
    const createDiv = manager.fileDiv.createDiv("hbox");
    const typeDropdown = createDiv.createEl("select");
    for (let i = 0; i < GEOD3FileManager.KNOWN_FILE_TYPES.length; i++) {
      const currType = GEOD3FileManager.KNOWN_FILE_TYPES[i];
      typeDropdown.createEl("option", { text: currType, value: currType });
    }
    typeDropdown.value = GEOD3FileManager.KNOWN_FILE_TYPES[0];
    const nameInput = createDiv.createEl("input", { type: "text", value: "Unnamed" });
    const addButton = createDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      const newRelPath = this.path + (this.path.valueOf() === "/" ? "" : "/") + nameInput.value;
      const newPath = project.pathToProject + newRelPath;
      const newGEOD3File = GEOD3FileManager.CreateFileOfType(newRelPath, this.path, typeDropdown.value);
      if (typeDropdown.value === "\u{1F4C1}Folder") {
        vault.createFolder(newPath);
      } else {
        vault.create(newPath + ".md", JSON.stringify(newGEOD3File));
      }
      manager.files.push(newGEOD3File);
      this.files.push(newGEOD3File);
      this.Open(anp);
    };
    this.selectedThumbnail = void 0;
    const folderDiv = manager.fileDiv.createDiv("geod3-folder");
    for (let i = 0; i < this.files.length; i++) {
      this.files[i].DisplayThumbnail(anp, folderDiv.createDiv("geod3-file-thumbnail pointer-hover"));
    }
  }
  SelectFile(anp, newSelectedFile, thumbnailDiv) {
    if (this.selectedThumbnail !== void 0 && this.selectedThumbnail[0] === newSelectedFile && this.selectedThumbnail[1] === thumbnailDiv) {
      this.selectedThumbnail[0].Open(anp);
    } else {
      if (this.selectedThumbnail !== void 0) {
        this.selectedThumbnail[1].className = "geod3-file-thumbnail pointer-hover";
      }
      this.selectedThumbnail = [newSelectedFile, thumbnailDiv];
      this.selectedThumbnail[1].className = "geod3-file-thumbnail selected pointer-hover";
      this.selectedThumbnail[0].DisplayProperties(anp, thumbnailDiv);
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFolderByPath(project.pathToProject + originalPath);
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath);
      }
      this.path = newPath;
      const folderStack = [];
      const GFindex = 0;
      const CFindex = 1;
      folderStack.push([this, 0]);
      let depth = 0;
      while (folderStack[0][CFindex] < this.files.length) {
        const currFolder = folderStack[depth];
        const currIndex = currFolder[CFindex];
        const currFile = currFolder[GFindex].files[currIndex];
        currFile.path = currFile.path.replace(originalPath.valueOf(), newPath);
        if (currFile instanceof GEOD3Folder) {
          folderStack.push([currFile, 0]);
          depth++;
        } else {
          currFolder[CFindex]++;
        }
        if (folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
          while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
            depth--;
            folderStack.pop();
            if (depth >= 0) {
              folderStack[depth][CFindex]++;
            }
          }
        }
      }
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
};

// classes/tabs/file-types/real-file.ts
var import_obsidian2 = require("obsidian");
var RealFile = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.src = "";
  }
  get data() {
    return this.src;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    this.DisplayActualFile(manager.fileDiv);
  }
  async GrabDependencies(anp) {
    try {
      const app = anp.app;
      const vault = app.vault;
      const project = anp.project;
      const pathToActualFile = project.pathToProject + this.path + ".actual-file";
      const tFile = vault.getFileByPath(pathToActualFile);
      if (tFile === null) {
        throw new Error("");
      }
      const arrayBuffer = await vault.readBinary(tFile);
      const blob = new Blob([arrayBuffer]);
      this.src = URL.createObjectURL(blob);
    } catch (e) {
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const currFileDiv = manager.propertiesDiv.createDiv();
    this.DisplayActualFile(currFileDiv);
    const fileInput = manager.propertiesDiv.createEl("input", { type: "file" });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile1 = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const tFile2 = vault.getFileByPath(project.pathToProject + originalPath + ".actual-file");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile1 !== null) {
        vault.rename(tFile1, project.pathToProject + newPath + ".md");
      }
      if (tFile2 !== null) {
        vault.rename(tFile2, project.pathToProject + newPath + ".actual-file");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
    fileInput.onchange = async () => {
      const fileArray = fileInput.files;
      if (fileArray !== null) {
        const arrayBuffer = await fileArray[0].arrayBuffer();
        const blob = new Blob([arrayBuffer]);
        this.src = URL.createObjectURL(blob);
        const pathToMDFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".md");
        const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
        await anp.app.vault.adapter.write(pathToMDFile, JSON.stringify(this));
        await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
      }
      currFileDiv.empty();
      this.DisplayActualFile(currFileDiv);
    };
  }
  async Save(anp) {
    await super.Save(anp);
    try {
      const response = await fetch(this.data);
      const arrayBuffer = await response.arrayBuffer();
      const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
      await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
    } catch (e) {
      console.log("Error converting " + this.path.valueOf() + " to an actual file");
    }
  }
};
var ImageFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F5BC}\uFE0FImage";
  }
  async DisplayActualFile(div) {
    const img = div.createEl("img");
    img.style.objectFit = "contain";
    img.src = this.src;
    return img;
  }
};
var SoundFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F50A}Sound";
  }
  async DisplayActualFile(div) {
    const el = div.createEl("audio");
    el.src = this.src;
    return el;
  }
};
var VideoFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F39E}\uFE0FVideo";
  }
  async DisplayActualFile(div) {
    const vid = div.createEl("video");
    vid.style.objectFit = "contain";
    vid.src = this.src;
    return vid;
  }
};

// classes/tabs/file-manager.ts
var GEOD3FileManager = class extends Tab {
  constructor(anp) {
    super(anp);
    this.files = [];
  }
  get imageFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof ImageFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get soundFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof SoundFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get videoFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof VideoFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  GetFile(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  GetFileByPrimitivePath(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path.valueOf() === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  AssignObjectFromFileType(plainObj, path, parentPath) {
    plainObj.path = path;
    plainObj.parentPath = parentPath;
    switch (plainObj.type) {
      case "\u{1F4C1}Folder":
      default:
        return Object.assign(new GEOD3Folder(path, parentPath), plainObj);
      case "\u{1F5BC}\uFE0FImage":
        return Object.assign(new ImageFile(path, parentPath), plainObj);
      case "\u{1F50A}Sound":
        return Object.assign(new SoundFile(path, parentPath), plainObj);
      case "\u{1F39E}\uFE0FVideo":
        return Object.assign(new VideoFile(path, parentPath), plainObj);
    }
  }
  static CreateFileOfType(path, parentPath, type) {
    switch (type) {
      case "\u{1F4C1}Folder":
      default:
        return new GEOD3Folder(path, parentPath);
      case "\u{1F5BC}\uFE0FImage":
        return new ImageFile(path, parentPath);
      case "\u{1F50A}Sound":
        return new SoundFile(path, parentPath);
      case "\u{1F39E}\uFE0FVideo":
        return new VideoFile(path, parentPath);
    }
  }
  async LoadFiles(anp) {
    this.files = [];
    const app = anp.app;
    const vault = app.vault;
    const project = anp.project;
    const projectFolder = vault.getFolderByPath(project.pathToProject);
    if (projectFolder === null) {
      throw new Error("Project folder does not exist");
    }
    const folderStack = [];
    const TFindex = 0;
    const GFindex = 1;
    const CFindex = 2;
    const rootPath = new String("/");
    const root = new GEOD3Folder(rootPath, rootPath);
    folderStack.push([projectFolder, root, 0]);
    this.files.push(root);
    let depth = 0;
    while (folderStack[0][CFindex] < projectFolder.children.length) {
      const currFolder = folderStack[depth];
      const currIndex = currFolder[CFindex];
      const currFile = currFolder[TFindex].children[currIndex];
      const relativePath = currFile.path.replace(project.pathToProject, "");
      if (currFile.name !== "RESERVED FOLDER DO NOT RENAME") {
        if (currFile instanceof import_obsidian3.TFolder) {
          const newGEOD3Folder = new GEOD3Folder(relativePath, currFolder[GFindex].path);
          this.files.push(newGEOD3Folder);
          currFolder[GFindex].files.push(newGEOD3Folder);
          folderStack.push([currFile, newGEOD3Folder, 0]);
          depth++;
        } else if (currFile instanceof import_obsidian3.TFile) {
          if (currFile.extension === "md") {
            const data = await vault.cachedRead(currFile);
            const plainObj = JSON.parse(data);
            const newFile = this.AssignObjectFromFileType(plainObj, relativePath.slice(0, -3), currFolder[GFindex].path);
            currFolder[GFindex].files.push(newFile);
            this.files.push(newFile);
          }
          currFolder[CFindex]++;
        }
      } else {
        currFolder[CFindex]++;
      }
      if (folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
        while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
          depth--;
          folderStack.pop();
          if (depth >= 0) {
            folderStack[depth][CFindex]++;
          }
        }
      }
    }
  }
  async Focus(div) {
    div.empty();
    this.mainDiv = div;
    this.mainDiv.className = "geod3-tab-container hbox";
    this.fileDiv = div.createDiv("vbox");
    this.propertiesDiv = div.createDiv("vbox");
    this.fileDiv.style.width = "70%";
    this.propertiesDiv.style.width = "30%";
    this.files[0].Open(this.anp);
  }
  UnFocus(div) {
    div.empty();
  }
};
GEOD3FileManager.icon = "\u{1F4C1}";
GEOD3FileManager.KNOWN_FILE_TYPES = [
  "\u{1F4C1}Folder",
  "\u{1F5BC}\uFE0FImage",
  "\u{1F50A}Sound",
  "\u{1F39E}\uFE0FVideo"
];

// colors.ts
var BG_COLOR_2 = "rgb(18, 18, 24)";
var BG_COLOR_3 = "rgb(5, 5, 8)";
var ACCENT_COLOR_1 = "rgb(223, 236, 255)";
var ACCENT_COLOR_2 = "rgb(160, 169, 184)";
var ACCENT_COLOR_3 = "rgb(100, 109, 123)";
var CENTRAL_COLOR_1 = "rgb(111, 46, 169)";
var CENTRAL_COLOR_2 = "rgb(78, 17, 131)";
var CENTRAL_COLOR_3 = "rgb(29, 0, 54)";

// classes/structs/struct.ts
var AS = /* @__PURE__ */ ((AS2) => {
  AS2[AS2["none"] = 0] = "none";
  AS2[AS2["boolean"] = 1] = "boolean";
  AS2[AS2["number"] = 2] = "number";
  AS2[AS2["string"] = 3] = "string";
  return AS2;
})(AS || {});
var ASHandler = class {
  static Copy(obj) {
    let newObj;
    switch (obj.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        newObj = new ABooleanI(obj.scope, obj.name);
        break;
      case 2 /* number */:
        newObj = new ANumberI(obj.scope, obj.name);
        break;
      case 3 /* string */:
        newObj = new AStringI(obj.scope, obj.name);
        break;
    }
    newObj.value = obj.value;
    return newObj;
  }
  static CreateI(type, scope, name) {
    switch (type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanI(scope, name);
      case 2 /* number */:
        return new ANumberI(scope, name);
      case 3 /* string */:
        return new AStringI(scope, name);
    }
  }
  static CreateII(struct, inspectorDiv, color = void 0) {
    switch (struct.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanII(struct, inspectorDiv, color);
      case 2 /* number */:
        return new ANumberII(struct, inspectorDiv, color);
      case 3 /* string */:
        return new AStringII(struct, inspectorDiv, color);
    }
  }
};
var ASI = class {
  constructor(scope, name = "") {
    this.name = name;
    this.scope = scope;
  }
};
var ASII = class {
  static AdjustInputWidth(input, div) {
    const tempEl = div.createEl("div", { text: input.value });
    tempEl.style.position = "absolute";
    tempEl.style.visibility = "hidden";
    tempEl.style.whiteSpace = "nowrap";
    tempEl.style.font = "inherit";
    tempEl.style.padding = input instanceof HTMLInputElement ? "1vh" : "2vh";
    input.style.width = tempEl.getBoundingClientRect().width + "px";
    tempEl.remove();
  }
};
var ABooleanI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 1 /* boolean */;
    this.value = false;
  }
};
var ABooleanII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "checkbox" });
    input.checked = this.instance.value;
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.onclick = () => {
      this.instance.value = input.checked;
      input.style.backgroundColor = input.checked ? CENTRAL_COLOR_1 : CENTRAL_COLOR_3;
    };
  }
};
var ANumberI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 2 /* number */;
    this.value = 0;
  }
};
var ANumberII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    ASII.AdjustInputWidth(input, div);
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.oninput = () => {
      ASII.AdjustInputWidth(input, div);
    };
    input.onchange = () => {
      this.instance.value = parseFloat(input.value);
    };
  }
};
var AStringI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 3 /* string */;
    this.value = "";
  }
};
var AStringII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    ASII.AdjustInputWidth(input, div);
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.oninput = () => {
      ASII.AdjustInputWidth(input, div);
    };
    input.onchange = () => {
      this.instance.value = input.value;
    };
  }
};

// classes/functions/function.ts
var AFHandler = class {
  static Copy(obj) {
    const newParams = [];
    for (let i = 0; i < obj.parameters.length; i++) {
      const currParam = obj.parameters[i];
      if (currParam instanceof AFI) {
        newParams.push(this.Copy(currParam));
      } else {
        newParams.push(ASHandler.Copy(currParam));
      }
    }
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(newParams);
      case 2 /* get */:
        return new AGetI(newParams);
      case 3 /* set */:
        return new ASetI(newParams);
      case 4 /* if */:
        return new AIfI(newParams);
      case 5 /* equals */:
        return new AEqualsI(newParams);
      case 6 /* add */:
        return new AAddI(newParams);
    }
  }
  static CreateI(type, parameters) {
    switch (type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(parameters);
      case 2 /* get */:
        return new AGetI(parameters);
      case 3 /* set */:
        return new ASetI(parameters);
      case 4 /* if */:
        return new AIfI(parameters);
      case 5 /* equals */:
        return new AEqualsI(parameters);
      case 6 /* add */:
        return new AAddI(parameters);
    }
  }
  static CreateEI(obj, blockDiv, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingEI(obj, blockDiv, anp);
      case 1 /* chain */:
        return new AChainEI(obj, blockDiv, anp);
      case 2 /* get */:
        return new AGetEI(obj, blockDiv, anp);
      case 3 /* set */:
        return new ASetEI(obj, blockDiv, anp);
      case 4 /* if */:
        return new AIfEI(obj, blockDiv, anp);
      case 5 /* equals */:
        return new AEqualsEI(obj, blockDiv, anp);
      case 6 /* add */:
        return new AAddEI(obj, blockDiv, anp);
    }
  }
  static CreateRI(obj, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingRI(obj, anp);
      case 1 /* chain */:
        return new AChainRI(obj, anp);
      case 2 /* get */:
        return new AGetRI(obj, anp);
      case 3 /* set */:
        return new ASetRI(obj, anp);
      case 4 /* if */:
        return new AIfRI(obj, anp);
      case 5 /* equals */:
        return new AEqualsRI(obj, anp);
      case 6 /* add */:
        return new AAddRI(obj, anp);
    }
  }
};
var AFI = class {
  constructor() {
    this.defaultParameters = [];
    this.parameters = [];
  }
};
var AFEI = class {
  constructor(instance, blockDiv, anp) {
    this.instance = instance;
    this.div = blockDiv;
    this.anp = anp;
    this.DisplayBlock();
  }
  static AdjustInputWidth(input, div) {
    const tempEl = div.createEl("div", { text: input.value });
    tempEl.style.position = "absolute";
    tempEl.style.visibility = "hidden";
    tempEl.style.whiteSpace = "nowrap";
    tempEl.style.font = "inherit";
    tempEl.style.padding = input instanceof HTMLInputElement ? "1vh" : "2vh";
    input.style.width = tempEl.getBoundingClientRect().width + "px";
    tempEl.remove();
  }
  CreateASIOrAFIParameterDiv(index, paramDiv, backgroundColor) {
    const param = this.instance.parameters[index];
    if (param instanceof ASI) {
      return this.CreateASIParameterDiv(index, paramDiv, backgroundColor);
    } else {
      return this.CreateAFIParameterDiv(index, paramDiv, backgroundColor);
    }
  }
  CreateASIParameterDiv(index, paramDiv, backgroundColor) {
    const param = this.instance.parameters[index];
    ASHandler.CreateII(param, paramDiv, backgroundColor);
  }
  CreateAFIParameterDiv(index, paramDiv, backgroundColor) {
    const param = this.instance.parameters[index];
    const paramEI = AFHandler.CreateEI(param, paramDiv, this.anp);
    AFEI.MakeBlockDraggable(paramEI, this.anp, false);
    paramEI.parentEI = this;
    if (paramEI.instance.type === 0 /* none */) {
      paramEI.div.style.backgroundColor = backgroundColor;
    }
    return paramEI;
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        const currDefaultParam = this.instance.defaultParameters[i];
        this.instance.parameters[i] = currDefaultParam instanceof ASI ? ASHandler.Copy(currDefaultParam) : AFHandler.Copy(currDefaultParam);
      }
    }
  }
  static MakeBlockDraggable(block, anp, isCopy) {
    const scriptEditor = anp.project.scriptEditor;
    block.div.draggable = true;
    block.div.addEventListener("dragstart", (event) => {
      event.stopPropagation();
      if (event.dataTransfer !== null) {
        event.dataTransfer.effectAllowed = "copy";
      }
      scriptEditor.currentlyDraggedBlockIsCopy = isCopy;
      scriptEditor.currentlyDraggedBlock = block;
      scriptEditor.blocksDiv.style.height = "90%";
      scriptEditor.delDiv.style.height = "10%";
    });
    block.div.addEventListener("dragend", (event) => {
      event.stopPropagation();
      event.preventDefault();
      scriptEditor.blocksDiv.style.height = "100%";
      scriptEditor.delDiv.style.height = "0%";
    });
  }
  static SetParameterDiv(anp, afei, paramDiv, paramIndex) {
    const scriptEditor = anp.project.scriptEditor;
    paramDiv.addEventListener("dragover", (event) => {
      event.stopPropagation();
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      paramDiv.style.borderStyle = "solid";
      paramDiv.style.borderColor = ACCENT_COLOR_1;
    });
    paramDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      paramDiv.style.borderStyle = "";
    });
    paramDiv.addEventListener("drop", (event) => {
      event.stopPropagation();
      if (scriptEditor.currentlyDraggedBlock !== void 0) {
        let newBlock;
        let newBlockDiv;
        if (scriptEditor.currentlyDraggedBlockIsCopy) {
          const newBlockInstance = AFHandler.Copy(scriptEditor.currentlyDraggedBlock.instance);
          newBlockDiv = scriptEditor.currentlyDraggedBlock.div.cloneNode(true);
          newBlock = AFHandler.CreateEI(newBlockInstance, newBlockDiv, anp);
        } else {
          if (scriptEditor.currentlyDraggedBlock.parentEI !== void 0) {
            const parentEI = scriptEditor.currentlyDraggedBlock.parentEI;
            parentEI.RemoveParameter(scriptEditor.currentlyDraggedBlock.instance);
            parentEI.DisplayBlock();
          }
          newBlockDiv = scriptEditor.currentlyDraggedBlock.div;
          newBlock = scriptEditor.currentlyDraggedBlock;
          newBlockDiv.detach();
        }
        afei.instance.parameters[paramIndex] = newBlock.instance;
        afei.DisplayBlock();
        event.preventDefault();
      }
      scriptEditor.currentlyDraggedBlock = void 0;
    });
  }
};
var AFRI = class {
  constructor(ogFunction, anp) {
    this.type = ogFunction.type;
    this.parameters = [];
    this.anp = anp;
    for (let i = 0; i < ogFunction.parameters.length; i++) {
      const ogParam = ogFunction.parameters[i];
      let copy;
      if (ogParam instanceof ASI) {
        copy = ASHandler.Copy(ogParam);
      } else {
        copy = AFHandler.CreateRI(ogParam, anp);
      }
      this.parameters.push(copy);
    }
  }
};
var ADoNothingI = class extends AFI {
  constructor() {
    super(...arguments);
    this.type = 0 /* none */;
  }
};
var ADoNothingEI = class extends AFEI {
  DisplayBlock() {
    this.div.style.borderRadius = "0.5vh";
    this.div.style.minWidth = "4vh";
    this.div.style.minHeight = "4vh";
    this.div.style.backgroundColor = BG_COLOR_3;
  }
  RemoveParameter(parameter) {
  }
};
var ADoNothingRI = class extends AFRI {
  async Execute() {
  }
};
var AChainI = class extends AFI {
  constructor(parameters = void 0) {
    super();
    this.type = 1 /* chain */;
    const doNothing = new ADoNothingI();
    this.defaultParameters.push(doNothing);
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AChainEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = BG_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    div.style.width = "fit-content";
    div.style.padding = "1vh";
    div.style.gap = "1vh";
    const anp = this.anp;
    for (let i = 0; i < this.instance.parameters.length; i++) {
      const index = i;
      const currBlockDiv = div.createDiv("hbox");
      const currParamDiv = currBlockDiv.createDiv();
      const currParam = this.instance.parameters[i];
      const currParamEI = AFHandler.CreateEI(currParam, currParamDiv, anp);
      AFEI.MakeBlockDraggable(currParamEI, anp, false);
      currParamEI.parentEI = this;
      AFEI.SetParameterDiv(anp, this, currParamDiv, index);
      const deleteButton = currBlockDiv.createEl("button", { text: "-" });
      deleteButton.className = "geod3-remove-button";
      const addButton2 = currBlockDiv.createEl("button", { text: "+" });
      addButton2.className = "geod3-add-button";
      deleteButton.onclick = () => {
        this.instance.parameters.splice(index, 1);
        this.DisplayBlock();
      };
      addButton2.onclick = () => {
        this.instance.parameters.splice(index, 0, new ADoNothingI());
        this.DisplayBlock();
      };
    }
    const addButton = div.createEl("button", { text: "+" });
    addButton.className = "geod3-add-button";
    addButton.onclick = () => {
      this.instance.parameters.splice(this.instance.parameters.length, 0, new ADoNothingI());
      this.DisplayBlock();
    };
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        this.instance.parameters[i] = AFHandler.Copy(this.instance.defaultParameters[0]);
      }
    }
  }
};
var AChainRI = class extends AFRI {
  async Execute() {
    for (let i = 0; i < this.parameters.length; i++) {
      await this.parameters[i].Execute();
    }
  }
};
var AGetI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 2 /* get */;
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    const varName = new AStringI(0 /* Value */, "Variable Name");
    objIndex.value = 0;
    varName.value = "Sprite Path";
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
    }
  }
};
var AGetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Get" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = CENTRAL_COLOR_3;
    varNameInput.style.backgroundColor = CENTRAL_COLOR_3;
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      AFEI.AdjustInputWidth(objIDInput, div);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      AFEI.AdjustInputWidth(varNameInput, div);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    AFEI.AdjustInputWidth(objIDInput, div);
    AFEI.AdjustInputWidth(varNameInput, div);
  }
};
var AGetRI = class extends AFRI {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    return GEOD3ObjectHandler.GetVariable(obj, varName.value);
  }
};
var ASetI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 3 /* set */;
    const varName = new AStringI(0 /* Value */, "Variable Name");
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    varName.value = "Sprite Path";
    objIndex.value = 0;
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
      this.parameters.push(ASHandler.CreateI(2 /* number */, 0 /* Value */, ""));
    }
  }
};
var ASetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Set" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    div.createEl("div", { text: "to" });
    const valueDiv = div.createDiv();
    AFEI.SetParameterDiv(anp, this, valueDiv, 2);
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = CENTRAL_COLOR_3;
    varNameInput.style.backgroundColor = CENTRAL_COLOR_3;
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
      valueDiv.empty();
      if (this.instance.parameters[2] instanceof AFI) {
        this.CreateAFIParameterDiv(2, valueDiv, CENTRAL_COLOR_3);
      } else {
        this.CreateASIParameterDiv(2, valueDiv, CENTRAL_COLOR_3);
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      AFEI.AdjustInputWidth(objIDInput, div);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      AFEI.AdjustInputWidth(varNameInput, div);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    AFEI.AdjustInputWidth(objIDInput, div);
    AFEI.AdjustInputWidth(varNameInput, div);
  }
  RemoveParameter(parameter) {
    if (this.instance.parameters[2] === parameter) {
      const defaultParam = ASHandler.CreateI(this.instance.parameters[0].type, 0 /* Value */, "");
      this.instance.parameters[2] = defaultParam;
    }
  }
};
var ASetRI = class extends AFRI {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const val = this.parameters[2];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    const varToSet = GEOD3ObjectHandler.GetVariable(obj, varName.value);
    varToSet.value = val instanceof AFRI ? (await val.Execute()).value : val.value;
  }
};
var AIfI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 4 /* if */;
    const condition = new ABooleanI(0 /* Value */, "condition");
    const doNothing = new ADoNothingI();
    condition.value = false;
    this.defaultParameters = [condition, doNothing];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(condition));
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AIfEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = ACCENT_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const topDiv = div.createDiv("hbox");
    topDiv.createEl("div", { text: "If" });
    const conditionDiv = topDiv.createDiv();
    const functionDiv = div.createDiv();
    AFEI.SetParameterDiv(anp, this, conditionDiv, 0);
    AFEI.SetParameterDiv(anp, this, functionDiv, 1);
    this.CreateASIOrAFIParameterDiv(0, conditionDiv, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(1, functionDiv, ACCENT_COLOR_3);
  }
};
var AIfRI = class extends AFRI {
  async Execute() {
    const param1 = this.parameters[0];
    const param1IsAFRI = param1 instanceof AFRI;
    const condition = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    if (condition) {
      const param2 = this.parameters[1];
      await param2.Execute();
    }
  }
};
var AEqualsI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 5 /* equals */;
    const val1 = new ANumberI(0 /* Value */, "val1");
    const val2 = new ANumberI(0 /* Value */, "val2");
    val1.value = 0;
    val2.value = 0;
    this.defaultParameters = [val1, val2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(val1));
      this.parameters.push(ASHandler.Copy(val2));
    }
  }
};
var AEqualsEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const val1Div = div.createDiv();
    div.createEl("div", { text: "=" });
    const val2Div = div.createDiv();
    AFEI.SetParameterDiv(anp, this, val1Div, 0);
    AFEI.SetParameterDiv(anp, this, val2Div, 1);
    this.CreateASIOrAFIParameterDiv(0, val1Div, CENTRAL_COLOR_3);
    this.CreateASIOrAFIParameterDiv(1, val2Div, CENTRAL_COLOR_3);
  }
};
var AEqualsRI = class extends AFRI {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param1IsAFRI = param1 instanceof AFRI;
    const param2IsAFRI = param2 instanceof AFRI;
    const val1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const val2 = param2IsAFRI ? (await param2.Execute()).value : param2.value;
    const output = new ABooleanI(0 /* Value */, "sum");
    output.value = val1 === val2;
    return output;
  }
};
var AAddI = class extends AFI {
  constructor(parameters) {
    super();
    this.type = 6 /* add */;
    const num1 = new ANumberI(0 /* Value */, "num1");
    const num2 = new ANumberI(0 /* Value */, "num2");
    num1.value = 0;
    num2.value = 0;
    this.defaultParameters = [num1, num2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(num1));
      this.parameters.push(ASHandler.Copy(num2));
    }
  }
};
var AAddEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const num1Div = div.createDiv();
    div.createEl("div", { text: "+" });
    const num2Div = div.createDiv();
    AFEI.SetParameterDiv(anp, this, num1Div, 0);
    AFEI.SetParameterDiv(anp, this, num2Div, 1);
    this.CreateASIOrAFIParameterDiv(0, num1Div, CENTRAL_COLOR_3);
    this.CreateASIOrAFIParameterDiv(1, num2Div, CENTRAL_COLOR_3);
  }
};
var AAddRI = class extends AFRI {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param1IsAFRI = param1 instanceof AFRI;
    const param2IsAFRI = param2 instanceof AFRI;
    const num1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const num2 = param2IsAFRI ? (await param2.Execute()).value : param2.value;
    const output = new ANumberI(0 /* Value */, "sum");
    output.value = num1 + num2;
    return output;
  }
};

// classes/tabs/geod3-object.ts
var GEOD3ObjectHandler = class {
  static GetVariable(obj, name) {
    for (let i = 0; i < obj.variables.length; i++) {
      if (obj.variables[i].name === name) {
        return obj.variables[i];
      }
    }
    throw new Error("Variable " + name + " not found on object " + obj.idInScene + ": " + obj.name);
  }
  static CreateII(obj, anp, inspectorDiv) {
    return new GEOD3ObjectII(obj, anp, inspectorDiv);
  }
  static CreateRI(obj, anp, objDiv) {
    return new GEOD3ObjectRI(obj, anp, objDiv);
  }
};
var GEOD3Object = class {
  constructor(id) {
    this.idInScene = id;
    this.name = "object";
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    this.variables.push(ASHandler.CreateI(3 /* string */, 1 /* Public */, "Sprite Path"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "z"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed z"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration z"));
    this.variables.push(ASHandler.CreateI(1 /* boolean */, 1 /* Public */, "Do Rectangular Hitbox"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Radius/Half Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Half Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Half Thickness"));
    this.variables[1].value = 100;
    this.variables[2].value = 100;
  }
};
var GEOD3ObjectII = class {
  constructor(instance, anp, div) {
    this.instance = instance;
    this.anp = anp;
    div.empty();
    const nameDiv = div.createDiv("hbox");
    nameDiv.createEl("div", { text: this.instance.idInScene + ":" });
    const nameInput = nameDiv.createEl("input", { type: "text", value: this.instance.name });
    const editScriptsButton = nameDiv.createEl("button", { text: "Edit Scripts\u{1F4DC}" });
    editScriptsButton.className = "geod3-secondary-button";
    nameInput.onchange = () => {
      this.instance.name = nameInput.value;
    };
    editScriptsButton.onclick = () => {
      anp.project.scriptEditor.currentObject = this.instance;
      anp.project.SwitchToTab(anp.project.scriptEditorTabID);
    };
    const variablesDiv = div.createDiv("geod3-inspector-variable-list vbox");
    for (let i = 0; i < this.instance.variables.length; i++) {
      const asI = this.instance.variables[i];
      const varDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      varDiv.createEl("div", { text: asI.name });
      ASHandler.CreateII(asI, varDiv.createDiv());
    }
    const addNewDiv = div.createDiv("hbox");
    const variableNameInput = addNewDiv.createEl("input", { type: "text", value: "unnamed" });
    const variableTypeInput = addNewDiv.createEl("select");
    const addVariableButton = addNewDiv.createEl("button", { text: "+" });
    addVariableButton.className = "geod3-add-button";
    for (let i = 1; i < 4; i++) {
      const type = AS[i];
      variableTypeInput.createEl("option", { text: type, value: i + "" });
    }
    variableTypeInput.value = "1";
    addVariableButton.onclick = () => {
      const name = variableNameInput.value;
      for (let i = 0; i < this.instance.variables.length; i++) {
        if (this.instance.variables[i].name === name) {
          return;
        }
      }
      const newVar = ASHandler.CreateI(parseInt(variableTypeInput.value), 1 /* Public */, name);
      this.instance.variables.push(newVar);
      const newVarDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      newVarDiv.createEl("div", { text: newVar.name });
      ASHandler.CreateII(newVar, newVarDiv);
    };
  }
};
var GEOD3ObjectRI = class {
  constructor(obj, anp, objDiv) {
    this.idInScene = obj.idInScene;
    this.name = obj.name;
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    for (let i = 0; i < obj.variables.length; i++) {
      this.variables.push(ASHandler.Copy(obj.variables[i]));
    }
    for (let i = 0; i < obj.onStart.length; i++) {
      this.onStart.push(AFHandler.CreateRI(obj.onStart[i], anp));
    }
    for (let i = 0; i < obj.onNewFrame.length; i++) {
      this.onNewFrame.push(AFHandler.CreateRI(obj.onNewFrame[i], anp));
    }
    this.objDiv = objDiv;
    this.anp = anp;
    this.prevSpritePath = "";
    this.SetObjDivCSSProperties();
  }
  SetObjDivCSSProperties() {
    this.objDiv.style.transform = "translate(-50%, 0%)";
    this.objDiv.style.position = "absolute";
  }
  RefreshSprite() {
    const spritePath = GEOD3ObjectHandler.GetVariable(this, "Sprite Path").value;
    if (this.prevSpritePath !== spritePath) {
      try {
        const mediaFile = this.anp.project.fileManager.GetFileByPrimitivePath(spritePath);
        const spriteSrc = mediaFile.data;
        let mediaEl;
        this.objDiv.empty();
        if (mediaFile instanceof ImageFile) {
          mediaEl = this.objDiv.createEl("img");
        } else {
          mediaEl = this.objDiv.createEl("video");
          mediaEl.controls = false;
          mediaEl.loop = true;
        }
        mediaEl.src = spriteSrc;
        mediaEl.style.width = "100%";
        mediaEl.style.height = "100%";
        this.prevSpritePath = spritePath;
      } catch (e) {
        console.log("failed to find image/video path");
      }
    }
  }
  SetLocationAndWidth() {
    const width = GEOD3ObjectHandler.GetVariable(this, "Sprite Width");
    const height = GEOD3ObjectHandler.GetVariable(this, "Sprite Height");
    const x = GEOD3ObjectHandler.GetVariable(this, "x");
    const y = GEOD3ObjectHandler.GetVariable(this, "y");
    const z = GEOD3ObjectHandler.GetVariable(this, "z");
    const xVel = GEOD3ObjectHandler.GetVariable(this, "Speed x");
    const yVel = GEOD3ObjectHandler.GetVariable(this, "Speed y");
    const zVel = GEOD3ObjectHandler.GetVariable(this, "Speed z");
    const xAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration x");
    const yAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration y");
    const zAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration z");
    this.objDiv.style.width = width.value + "px";
    this.objDiv.style.height = height.value + "px";
    xVel.value += xAccel.value;
    yVel.value += yAccel.value;
    zVel.value += zAccel.value;
    x.value += xVel.value;
    y.value += yVel.value;
    z.value += zVel.value;
    this.objDiv.style.left = x.value + "px";
    this.objDiv.style.bottom = y.value + "px";
  }
  Render() {
    this.RefreshSprite();
    this.SetLocationAndWidth();
  }
  OnStart() {
    for (let i = 0; i < this.onStart.length; i++) {
      this.onStart[i].Execute();
    }
  }
  OnNewFrame() {
    for (let i = 0; i < this.onNewFrame.length; i++) {
      this.onNewFrame[i].Execute();
    }
  }
};

// classes/tabs/game-view.ts
var GameView = class extends Tab {
  async Focus(div) {
    div.empty();
    div.className = "geod3-game-view-main-div geod3-tab-container";
    const gameWrapper = div.createDiv("geod3-game-wrapper");
    this.gameDiv = gameWrapper.createDiv("geod3-game");
    this.stillRunning = true;
    this.objects = [];
    await this.OnStart();
    while (this.stillRunning) {
      this.OnNewFrame();
      await sleep(15);
    }
  }
  UnFocus(div) {
    div.empty();
    this.stillRunning = false;
  }
  async OnStart() {
    const objInstances = this.anp.project.sceneView.objects;
    for (let i = 0; i < objInstances.length; i++) {
      this.objects.push(GEOD3ObjectHandler.CreateRI(objInstances[i], this.anp, this.gameDiv.createDiv()));
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnStart();
    }
  }
  async OnNewFrame() {
    const renderingOrder = [];
    for (let i = 0; i < this.objects.length; i++) {
      const currObj = this.objects[i];
      currObj.Render();
      this.PlaceIntoSpriteArray(renderingOrder, currObj);
    }
    for (let i = 0; i < renderingOrder.length; i++) {
      const currSprite = renderingOrder[i];
      currSprite.objDiv.style.zIndex = i + "";
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnNewFrame();
    }
  }
  PlaceIntoSpriteArray(arr, newItem) {
    let low = 0;
    let high = arr.length;
    const newZ = GEOD3ObjectHandler.GetVariable(newItem, "z");
    while (low < high) {
      const mid = Math.floor((low + high) / 2);
      const midZ = GEOD3ObjectHandler.GetVariable(arr[mid], "z");
      if (midZ < newZ) {
        low = mid + 1;
      } else {
        high = mid;
      }
    }
    arr.splice(low, 0, newItem);
  }
};
GameView.icon = "\u25B6\uFE0F";

// classes/tabs/scene-view.ts
var SceneView = class extends Tab {
  constructor(anp) {
    super(anp);
    this.objects = [];
  }
  Focus(div) {
    div.empty();
    div.className = "geod3-tab-container hbox";
    this.hierarchyDiv = div.createDiv("geod3-object-list vbox");
    const sceneScrollWrapper = div.createDiv("geod3-scene-scroll-wrapper");
    const sceneWrapper = sceneScrollWrapper.createDiv("geod3-scene-wrapper");
    this.sceneDiv = sceneWrapper.createDiv("geod3-scene");
    this.inspectorDiv = div.createDiv("geod3-inspector");
    const listDiv = this.hierarchyDiv.createDiv("vbox");
    for (let i = 0; i < this.objects.length; i++) {
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      const currObj = this.objects[i];
      objectDiv.textContent = currObj.idInScene + ": " + currObj.name;
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(currObj, this.anp, this.inspectorDiv);
      };
    }
    const buttonsDiv = this.hierarchyDiv.createDiv("hbox");
    const refreshButton = buttonsDiv.createEl("button", { text: "\u27F3" });
    const addObjButton = buttonsDiv.createEl("button", { text: "+" });
    refreshButton.className = "geod3-secondary-button";
    addObjButton.className = "geod3-add-button";
    refreshButton.style.width = "50%";
    addObjButton.style.width = "50%";
    refreshButton.onclick = () => {
      this.sceneDiv.empty();
      for (let i = 0; i < this.objects.length; i++) {
        const currObj = GEOD3ObjectHandler.CreateRI(this.objects[i], this.anp, this.sceneDiv.createDiv());
        currObj.Render();
      }
    };
    addObjButton.onclick = () => {
      const index = this.objects.length;
      const newObj = new GEOD3Object(index);
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      objectDiv.createEl("div", { text: newObj.idInScene + ": " + newObj.name });
      this.objects.push(newObj);
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(newObj, this.anp, this.inspectorDiv);
      };
    };
  }
  UnFocus(div) {
    div.empty();
  }
};
SceneView.icon = "\u{1F310}";

// classes/tabs/script-editor.ts
var ScriptEditor = class extends Tab {
  async Focus(div) {
    div.empty();
    if (this.currentObject !== void 0) {
      div.className = "geod3-tab-container hbox";
      const leftSide = div.createDiv("geod3-script-wrapper vbox");
      const topDiv = leftSide.createDiv("geod3-script-navigator hbox");
      topDiv.createEl("div", { text: this.currentObject.idInScene + ": " + this.currentObject.name });
      const clusterTypeInput = topDiv.createEl("select");
      clusterTypeInput.value = "On Start";
      clusterTypeInput.createEl("option", { text: "On Start", value: "On Start" });
      clusterTypeInput.createEl("option", { text: "On New Frame", value: "On New Frame" });
      const clusterNumberInput = topDiv.createEl("input", { type: "number", value: "0" });
      clusterNumberInput.min = "0";
      this.scriptDiv = leftSide.createDiv("geod3-script");
      const blockPool = div.createDiv("geod3-block-pool");
      this.blocksDiv = blockPool.createDiv("geod3-blocks-list");
      this.delDiv = blockPool.createDiv("geod3-block-delete-div");
      const LoadScript = () => {
        const obj = this.currentObject;
        const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
        const index = parseInt(clusterNumberInput.value);
        if (index >= scriptType.length) {
          scriptType.push(new AChainI([new ADoNothingI()]));
          clusterNumberInput.max = scriptType.length + "";
        }
        AFHandler.CreateEI(scriptType[index], this.scriptDiv, this.anp);
      };
      this.CreateBlockPool();
      LoadScript();
      clusterTypeInput.onchange = () => {
        const obj = this.currentObject;
        const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
        clusterNumberInput.value = "0";
        clusterNumberInput.max = scriptType.length + "";
        LoadScript();
      };
      clusterNumberInput.onchange = () => {
        LoadScript();
      };
    } else {
      div.createEl("h1", { text: "No object was selected" });
    }
  }
  CreateBlockPool() {
    this.blocksDiv.empty();
    this.delDiv.addEventListener("dragover", (event) => {
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      this.delDiv.className = "geod3-block-delete-div-hover";
    });
    this.delDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      this.delDiv.className = "geod3-block-delete-div";
    });
    this.delDiv.addEventListener("drop", (event) => {
      if (!(this.currentlyDraggedBlock === void 0 || this.currentlyDraggedBlockIsCopy)) {
        this.currentlyDraggedBlock.div.remove();
        const parentEI = this.currentlyDraggedBlock.parentEI;
        if (parentEI !== void 0) {
          parentEI.RemoveParameter(this.currentlyDraggedBlock.instance);
          parentEI.DisplayBlock();
        }
      }
    });
    const chainI = AFHandler.CreateI(1 /* chain */, void 0);
    const getI = AFHandler.CreateI(2 /* get */, void 0);
    const setI = AFHandler.CreateI(3 /* set */, void 0);
    const ifI = AFHandler.CreateI(4 /* if */, void 0);
    const equalsI = AFHandler.CreateI(5 /* equals */, void 0);
    const addI = AFHandler.CreateI(6 /* add */, void 0);
    const chainBlock = AFHandler.CreateEI(chainI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const getBlock = AFHandler.CreateEI(getI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const setBlock = AFHandler.CreateEI(setI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const ifBlock = AFHandler.CreateEI(ifI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const equalsBlock = AFHandler.CreateEI(equalsI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const addBlock = AFHandler.CreateEI(addI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    AFEI.MakeBlockDraggable(chainBlock, this.anp, true);
    AFEI.MakeBlockDraggable(getBlock, this.anp, true);
    AFEI.MakeBlockDraggable(setBlock, this.anp, true);
    AFEI.MakeBlockDraggable(ifBlock, this.anp, true);
    AFEI.MakeBlockDraggable(equalsBlock, this.anp, true);
    AFEI.MakeBlockDraggable(addBlock, this.anp, true);
  }
  UnFocus(div) {
    div.empty();
  }
};
ScriptEditor.icon = "\u{1F4DC}";

// classes/project.ts
var Project = class {
  get fileManager() {
    return this.tabs[0];
  }
  get sceneView() {
    return this.tabs[1];
  }
  get scriptEditor() {
    return this.tabs[2];
  }
  get gameView() {
    return this.tabs[3];
  }
  get fileManagerTabID() {
    return 0;
  }
  get sceneViewTabID() {
    return 1;
  }
  get scriptEditorTabID() {
    return 2;
  }
  get gameViewTabID() {
    return 3;
  }
  constructor(app) {
    this.anp = new AppAndProject(app, this);
    this.tabs = [];
    this.tabs.push(new GEOD3FileManager(this.anp));
    this.tabs.push(new SceneView(this.anp));
    this.tabs.push(new ScriptEditor(this.anp));
    this.tabs.push(new GameView(this.anp));
    this.activeTabID = 0;
  }
  async Load() {
    await this.LoadFiles();
    await this.GrabFileDependencies();
    await this.LoadObjects();
  }
  async LoadFiles() {
    await this.fileManager.LoadFiles(this.anp);
  }
  async GrabFileDependencies() {
    const fm = this.fileManager;
    for (let i = 0; i < fm.files.length; i++) {
      await fm.files[i].GrabDependencies(this.anp);
    }
  }
  async LoadObjects() {
    const sv = this.sceneView;
    const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
    const tFile = this.anp.app.vault.getFileByPath(path);
    if (tFile === null) {
      return;
    }
    const data = await this.anp.app.vault.cachedRead(tFile);
    const plainObj = JSON.parse(data);
    sv.objects = plainObj.objects;
    const loadFunction = (plainFunct) => {
      const newFunct = Object.assign(AFHandler.CreateI(plainFunct.type, plainFunct.parameters), plainFunct);
      for (let i = 0; i < newFunct.defaultParameters.length; i++) {
        const isStruct = plainFunct.defaultParameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.defaultParameters[i];
          newFunct.defaultParameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.defaultParameters[i] = loadFunction(plainFunct.defaultParameters[i]);
        }
      }
      for (let i = 0; i < newFunct.parameters.length; i++) {
        const isStruct = plainFunct.parameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.parameters[i];
          newFunct.parameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.parameters[i] = loadFunction(plainFunct.parameters[i]);
        }
      }
      return newFunct;
    };
    for (let i = 0; i < plainObj.objects.length; i++) {
      const newObj = Object.assign(new GEOD3Object(i), plainObj.objects[i]);
      sv.objects[i] = newObj;
      for (let j = 0; j < newObj.variables.length; j++) {
        const plainVar = sv.objects[i].variables[j];
        const newVar = Object.assign(ASHandler.CreateI(plainVar.type, plainVar.scope, plainVar.name), plainVar);
        sv.objects[i].variables[j] = newVar;
      }
      for (let j = 0; j < newObj.onStart.length; j++) {
        const plainFunct = sv.objects[i].onStart[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onStart[j] = newFunct;
      }
      for (let j = 0; j < newObj.onNewFrame.length; j++) {
        const plainFunct = sv.objects[i].onNewFrame[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onNewFrame[j] = newFunct;
      }
    }
  }
  async Display(div) {
    div.empty();
    const tabBar = div.createDiv("geod3-tab-bar hbox");
    const tabContainer = div.createDiv("geod3-tab-container");
    const tabIcons = [];
    const filesTab = tabBar.createEl("button", { text: GEOD3FileManager.icon });
    const sceneViewTab = tabBar.createEl("button", { text: SceneView.icon });
    const scriptEditorTab = tabBar.createEl("button", { text: ScriptEditor.icon });
    const gameTab = tabBar.createEl("button", { text: GameView.icon });
    const saveButton = tabBar.createEl("button", { text: "\u{1F4BE}Save" });
    saveButton.className = "geod3-secondary-button";
    saveButton.onclick = async () => {
      saveButton.disabled = true;
      saveButton.textContent = "\u27F3Saving...";
      const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
      const data = JSON.stringify(new SceneDTO(this.anp.project.sceneView.objects));
      await this.anp.app.vault.adapter.write(path, data);
      saveButton.disabled = false;
      saveButton.textContent = "\u{1F4BE}Save";
    };
    filesTab.className = "geod3-tab-icon";
    sceneViewTab.className = "geod3-tab-icon";
    scriptEditorTab.className = "geod3-tab-icon";
    gameTab.className = "geod3-tab-icon";
    tabIcons.push(filesTab);
    tabIcons.push(sceneViewTab);
    tabIcons.push(scriptEditorTab);
    tabIcons.push(gameTab);
    tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
    this.tabs[this.activeTabID].Focus(tabContainer);
    const switchToTab = async (index) => {
      tabIcons[this.activeTabID].className = "geod3-tab-icon";
      await this.tabs[this.activeTabID].UnFocus(tabContainer);
      this.activeTabID = index;
      tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
      this.tabs[this.activeTabID].Focus(tabContainer);
    };
    this.SwitchToTab = switchToTab;
    filesTab.onclick = () => {
      switchToTab(0);
    };
    sceneViewTab.onclick = () => {
      switchToTab(1);
    };
    scriptEditorTab.onclick = () => {
      switchToTab(2);
    };
    gameTab.onclick = () => {
      switchToTab(3);
    };
  }
};
var AppAndProject = class {
  constructor(app, project) {
    this.app = app;
    this.project = project;
  }
};
var SceneDTO = class {
  constructor(objects = []) {
    this.objects = objects;
  }
};

// classes/geod3-view.ts
var VIEW_TYPE_GEOD3_PROJECT = "geod3-view";
var GEOD3View = class extends import_obsidian5.ItemView {
  constructor(leaf, defaultPath) {
    super(leaf);
    this.defaultPath = defaultPath;
  }
  getViewType() {
    return VIEW_TYPE_GEOD3_PROJECT;
  }
  getDisplayText() {
    return "GEO:D3";
  }
  async onOpen() {
    const mainEl = this.containerEl.children[1];
    mainEl.empty();
    const mainDiv = mainEl.createDiv("geod3-main-div");
    const mainDivTemp = mainDiv.createDiv("geod3-main-div");
    mainDivTemp.tabIndex = -1;
    mainDivTemp.focus();
    mainDivTemp.createEl("h1", { text: "Path to project:" });
    const pathInput = mainDivTemp.createEl("input", { type: "text", value: this.defaultPath });
    const submitButton = mainDivTemp.createEl("button", { text: "Open" });
    const onSubmit = async () => {
      const folderPath = (0, import_obsidian5.normalizePath)(pathInput.value);
      const dataPath = folderPath + "/RESERVED FOLDER DO NOT RENAME/Objects.md";
      this.project = new Project(this.app);
      this.project.pathToProject = folderPath;
      if (!await this.app.vault.adapter.exists(dataPath)) {
        const newDTO = new SceneDTO();
        const pathParts = dataPath.split("/");
        let pathSoFar = "";
        for (let i = 0; !await this.app.vault.adapter.exists(dataPath) && i < pathParts.length; i++) {
          const isLast = i === pathParts.length - 1;
          pathSoFar += pathParts[i] + (isLast ? "" : "/");
          if (isLast) {
            await this.app.vault.create(pathSoFar, JSON.stringify(newDTO));
          } else {
            await this.app.vault.createFolder(pathSoFar);
          }
        }
      }
      await this.project.Load();
      await this.project.Display(mainDiv);
    };
    submitButton.onclick = onSubmit;
    mainDivTemp.onkeydown = (e) => {
      if (e.key === "Enter") {
        mainDivTemp.onkeydown = () => {
        };
        onSubmit();
      }
    };
  }
  async onClose() {
    this.project.gameView.stillRunning = false;
  }
};

// main.ts
var import_obsidian6 = require("obsidian");
var DEFAULT_SETTINGS = {
  projectPath: "New GEOD3 Project"
};
var GEOD3 = class extends import_obsidian6.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_GEOD3_PROJECT,
      (leaf) => new GEOD3View(leaf, this.settings.projectPath)
    );
    this.addRibbonIcon("boxes", "Open GEOD3", () => {
      this.activateView(VIEW_TYPE_GEOD3_PROJECT);
    });
    this.addCommand({
      id: "open-geod3-view",
      name: "Open GEOD3",
      callback: () => {
        this.activateView(VIEW_TYPE_GEOD3_PROJECT);
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  activateView(view_type) {
    let leaf = null;
    leaf = this.app.workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian6.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    leaf.setViewState({ type: view_type, active: true });
  }
};
var SampleSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.projectPath).onChange(async (value) => {
      this.plugin.settings.projectPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2dlb2QzLXZpZXcudHMiLCAiY2xhc3Nlcy9wcm9qZWN0LnRzIiwgImNsYXNzZXMvdGFicy9maWxlLW1hbmFnZXIudHMiLCAiY2xhc3Nlcy90YWJzL3RhYi50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9nZW9kMy1maWxlLnRzIiwgImNsYXNzZXMvdGFicy9maWxlLXR5cGVzL2dlb2QzLWZvbGRlci50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9yZWFsLWZpbGUudHMiLCAiY29sb3JzLnRzIiwgImNsYXNzZXMvc3RydWN0cy9zdHJ1Y3QudHMiLCAiY2xhc3Nlcy9mdW5jdGlvbnMvZnVuY3Rpb24udHMiLCAiY2xhc3Nlcy90YWJzL2dlb2QzLW9iamVjdC50cyIsICJjbGFzc2VzL3RhYnMvZ2FtZS12aWV3LnRzIiwgImNsYXNzZXMvdGFicy9zY2VuZS12aWV3LnRzIiwgImNsYXNzZXMvdGFicy9zY3JpcHQtZWRpdG9yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBHRU9EM1ZpZXcsIFZJRVdfVFlQRV9HRU9EM19QUk9KRUNUIH0gZnJvbSAnY2xhc3Nlcy9nZW9kMy12aWV3JztcclxuaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBHRU86RDMgc3RhbmRzIGZvciBHYW1lIEVuZ2luZSBpbiBPYnNpZGlhbjogRGV2ZWxvcGVkIGJ5IDNyZC1wYXJ0eS5cclxuICovXHJcbmludGVyZmFjZSBHRU9EM1NldHRpbmdzIHtcclxuXHRwcm9qZWN0UGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHRU9EM1NldHRpbmdzID0ge1xyXG5cdHByb2plY3RQYXRoOiAnTmV3IEdFT0QzIFByb2plY3QnXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdFT0QzIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogR0VPRDNTZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0VklFV19UWVBFX0dFT0QzX1BST0pFQ1QsXHJcblx0XHRcdChsZWFmKSA9PiBuZXcgR0VPRDNWaWV3KGxlYWYsIHRoaXMuc2V0dGluZ3MucHJvamVjdFBhdGgpXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignYm94ZXMnLCAnT3BlbiBHRU9EMycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0dFT0QzX1BST0pFQ1QpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuLWdlb2QzLXZpZXcnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBHRU9EMycsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0dFT0QzX1BST0pFQ1QpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhY3RpdmF0ZVZpZXcodmlld190eXBlOiBzdHJpbmcpIHtcclxuXHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcclxuXHRcdGlmIChsZWFmID09PSBudWxsKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIHZpZXc6IHdvcmtzcGFjZSBsZWFmIHdhcyBudWxsXCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IHZpZXdfdHlwZSwgYWN0aXZlOiB0cnVlIH0pO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogR0VPRDM7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdFT0QzKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBTb3VyY2UgUGF0aCcpXHJcblx0XHRcdC5zZXREZXNjKCdUaGUgdmF1bHQgcGF0aCB0byBhdXRvbWF0aWNhbGx5IGZpbGwgaW4gZm9yIHRoZSBzb3VyY2UgcGF0aCcpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdCBTb3VyY2UgUGF0aCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2plY3RQYXRoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2plY3RQYXRoID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBJdGVtVmlldywgbm9ybWFsaXplUGF0aCwgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgUHJvamVjdCwgU2NlbmVEVE8gfSBmcm9tICcuL3Byb2plY3QnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9HRU9EM19QUk9KRUNUID0gJ2dlb2QzLXZpZXcnO1xyXG5cclxuLyoqXHJcbiAqIE9wZW5zIGEgcHJvamVjdFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdFT0QzVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICAgIGRlZmF1bHRQYXRoOiBzdHJpbmc7XHJcbiAgICBwcm9qZWN0OiBQcm9qZWN0O1xyXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgZGVmYXVsdFBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGxlYWYpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhdGggPSBkZWZhdWx0UGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gVklFV19UWVBFX0dFT0QzX1BST0pFQ1Q7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlzcGxheVRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICdHRU86RDMnO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9uT3BlbigpIHtcclxuICAgICAgICBjb25zdCBtYWluRWwgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xyXG4gICAgICAgIG1haW5FbC5lbXB0eSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1haW5EaXYgPSBtYWluRWwuY3JlYXRlRGl2KCdnZW9kMy1tYWluLWRpdicpO1xyXG4gICAgICAgIGNvbnN0IG1haW5EaXZUZW1wID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2dlb2QzLW1haW4tZGl2Jyk7XHJcblxyXG4gICAgICAgIG1haW5EaXZUZW1wLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgbWFpbkRpdlRlbXAuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgbWFpbkRpdlRlbXAuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnUGF0aCB0byBwcm9qZWN0OicgfSApO1xyXG4gICAgICAgIGNvbnN0IHBhdGhJbnB1dCA9IG1haW5EaXZUZW1wLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5kZWZhdWx0UGF0aCB9ICk7XHJcbiAgICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gbWFpbkRpdlRlbXAuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ09wZW4nIH0gKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aElucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YVBhdGggPSBmb2xkZXJQYXRoICsgJy9SRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRS9PYmplY3RzLm1kJztcclxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0ID0gbmV3IFByb2plY3QodGhpcy5hcHApO1xyXG4gICAgICAgICAgICB0aGlzLnByb2plY3QucGF0aFRvUHJvamVjdCA9IGZvbGRlclBhdGg7XHJcbiAgICAgICAgICAgIGlmICghYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZGF0YVBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdEVE8gPSBuZXcgU2NlbmVEVE8oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBkYXRhUGF0aC5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdGhTb0ZhciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7ICEoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZGF0YVBhdGgpKSAmJiBpIDwgcGF0aFBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gcGF0aFBhcnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aFNvRmFyICs9IHBhdGhQYXJ0c1tpXSArIChpc0xhc3QgPyAnJyA6ICcvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUocGF0aFNvRmFyLCBKU09OLnN0cmluZ2lmeShuZXdEVE8pKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIocGF0aFNvRmFyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9qZWN0LkxvYWQoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9qZWN0LkRpc3BsYXkobWFpbkRpdik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gb25TdWJtaXQ7XHJcbiAgICAgICAgbWFpbkRpdlRlbXAub25rZXlkb3duID0gKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBtYWluRGl2VGVtcC5vbmtleWRvd24gPSAoKSA9PiB7fTtcclxuICAgICAgICAgICAgICAgIG9uU3VibWl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcclxuICAgICAgICB0aGlzLnByb2plY3QuZ2FtZVZpZXcuc3RpbGxSdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGVNYW5hZ2VyIH0gZnJvbSBcIi4vdGFicy9maWxlLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgR2FtZVZpZXcgfSBmcm9tIFwiLi90YWJzL2dhbWUtdmlld1wiO1xyXG5pbXBvcnQgeyBTY2VuZVZpZXcgfSBmcm9tIFwiLi90YWJzL3NjZW5lLXZpZXdcIjtcclxuaW1wb3J0IHsgU2NyaXB0RWRpdG9yIH0gZnJvbSBcIi4vdGFicy9zY3JpcHQtZWRpdG9yXCI7XHJcbmltcG9ydCB7IFRhYiB9IGZyb20gXCIuL3RhYnMvdGFiXCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0IH0gZnJvbSBcIi4vdGFicy9nZW9kMy1vYmplY3RcIjtcclxuaW1wb3J0IHsgQVNIYW5kbGVyIH0gZnJvbSBcIi4vc3RydWN0cy9zdHJ1Y3RcIjtcclxuaW1wb3J0IHsgQUYsIEFGSGFuZGxlciwgQUZJIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2Z1bmN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdCB7XHJcbiAgICBwYXRoVG9Qcm9qZWN0OiBzdHJpbmc7XHJcbiAgICB0YWJzOiBUYWJbXTtcclxuXHJcbiAgICBnZXQgZmlsZU1hbmFnZXIoKTogR0VPRDNGaWxlTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIDxHRU9EM0ZpbGVNYW5hZ2VyPiB0aGlzLnRhYnNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjZW5lVmlldygpOiBTY2VuZVZpZXcge1xyXG4gICAgICAgIHJldHVybiA8U2NlbmVWaWV3PiB0aGlzLnRhYnNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjcmlwdEVkaXRvcigpOiBTY3JpcHRFZGl0b3Ige1xyXG4gICAgICAgIHJldHVybiA8U2NyaXB0RWRpdG9yPiB0aGlzLnRhYnNbMl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGdhbWVWaWV3KCk6IEdhbWVWaWV3IHtcclxuICAgICAgICByZXR1cm4gPEdhbWVWaWV3PiB0aGlzLnRhYnNbM107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZpbGVNYW5hZ2VyVGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NlbmVWaWV3VGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NyaXB0RWRpdG9yVGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZ2FtZVZpZXdUYWJJRCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAzO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGl2ZVRhYklEOiBudW1iZXI7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3RcclxuXHJcbiAgICBTd2l0Y2hUb1RhYjogKGluZGV4OiBudW1iZXIpID0+IFByb21pc2U8dm9pZD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgICAgICB0aGlzLmFucCA9IG5ldyBBcHBBbmRQcm9qZWN0KGFwcCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy50YWJzID0gW107XHJcbiAgICAgICAgdGhpcy50YWJzLnB1c2gobmV3IEdFT0QzRmlsZU1hbmFnZXIodGhpcy5hbnApKTtcclxuICAgICAgICB0aGlzLnRhYnMucHVzaChuZXcgU2NlbmVWaWV3KHRoaXMuYW5wKSk7XHJcbiAgICAgICAgdGhpcy50YWJzLnB1c2gobmV3IFNjcmlwdEVkaXRvcih0aGlzLmFucCkpO1xyXG4gICAgICAgIHRoaXMudGFicy5wdXNoKG5ldyBHYW1lVmlldyh0aGlzLmFucCkpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlVGFiSUQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIExvYWQoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5Mb2FkRmlsZXMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLkdyYWJGaWxlRGVwZW5kZW5jaWVzKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5Mb2FkT2JqZWN0cygpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgTG9hZEZpbGVzKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZmlsZU1hbmFnZXIuTG9hZEZpbGVzKHRoaXMuYW5wKTtcclxuICAgIH1cclxuICAgIGFzeW5jIEdyYWJGaWxlRGVwZW5kZW5jaWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGZtID0gdGhpcy5maWxlTWFuYWdlcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZtLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZtLmZpbGVzW2ldLkdyYWJEZXBlbmRlbmNpZXModGhpcy5hbnApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIExvYWRPYmplY3RzKCkge1xyXG4gICAgICAgIGNvbnN0IHN2ID0gdGhpcy5zY2VuZVZpZXc7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgodGhpcy5hbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgJy9SRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRS9PYmplY3RzLm1kJyk7XHJcbiAgICAgICAgY29uc3QgdEZpbGUgPSB0aGlzLmFucC5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChwYXRoKTtcclxuICAgICAgICBpZiAodEZpbGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hbnAuYXBwLnZhdWx0LmNhY2hlZFJlYWQodEZpbGUpO1xyXG4gICAgICAgIGNvbnN0IHBsYWluT2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICBzdi5vYmplY3RzID0gcGxhaW5PYmoub2JqZWN0cztcclxuICAgICAgICBjb25zdCBsb2FkRnVuY3Rpb24gPSAocGxhaW5GdW5jdDogYW55KTogQUZJID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3RnVuY3QgPSBPYmplY3QuYXNzaWduKEFGSGFuZGxlci5DcmVhdGVJKHBsYWluRnVuY3QudHlwZSwgcGxhaW5GdW5jdC5wYXJhbWV0ZXJzKSwgcGxhaW5GdW5jdCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RnVuY3QuZGVmYXVsdFBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU3RydWN0ID0gcGxhaW5GdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXS5uYW1lICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFpblN0cnVjdCA9IHBsYWluRnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV0gPSBPYmplY3QuYXNzaWduKEFTSGFuZGxlci5DcmVhdGVJKHBsYWluU3RydWN0LnR5cGUsIHBsYWluU3RydWN0LnNjb3BlLCBwbGFpblN0cnVjdC5uYW1lKSwgcGxhaW5TdHJ1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdGdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXSA9IGxvYWRGdW5jdGlvbihwbGFpbkZ1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0Z1bmN0LnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU3RydWN0ID0gcGxhaW5GdW5jdC5wYXJhbWV0ZXJzW2ldLm5hbWUgIT09IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGlmIChpc1N0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluU3RydWN0ID0gcGxhaW5GdW5jdC5wYXJhbWV0ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Z1bmN0LnBhcmFtZXRlcnNbaV0gPSBPYmplY3QuYXNzaWduKEFTSGFuZGxlci5DcmVhdGVJKHBsYWluU3RydWN0LnR5cGUsIHBsYWluU3RydWN0LnNjb3BlLCBwbGFpblN0cnVjdC5uYW1lKSwgcGxhaW5TdHJ1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdGdW5jdC5wYXJhbWV0ZXJzW2ldID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QucGFyYW1ldGVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ld0Z1bmN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYWluT2JqLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3T2JqID0gT2JqZWN0LmFzc2lnbihuZXcgR0VPRDNPYmplY3QoaSksIHBsYWluT2JqLm9iamVjdHNbaV0pO1xyXG4gICAgICAgICAgICBzdi5vYmplY3RzW2ldID0gbmV3T2JqO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5ld09iai52YXJpYWJsZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluVmFyID0gc3Yub2JqZWN0c1tpXS52YXJpYWJsZXNbal07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYXIgPSBPYmplY3QuYXNzaWduKEFTSGFuZGxlci5DcmVhdGVJKHBsYWluVmFyLnR5cGUsIHBsYWluVmFyLnNjb3BlLCBwbGFpblZhci5uYW1lKSwgcGxhaW5WYXIpO1xyXG4gICAgICAgICAgICAgICAgc3Yub2JqZWN0c1tpXS52YXJpYWJsZXNbal0gPSBuZXdWYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdPYmoub25TdGFydC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhaW5GdW5jdCA9IHN2Lm9iamVjdHNbaV0ub25TdGFydFtqXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Z1bmN0ID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QpO1xyXG4gICAgICAgICAgICAgICAgc3Yub2JqZWN0c1tpXS5vblN0YXJ0W2pdID0gbmV3RnVuY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdPYmoub25OZXdGcmFtZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhaW5GdW5jdCA9IHN2Lm9iamVjdHNbaV0ub25OZXdGcmFtZVtqXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Z1bmN0ID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QpO1xyXG4gICAgICAgICAgICAgICAgc3Yub2JqZWN0c1tpXS5vbk5ld0ZyYW1lW2pdID0gbmV3RnVuY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgRGlzcGxheShkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhYkJhciA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXRhYi1iYXIgaGJveCcpO1xyXG4gICAgICAgIGNvbnN0IHRhYkNvbnRhaW5lciA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXRhYi1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFiSWNvbnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlsZXNUYWIgPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogR0VPRDNGaWxlTWFuYWdlci5pY29uIH0gKTtcclxuICAgICAgICBjb25zdCBzY2VuZVZpZXdUYWIgPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogU2NlbmVWaWV3Lmljb24gfSApO1xyXG4gICAgICAgIGNvbnN0IHNjcmlwdEVkaXRvclRhYiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBTY3JpcHRFZGl0b3IuaWNvbiB9ICk7XHJcbiAgICAgICAgY29uc3QgZ2FtZVRhYiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBHYW1lVmlldy5pY29uIH0gKTtcclxuICAgICAgICBjb25zdCBzYXZlQnV0dG9uID0gdGFiQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdUQ4M0RcdURDQkVTYXZlJyB9ICk7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtc2Vjb25kYXJ5LWJ1dHRvbic7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTI3RjNTYXZpbmcuLi4nO1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbm9ybWFsaXplUGF0aCh0aGlzLmFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyAnL1JFU0VSVkVEIEZPTERFUiBETyBOT1QgUkVOQU1FL09iamVjdHMubWQnKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG5ldyBTY2VuZURUTyh0aGlzLmFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzKSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGgsIGRhdGEpO1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNhdmVCdXR0b24udGV4dENvbnRlbnQgPSAnXHVEODNEXHVEQ0JFU2F2ZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmaWxlc1RhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgIHNjZW5lVmlld1RhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgIHNjcmlwdEVkaXRvclRhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgIGdhbWVUYWIuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uJztcclxuXHJcbiAgICAgICAgdGFiSWNvbnMucHVzaChmaWxlc1RhYik7XHJcbiAgICAgICAgdGFiSWNvbnMucHVzaChzY2VuZVZpZXdUYWIpO1xyXG4gICAgICAgIHRhYkljb25zLnB1c2goc2NyaXB0RWRpdG9yVGFiKTtcclxuICAgICAgICB0YWJJY29ucy5wdXNoKGdhbWVUYWIpO1xyXG5cclxuICAgICAgICB0YWJJY29uc1t0aGlzLmFjdGl2ZVRhYklEXS5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24tb3BlbmVkJztcclxuICAgICAgICB0aGlzLnRhYnNbdGhpcy5hY3RpdmVUYWJJRF0uRm9jdXModGFiQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3dpdGNoVG9UYWIgPSBhc3luYyAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICB0YWJJY29uc1t0aGlzLmFjdGl2ZVRhYklEXS5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRhYnNbdGhpcy5hY3RpdmVUYWJJRF0uVW5Gb2N1cyh0YWJDb250YWluZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYklEID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHRhYkljb25zW3RoaXMuYWN0aXZlVGFiSURdLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbi1vcGVuZWQnO1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNbdGhpcy5hY3RpdmVUYWJJRF0uRm9jdXModGFiQ29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuU3dpdGNoVG9UYWIgPSBzd2l0Y2hUb1RhYjtcclxuXHJcbiAgICAgICAgZmlsZXNUYWIub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoVG9UYWIoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjZW5lVmlld1RhYi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2hUb1RhYigxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2NyaXB0RWRpdG9yVGFiLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaFRvVGFiKDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnYW1lVGFiLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaFRvVGFiKDMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcEFuZFByb2plY3Qge1xyXG4gICAgYXBwOiBBcHA7XHJcbiAgICBwcm9qZWN0OiBQcm9qZWN0O1xyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHByb2plY3Q6IFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2NlbmVEVE8ge1xyXG4gICAgb2JqZWN0czogR0VPRDNPYmplY3RbXTtcclxuICAgIGNvbnN0cnVjdG9yKG9iamVjdHM6IEdFT0QzT2JqZWN0W10gPSBbXSkge1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IG9iamVjdHM7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgVGFiIH0gZnJvbSBcIi4vdGFiXCI7XHJcbmltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZSB9IGZyb20gXCIuL2ZpbGUtdHlwZXMvZ2VvZDMtZmlsZVwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZvbGRlciB9IGZyb20gXCIuL2ZpbGUtdHlwZXMvZ2VvZDMtZm9sZGVyXCI7XHJcbmltcG9ydCB7IEltYWdlRmlsZSwgU291bmRGaWxlLCBWaWRlb0ZpbGUgfSBmcm9tIFwiLi9maWxlLXR5cGVzL3JlYWwtZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzRmlsZU1hbmFnZXIgZXh0ZW5kcyBUYWIge1xyXG4gICAgc3RhdGljIG92ZXJyaWRlIGljb24gPSAnXHVEODNEXHVEQ0MxJztcclxuICAgIGZpbGVzOiBHRU9EM0ZpbGVbXTtcclxuICAgIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgZmlsZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcm9wZXJ0aWVzRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIFxyXG4gICAgZ2V0IGltYWdlRmlsZXMoKTogSW1hZ2VGaWxlW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXSBpbnN0YW5jZW9mIEltYWdlRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goPEltYWdlRmlsZT4gdGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHNvdW5kRmlsZXMoKTogU291bmRGaWxlW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXSBpbnN0YW5jZW9mIFNvdW5kRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goPFNvdW5kRmlsZT4gdGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHZpZGVvRmlsZXMoKTogVmlkZW9GaWxlW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXSBpbnN0YW5jZW9mIFZpZGVvRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goPFZpZGVvRmlsZT4gdGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRGaWxlKHBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXS5wYXRoID09PSBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWxlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggJyArIHBhdGggKyAnIG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIEdldEZpbGVCeVByaW1pdGl2ZVBhdGgocGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzW2ldLnBhdGgudmFsdWVPZigpID09PSBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWxlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggJyArIHBhdGggKyAnIG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHN1cGVyKGFucCk7XHJcbiAgICAgICAgdGhpcy5maWxlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBLTk9XTl9GSUxFX1RZUEVTID0gW1xyXG4gICAgICAgICdcdUQ4M0RcdURDQzFGb2xkZXInLFxyXG4gICAgICAgICdcdUQ4M0RcdUREQkNcdUZFMEZJbWFnZScsXHJcbiAgICAgICAgJ1x1RDgzRFx1REQwQVNvdW5kJyxcclxuICAgICAgICAnXHVEODNDXHVERjlFXHVGRTBGVmlkZW8nXHJcbiAgICBdXHJcblxyXG4gICAgcHJpdmF0ZSBBc3NpZ25PYmplY3RGcm9tRmlsZVR5cGUocGxhaW5PYmo6IGFueSwgcGF0aDogc3RyaW5nLCBwYXJlbnRQYXRoOiBTdHJpbmcpOiBHRU9EM0ZpbGUge1xyXG4gICAgICAgIHBsYWluT2JqLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHBsYWluT2JqLnBhcmVudFBhdGggPSBwYXJlbnRQYXRoO1xyXG4gICAgICAgIHN3aXRjaChwbGFpbk9iai50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1RENDMUZvbGRlcic6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgR0VPRDNGb2xkZXIocGF0aCwgcGFyZW50UGF0aCksIHBsYWluT2JqKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVEREJDXHVGRTBGSW1hZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEltYWdlRmlsZShwYXRoLCBwYXJlbnRQYXRoKSwgcGxhaW5PYmopO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdUREMEFTb3VuZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgU291bmRGaWxlKHBhdGgsIHBhcmVudFBhdGgpLCBwbGFpbk9iaik7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzQ1x1REY5RVx1RkUwRlZpZGVvJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBWaWRlb0ZpbGUocGF0aCwgcGFyZW50UGF0aCksIHBsYWluT2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIENyZWF0ZUZpbGVPZlR5cGUocGF0aDogc3RyaW5nLCBwYXJlbnRQYXRoOiBTdHJpbmcsIHR5cGU6IHN0cmluZyk6IEdFT0QzRmlsZSB7XHJcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVEQ0MxRm9sZGVyJzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR0VPRDNGb2xkZXIocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1RERCQ1x1RkUwRkltYWdlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW1hZ2VGaWxlKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdUREMEFTb3VuZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvdW5kRmlsZShwYXRoLCBwYXJlbnRQYXRoKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNDXHVERjlFXHVGRTBGVmlkZW8nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWRlb0ZpbGUocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIExvYWRGaWxlcyhhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLmZpbGVzID0gW107XHJcbiAgICAgICAgY29uc3QgYXBwID0gYW5wLmFwcDtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IGFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2plY3RGb2xkZXIgPSB2YXVsdC5nZXRGb2xkZXJCeVBhdGgocHJvamVjdC5wYXRoVG9Qcm9qZWN0KTtcclxuICAgICAgICBpZiAocHJvamVjdEZvbGRlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2plY3QgZm9sZGVyIGRvZXMgbm90IGV4aXN0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmb2xkZXJTdGFjazogW1RGb2xkZXIsIEdFT0QzRm9sZGVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgICAgICBjb25zdCBURmluZGV4ID0gMDtcclxuICAgICAgICBjb25zdCBHRmluZGV4ID0gMTtcclxuICAgICAgICBjb25zdCBDRmluZGV4ID0gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgcm9vdFBhdGggPSBuZXcgU3RyaW5nKCcvJyk7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBHRU9EM0ZvbGRlcihyb290UGF0aCwgcm9vdFBhdGgpO1xyXG4gICAgICAgIGZvbGRlclN0YWNrLnB1c2goW3Byb2plY3RGb2xkZXIsIHJvb3QsIDBdKTtcclxuICAgICAgICB0aGlzLmZpbGVzLnB1c2gocm9vdCk7XHJcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKGZvbGRlclN0YWNrWzBdW0NGaW5kZXhdIDwgcHJvamVjdEZvbGRlci5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyckZvbGRlciA9IGZvbGRlclN0YWNrW2RlcHRoXTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckluZGV4ID0gY3VyckZvbGRlcltDRmluZGV4XTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckZpbGUgPSBjdXJyRm9sZGVyW1RGaW5kZXhdLmNoaWxkcmVuW2N1cnJJbmRleF07XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGN1cnJGaWxlLnBhdGgucmVwbGFjZShwcm9qZWN0LnBhdGhUb1Byb2plY3QsICcnKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJGaWxlLm5hbWUgIT09ICdSRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRScpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyRmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdHRU9EM0ZvbGRlciA9IG5ldyBHRU9EM0ZvbGRlcihyZWxhdGl2ZVBhdGgsIGN1cnJGb2xkZXJbR0ZpbmRleF0ucGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKG5ld0dFT0QzRm9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0dGaW5kZXhdLmZpbGVzLnB1c2gobmV3R0VPRDNGb2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnB1c2goW2N1cnJGaWxlLCBuZXdHRU9EM0ZvbGRlciwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyckZpbGUuZXh0ZW5zaW9uID09PSAnbWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB2YXVsdC5jYWNoZWRSZWFkKDxURmlsZT4gY3VyckZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFpbk9iaiA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGUgPSB0aGlzLkFzc2lnbk9iamVjdEZyb21GaWxlVHlwZShwbGFpbk9iaiwgcmVsYXRpdmVQYXRoLnNsaWNlKDAsIC0zKSwgY3VyckZvbGRlcltHRmluZGV4XS5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyckZvbGRlcltHRmluZGV4XS5maWxlcy5wdXNoKG5ld0ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2gobmV3RmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJGb2xkZXJbQ0ZpbmRleF0rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJGb2xkZXJbQ0ZpbmRleF0rKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdID49IGZvbGRlclN0YWNrW2RlcHRoXVtURmluZGV4XS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChkZXB0aCA+IDAgJiYgZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdID49IGZvbGRlclN0YWNrW2RlcHRoXVtURmluZGV4XS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBGb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5tYWluRGl2ID0gZGl2O1xyXG4gICAgICAgIHRoaXMubWFpbkRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWNvbnRhaW5lciBoYm94JztcclxuICAgICAgICB0aGlzLmZpbGVEaXYgPSBkaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzRGl2ID0gZGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG4gICAgICAgIHRoaXMuZmlsZURpdi5zdHlsZS53aWR0aCA9ICc3MCUnO1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllc0Rpdi5zdHlsZS53aWR0aCA9ICczMCUnO1xyXG4gICAgICAgIHRoaXMuZmlsZXNbMF0uT3Blbih0aGlzLmFucCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgVW5Gb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGFiIHtcclxuICAgIHN0YXRpYyBpY29uOiBzdHJpbmc7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3Q7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBhbnAgYSByZWZlcmVuY2UgdG8gdGhlIG9ic2lkaWFuIGFwcCB0byByZWFkIGFuZCB3cml0ZSBmaWxlcyBhcyB3ZWxsIGFzIHRoZSBnZW9kMyBwcm9qZWN0IHRoaXMgdGFiIHNob3VsZCBsb29rIGF0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiAoZm9jdXMgb24pIHRoZSB0YWJcclxuICAgICAqIEBwYXJhbSBkaXYgdGhlIG1haW4gZGl2IG9mIHRoZSB2aWV3XHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0IEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmZvY3VzIHRoaXMgdGFiIGJlZm9yZSBmb2N1c2luZyBvbiBhbm90aGVyIG9uZS5cclxuICAgICAqIFRoaXMgcHJldmVudHMgdGhpbmdzIGhhcHBlbmluZyBpbiB0aGUgYmFja2dyb3VuZCB3aGlsZSB0aGUgdXNlciBpc24ndCBsb29raW5nLFxyXG4gICAgICogb3IganVzdCBwYXVzaW5nIGxvb3BzXHJcbiAgICAgKiBAcGFyYW0gZGl2IHRoZSBtYWluIGRpdiBvZiB0aGUgdmlld1xyXG4gICAgICovXHJcbiAgICBhYnN0cmFjdCBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcclxufSIsICJpbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSAnY2xhc3Nlcy9wcm9qZWN0JztcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gJy4uL2ZpbGUtbWFuYWdlcic7XHJcbmltcG9ydCB7IEdFT0QzRm9sZGVyIH0gZnJvbSAnLi9nZW9kMy1mb2xkZXInO1xyXG5pbXBvcnQgeyBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdFT0QzRmlsZSB7XHJcbiAgICBwYXJlbnRQYXRoOiBTdHJpbmc7XHJcbiAgICBnZXRQYXJlbnQobWFuYWdlcjogR0VPRDNGaWxlTWFuYWdlcik6IEdFT0QzRm9sZGVyIHtcclxuICAgICAgICByZXR1cm4gPEdFT0QzRm9sZGVyPiBtYW5hZ2VyLkdldEZpbGUodGhpcy5wYXJlbnRQYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBwYXRoIHRvIHRoaXMgZmlsZSBSRUxBVElWRSBUTyBUSEUgUFJPSkVDVCBGT0xERVIsIE5PVCBUSEUgVkFVTFRcclxuICAgICAqL1xyXG4gICAgcGF0aDogU3RyaW5nO1xyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBwYXRoUGFydHMgPSB0aGlzLnBhdGgudmFsdWVPZigpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgaWYgKHRoaXMucGF0aC52YWx1ZU9mKCkgPT09ICcvJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3Jvb3QnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBhYnN0cmFjdCBnZXQgZGF0YSgpOiBhbnk7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBTdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIHRoaXMucGFyZW50UGF0aCA9IHBhcmVudFBhdGg7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgIH1cclxuICAgIGFzeW5jIEdyYWJEZXBlbmRlbmNpZXMoYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7fVxyXG4gICAgYXN5bmMgRGlzcGxheVRodW1ibmFpbChhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgdGh1bWJuYWlsRGl2LmVtcHR5KCk7XHJcblx0XHR0aHVtYm5haWxEaXYub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZXRQYXJlbnQobWFuYWdlcikuU2VsZWN0RmlsZShhbnAsIHRoaXMsIHRodW1ibmFpbERpdik7XHJcblx0XHR9XHJcblx0XHR0aHVtYm5haWxEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdGhpcy5uYW1lIH0gKTtcclxuXHRcdHRodW1ibmFpbERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVHlwZTogJyArIHRoaXMudHlwZSB9ICk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBPcGVuKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBtYW5hZ2VyLmZpbGVEaXYuZW1wdHkoKTtcclxuICAgICAgICBtYW5hZ2VyLmZpbGVEaXYuY2xhc3NOYW1lID0gJ3Zib3gnO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gbWFuYWdlci5maWxlRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdHbyBiYWNrIHRvICcgKyB0aGlzLmdldFBhcmVudChtYW5hZ2VyKS5uYW1lIH0gKTtcclxuXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldFBhcmVudChtYW5hZ2VyKS5PcGVuKGFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgRGlzcGxheVByb3BlcnRpZXMoYW5wOiBBcHBBbmRQcm9qZWN0LCB0aHVtYm5haWxEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIG1hbmFnZXIucHJvcGVydGllc0Rpdi5lbXB0eSgpO1xyXG5cdFx0Y29uc3QgbmFtZUlucHV0ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5uYW1lIH0gKTtcclxuXHRcdG1hbmFnZXIucHJvcGVydGllc0Rpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVHlwZTogJyArIHRoaXMudHlwZSB9ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhbnAuYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuXHJcbiAgICAgICAgbmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSB0aGlzLnBhdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBvcmlnaW5hbFBhdGggKyAnLm1kJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJOYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gdGhpcy5wYXRoLnNsaWNlKDAsIC1jdXJyTmFtZS5sZW5ndGgpICsgbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodEZpbGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LnJlbmFtZSh0RmlsZSwgcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgbmV3UGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBuZXdQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUaHVtYm5haWwoYW5wLCB0aHVtYm5haWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIFNhdmUoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgoYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArIHRoaXMucGF0aCArICcubWQnKTtcclxuICAgICAgICBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZU1hbmFnZXIgfSBmcm9tIFwiLi4vZmlsZS1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZSB9IGZyb20gXCIuL2dlb2QzLWZpbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHRU9EM0ZvbGRlciBleHRlbmRzIEdFT0QzRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzRFx1RENDMUZvbGRlcic7XHJcbiAgICBmaWxlczogR0VPRDNGaWxlW107XHJcbiAgICBzZWxlY3RlZFRodW1ibmFpbDogW0dFT0QzRmlsZSwgSFRNTERpdkVsZW1lbnRdIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIG92ZXJyaWRlIGdldCBkYXRhKCk6IEdFT0QzRmlsZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWxlcztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBTdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgIHRoaXMuZmlsZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBPcGVuKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBzdXBlci5PcGVuKGFucCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYW5wLmFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlRGl2ID0gbWFuYWdlci5maWxlRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVEcm9wZG93biA9IGNyZWF0ZURpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHRU9EM0ZpbGVNYW5hZ2VyLktOT1dOX0ZJTEVfVFlQRVMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclR5cGUgPSBHRU9EM0ZpbGVNYW5hZ2VyLktOT1dOX0ZJTEVfVFlQRVNbaV07XHJcbiAgICAgICAgICAgIHR5cGVEcm9wZG93bi5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBjdXJyVHlwZSwgdmFsdWU6IGN1cnJUeXBlIH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZURyb3Bkb3duLnZhbHVlID0gR0VPRDNGaWxlTWFuYWdlci5LTk9XTl9GSUxFX1RZUEVTWzBdO1xyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IGNyZWF0ZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICdVbm5hbWVkJyB9ICk7XHJcbiAgICAgICAgY29uc3QgYWRkQnV0dG9uID0gY3JlYXRlRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcbiAgICAgICAgYWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlbFBhdGggPSB0aGlzLnBhdGggKyAodGhpcy5wYXRoLnZhbHVlT2YoKSA9PT0gJy8nID8gJycgOiAnLycpICsgbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgbmV3UmVsUGF0aDtcclxuICAgICAgICAgICAgY29uc3QgbmV3R0VPRDNGaWxlID0gR0VPRDNGaWxlTWFuYWdlci5DcmVhdGVGaWxlT2ZUeXBlKG5ld1JlbFBhdGgsIHRoaXMucGF0aCwgdHlwZURyb3Bkb3duLnZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVEcm9wZG93bi52YWx1ZSA9PT0gJ1x1RDgzRFx1RENDMUZvbGRlcicpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LmNyZWF0ZUZvbGRlcihuZXdQYXRoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LmNyZWF0ZShuZXdQYXRoICsgJy5tZCcsIEpTT04uc3RyaW5naWZ5KG5ld0dFT0QzRmlsZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hbmFnZXIuZmlsZXMucHVzaChuZXdHRU9EM0ZpbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2gobmV3R0VPRDNGaWxlKTtcclxuICAgICAgICAgICAgdGhpcy5PcGVuKGFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWwgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbGRlckRpdiA9IG1hbmFnZXIuZmlsZURpdi5jcmVhdGVEaXYoJ2dlb2QzLWZvbGRlcicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGVzW2ldLkRpc3BsYXlUaHVtYm5haWwoYW5wLCBmb2xkZXJEaXYuY3JlYXRlRGl2KCdnZW9kMy1maWxlLXRodW1ibmFpbCBwb2ludGVyLWhvdmVyJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBTZWxlY3RGaWxlKGFucDogQXBwQW5kUHJvamVjdCwgbmV3U2VsZWN0ZWRGaWxlOiBHRU9EM0ZpbGUsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRodW1ibmFpbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMF0gPT09IG5ld1NlbGVjdGVkRmlsZSAmJiB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzFdID09PSB0aHVtYm5haWxEaXYpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFswXS5PcGVuKGFucCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUaHVtYm5haWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFsxXS5jbGFzc05hbWUgPSAnZ2VvZDMtZmlsZS10aHVtYm5haWwgcG9pbnRlci1ob3Zlcic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbCA9IFtuZXdTZWxlY3RlZEZpbGUsIHRodW1ibmFpbERpdl07XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMV0uY2xhc3NOYW1lID0gJ2dlb2QzLWZpbGUtdGh1bWJuYWlsIHNlbGVjdGVkIHBvaW50ZXItaG92ZXInO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzBdLkRpc3BsYXlQcm9wZXJ0aWVzKGFucCwgdGh1bWJuYWlsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgRGlzcGxheVByb3BlcnRpZXMoYW5wOiBBcHBBbmRQcm9qZWN0LCB0aHVtYm5haWxEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIG1hbmFnZXIucHJvcGVydGllc0Rpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IG1hbmFnZXIucHJvcGVydGllc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMubmFtZSB9ICk7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2YXVsdCA9IGFucC5hcHAudmF1bHQ7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG5cclxuICAgICAgICBuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGb2xkZXJCeVBhdGgocHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgb3JpZ2luYWxQYXRoKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGguc2xpY2UoMCwgLWN1cnJOYW1lLmxlbmd0aCkgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0RmlsZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQucmVuYW1lKHRGaWxlLCBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBuZXdQYXRoO1xyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXJTdGFjazogW0dFT0QzRm9sZGVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgR0ZpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IENGaW5kZXggPSAxO1xyXG4gICAgICAgICAgICBmb2xkZXJTdGFjay5wdXNoKFt0aGlzLCAwXSk7XHJcbiAgICAgICAgICAgIGxldCBkZXB0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAoZm9sZGVyU3RhY2tbMF1bQ0ZpbmRleF0gPCB0aGlzLmZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckZvbGRlciA9IGZvbGRlclN0YWNrW2RlcHRoXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJJbmRleCA9IGN1cnJGb2xkZXJbQ0ZpbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyRmlsZSA9IGN1cnJGb2xkZXJbR0ZpbmRleF0uZmlsZXNbY3VyckluZGV4XTtcclxuICAgICAgICAgICAgICAgIGN1cnJGaWxlLnBhdGggPSBjdXJyRmlsZS5wYXRoLnJlcGxhY2Uob3JpZ2luYWxQYXRoLnZhbHVlT2YoKSwgbmV3UGF0aCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyckZpbGUgaW5zdGFuY2VvZiBHRU9EM0ZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnB1c2goW2N1cnJGaWxlLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyckZvbGRlcltDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSA+PSBmb2xkZXJTdGFja1tkZXB0aF1bR0ZpbmRleF0uZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRlcHRoID4gMCAmJiBmb2xkZXJTdGFja1tkZXB0aF1bQ0ZpbmRleF0gPj0gZm9sZGVyU3RhY2tbZGVwdGhdW0dGaW5kZXhdLmZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRodW1ibmFpbChhbnAsIHRodW1ibmFpbERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGUgfSBmcm9tIFwiLi9nZW9kMy1maWxlXCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZU1hbmFnZXIgfSBmcm9tIFwiLi4vZmlsZS1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFsRmlsZSBleHRlbmRzIEdFT0QzRmlsZSB7XHJcbiAgICBwcm90ZWN0ZWQgc3JjOiBzdHJpbmc7XHJcbiAgICBvdmVycmlkZSBnZXQgZGF0YSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNyYztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBTdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgIHRoaXMuc3JjID0gJyc7XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBhc3luYyBPcGVuKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBzdXBlci5PcGVuKGFucCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5QWN0dWFsRmlsZShtYW5hZ2VyLmZpbGVEaXYpO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgR3JhYkRlcGVuZGVuY2llcyhhbnA6IEFwcEFuZFByb2plY3QpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhcHAgPSBhbnAuYXBwO1xyXG4gICAgICAgICAgICBjb25zdCB2YXVsdCA9IGFwcC52YXVsdDtcclxuICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoVG9BY3R1YWxGaWxlID0gcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5hY3R1YWwtZmlsZSc7XHJcbiAgICAgICAgICAgIGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChwYXRoVG9BY3R1YWxGaWxlKTtcclxuICAgICAgICAgICAgaWYgKHRGaWxlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgdmF1bHQucmVhZEJpbmFyeSh0RmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcclxuICAgICAgICAgICAgdGhpcy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5UHJvcGVydGllcyhhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmVtcHR5KCk7XHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm5hbWUgfSApO1xyXG5cdFx0bWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuXHRcdGNvbnN0IGN1cnJGaWxlRGl2ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheUFjdHVhbEZpbGUoY3VyckZpbGVEaXYpO1xyXG5cdFx0Y29uc3QgZmlsZUlucHV0ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2ZpbGUnIH0gKTtcclxuXHRcdFxyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYW5wLmFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcblxyXG4gICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgICBjb25zdCB0RmlsZTEgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCArIG9yaWdpbmFsUGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUyID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBvcmlnaW5hbFBhdGggKyAnLmFjdHVhbC1maWxlJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJOYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gdGhpcy5wYXRoLnNsaWNlKDAsIC1jdXJyTmFtZS5sZW5ndGgpICsgbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodEZpbGUxICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXVsdC5yZW5hbWUodEZpbGUxLCBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdQYXRoICsgJy5tZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0RmlsZTIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LnJlbmFtZSh0RmlsZTIsIHByb2plY3QucGF0aFRvUHJvamVjdCArIG5ld1BhdGggKyAnLmFjdHVhbC1maWxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXRoID0gbmV3UGF0aDtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGh1bWJuYWlsKGFucCwgdGh1bWJuYWlsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmlsZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlQXJyYXkgPSBmaWxlSW5wdXQuZmlsZXM7XHJcbiAgICAgICAgICAgIGlmIChmaWxlQXJyYXkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgZmlsZUFycmF5WzBdLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9NREZpbGUgPSBub3JtYWxpemVQYXRoKGFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyB0aGlzLnBhdGggKyAnLm1kJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9BY3R1YWxGaWxlID0gbm9ybWFsaXplUGF0aChhbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5hY3R1YWwtZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGhUb01ERmlsZSwgSlNPTi5zdHJpbmdpZnkodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KHBhdGhUb0FjdHVhbEZpbGUsIGFycmF5QnVmZmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyRmlsZURpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlBY3R1YWxGaWxlKGN1cnJGaWxlRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhYnN0cmFjdCBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MRWxlbWVudD47XHJcbiAgICBhc3luYyBTYXZlKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGF3YWl0IHN1cGVyLlNhdmUoYW5wKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgcGF0aFRvQWN0dWFsRmlsZSA9IG5vcm1hbGl6ZVBhdGgoYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArIHRoaXMucGF0aCArICcuYWN0dWFsLWZpbGUnKTtcclxuICAgICAgICAgICAgYXdhaXQgYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KHBhdGhUb0FjdHVhbEZpbGUsIGFycmF5QnVmZmVyKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGNvbnZlcnRpbmcgJyArIHRoaXMucGF0aC52YWx1ZU9mKCkgKyAnIHRvIGFuIGFjdHVhbCBmaWxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG4gICAgb3ZlcnJpZGUgdHlwZSA9ICdcdUQ4M0RcdUREQkNcdUZFMEZJbWFnZSc7XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgaW1nID0gZGl2LmNyZWF0ZUVsKCdpbWcnKTtcclxuICAgICAgICBpbWcuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xyXG4gICAgICAgIGltZy5zcmMgPSB0aGlzLnNyYztcclxuICAgICAgICByZXR1cm4gaW1nO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU291bmRGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG4gICAgb3ZlcnJpZGUgdHlwZSA9ICdcdUQ4M0RcdUREMEFTb3VuZCc7XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MQXVkaW9FbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkaXYuY3JlYXRlRWwoJ2F1ZGlvJyk7XHJcbiAgICAgICAgZWwuc3JjID0gdGhpcy5zcmM7XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9GaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG4gICAgb3ZlcnJpZGUgdHlwZSA9ICdcdUQ4M0NcdURGOUVcdUZFMEZWaWRlbyc7XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MVmlkZW9FbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgdmlkID0gZGl2LmNyZWF0ZUVsKCd2aWRlbycpO1xyXG4gICAgICAgIHZpZC5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XHJcbiAgICAgICAgdmlkLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgICAgIHJldHVybiB2aWQ7XHJcbiAgICB9XHJcbn1cclxuIiwgImV4cG9ydCBjb25zdCBCR19DT0xPUl8xID0gJ3JnYigzNywgMzcsIDQ0KSc7XHJcbmV4cG9ydCBjb25zdCBCR19DT0xPUl8yID0gJ3JnYigxOCwgMTgsIDI0KSc7XHJcbmV4cG9ydCBjb25zdCBCR19DT0xPUl8zID0gJ3JnYig1LCA1LCA4KSc7XHJcbmV4cG9ydCBjb25zdCBBQ0NFTlRfQ09MT1JfMSA9ICdyZ2IoMjIzLCAyMzYsIDI1NSknO1xyXG5leHBvcnQgY29uc3QgQUNDRU5UX0NPTE9SXzIgPSAncmdiKDE2MCwgMTY5LCAxODQpJztcclxuZXhwb3J0IGNvbnN0IEFDQ0VOVF9DT0xPUl8zID0gJ3JnYigxMDAsIDEwOSwgMTIzKSc7XHJcbmV4cG9ydCBjb25zdCBDRU5UUkFMX0NPTE9SXzEgPSAncmdiKDExMSwgNDYsIDE2OSknO1xyXG5leHBvcnQgY29uc3QgQ0VOVFJBTF9DT0xPUl8yID0gJ3JnYig3OCwgMTcsIDEzMSknO1xyXG5leHBvcnQgY29uc3QgQ0VOVFJBTF9DT0xPUl8zID0gJ3JnYigyOSwgMCwgNTQpJztcclxuZXhwb3J0IGNvbnN0IFJFTU9WRV9DT0xPUl8xID0gJ3JnYigxOTgsIDY4LCA2OCknO1xyXG5leHBvcnQgY29uc3QgUkVNT1ZFX0NPTE9SXzIgPSAncmdiKDEzOCwgMCwgMCknOyIsICJpbXBvcnQgeyBTY29wZSB9IGZyb20gXCJjbGFzc2VzL3Njb3BlXCI7XHJcbmltcG9ydCB7IEJHX0NPTE9SXzEsIEJHX0NPTE9SXzIsIEJHX0NPTE9SXzMsIEFDQ0VOVF9DT0xPUl8xLCBBQ0NFTlRfQ09MT1JfMiwgQUNDRU5UX0NPTE9SXzMsIENFTlRSQUxfQ09MT1JfMSwgQ0VOVFJBTF9DT0xPUl8yLCBDRU5UUkFMX0NPTE9SXzMsIFJFTU9WRV9DT0xPUl8xLCBSRU1PVkVfQ09MT1JfMiB9IGZyb20gXCJjb2xvcnNcIjtcclxuXHJcbmV4cG9ydCBlbnVtIEFTIHtcclxuICAgICdub25lJyxcclxuICAgICdib29sZWFuJyxcclxuICAgICdudW1iZXInLFxyXG4gICAgJ3N0cmluZydcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTSGFuZGxlciB7XHJcbiAgICBzdGF0aWMgQ29weShvYmo6IEFTSSk6IEFTSSB7XHJcbiAgICAgICAgbGV0IG5ld09iajtcclxuICAgICAgICBzd2l0Y2gob2JqLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBUy5ub25lOlxyXG4gICAgICAgICAgICBjYXNlIEFTLmJvb2xlYW46XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBuZXdPYmogPSBuZXcgQUJvb2xlYW5JKG9iai5zY29wZSwgb2JqLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQVMubnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgbmV3T2JqID0gbmV3IEFOdW1iZXJJKG9iai5zY29wZSwgb2JqLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQVMuc3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgbmV3T2JqID0gbmV3IEFTdHJpbmdJKG9iai5zY29wZSwgb2JqLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld09iai52YWx1ZSA9IG9iai52YWx1ZTtcclxuICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUkodHlwZTogQVMsIHNjb3BlOiBTY29wZSwgbmFtZTogc3RyaW5nKTogQVNJIHtcclxuICAgICAgICBzd2l0Y2godHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUJvb2xlYW5JKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFOdW1iZXJJKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICAgICAgY2FzZSBBUy5zdHJpbmc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTdHJpbmdJKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSUkoc3RydWN0OiBBU0ksIGluc3BlY3RvckRpdjogSFRNTERpdkVsZW1lbnQsIGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBBU0lJIHtcclxuICAgICAgICBzd2l0Y2goc3RydWN0LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBUy5ub25lOlxyXG4gICAgICAgICAgICBjYXNlIEFTLmJvb2xlYW46XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFCb29sZWFuSUkoc3RydWN0LCBpbnNwZWN0b3JEaXYsIGNvbG9yKTtcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFOdW1iZXJJSShzdHJ1Y3QsIGluc3BlY3RvckRpdiwgY29sb3IpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLnN0cmluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVN0cmluZ0lJKHN0cnVjdCwgaW5zcGVjdG9yRGl2LCBjb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVNJIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHR5cGU6IEFTO1xyXG4gICAgdmFsdWU6IGFueTtcclxuICAgIHNjb3BlOiBTY29wZTtcclxuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiBTY29wZSwgbmFtZSA9ICcnKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBU0k7XHJcbiAgICBzdGF0aWMgQWRqdXN0SW5wdXRXaWR0aChpbnB1dDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgdGVtcEVsID0gZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGlucHV0LnZhbHVlIH0gKTtcclxuICAgICAgICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgdGVtcEVsLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUuZm9udCA9ICdpbmhlcml0JztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUucGFkZGluZyA9IGlucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCA/ICcxdmgnIDogJzJ2aCc7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSB0ZW1wRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG4gICAgICAgIHRlbXBFbC5yZW1vdmUoKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8jcmVnaW9uIEJvb2xlYW5cclxuZXhwb3J0IGNsYXNzIEFCb29sZWFuSSBleHRlbmRzIEFTSSB7XHJcbiAgICB0eXBlID0gQVMuYm9vbGVhbjtcclxuICAgIHZhbHVlOiBib29sZWFuO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICBzdXBlcihzY29wZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUJvb2xlYW5JSSBleHRlbmRzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFCb29sZWFuSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBQm9vbGVhbkksIGRpdjogSFRNTERpdkVsZW1lbnQsIGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSApO1xyXG4gICAgICAgIGlucHV0LmNoZWNrZWQgPSB0aGlzLmluc3RhbmNlLnZhbHVlO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yID09PSB1bmRlZmluZWQgPyBDRU5UUkFMX0NPTE9SXzMgOiBjb2xvcjtcclxuICAgICAgICBpbnB1dC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnZhbHVlID0gaW5wdXQuY2hlY2tlZDtcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaW5wdXQuY2hlY2tlZCA/IENFTlRSQUxfQ09MT1JfMSA6IENFTlRSQUxfQ09MT1JfMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEJvb2xlYW5cclxuXHJcbi8vI3JlZ2lvbiBOdW1iZXJcclxuZXhwb3J0IGNsYXNzIEFOdW1iZXJJIGV4dGVuZHMgQVNJIHtcclxuICAgIHR5cGUgPSBBUy5udW1iZXI7XHJcbiAgICB2YWx1ZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICBzdXBlcihzY29wZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBTnVtYmVySUkgZXh0ZW5kcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBTnVtYmVySTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBTnVtYmVySSwgZGl2OiBIVE1MRGl2RWxlbWVudCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5pbnN0YW5jZS52YWx1ZSArICcnIH0gKTtcclxuICAgICAgICBBU0lJLkFkanVzdElucHV0V2lkdGgoaW5wdXQsIGRpdik7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IgPT09IHVuZGVmaW5lZCA/IENFTlRSQUxfQ09MT1JfMyA6IGNvbG9yO1xyXG4gICAgICAgIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFTSUkuQWRqdXN0SW5wdXRXaWR0aChpbnB1dCwgZGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBwYXJzZUZsb2F0KGlucHV0LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIE51bWJlclxyXG5cclxuLy8jcmVnaW9uIFN0cmluZ1xyXG5leHBvcnQgY2xhc3MgQVN0cmluZ0kgZXh0ZW5kcyBBU0kge1xyXG4gICAgdHlwZSA9IEFTLnN0cmluZztcclxuICAgIHZhbHVlOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUsIG5hbWUgPSAnJykge1xyXG4gICAgICAgIHN1cGVyKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU3RyaW5nSUkgZXh0ZW5kcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBU3RyaW5nSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBU3RyaW5nSSwgZGl2OiBIVE1MRGl2RWxlbWVudCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5pbnN0YW5jZS52YWx1ZSArICcnIH0gKTtcclxuICAgICAgICBBU0lJLkFkanVzdElucHV0V2lkdGgoaW5wdXQsIGRpdik7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IgPT09IHVuZGVmaW5lZCA/IENFTlRSQUxfQ09MT1JfMyA6IGNvbG9yO1xyXG4gICAgICAgIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFTSUkuQWRqdXN0SW5wdXRXaWR0aChpbnB1dCwgZGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIFN0cmluZyIsICJpbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBTY29wZSB9IGZyb20gXCJjbGFzc2VzL3Njb3BlXCI7XHJcbmltcG9ydCB7IEFCb29sZWFuSSwgQU51bWJlckksIEFTLCBBU0hhbmRsZXIsIEFTSSwgQVN0cmluZ0kgfSBmcm9tIFwiY2xhc3Nlcy9zdHJ1Y3RzL3N0cnVjdFwiO1xyXG5pbXBvcnQgeyBHRU9EM09iamVjdEhhbmRsZXIgfSBmcm9tIFwiY2xhc3Nlcy90YWJzL2dlb2QzLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBCR19DT0xPUl8xLCBCR19DT0xPUl8yLCBCR19DT0xPUl8zLCBBQ0NFTlRfQ09MT1JfMSwgQUNDRU5UX0NPTE9SXzIsIEFDQ0VOVF9DT0xPUl8zLCBDRU5UUkFMX0NPTE9SXzEsIENFTlRSQUxfQ09MT1JfMiwgQ0VOVFJBTF9DT0xPUl8zLCBSRU1PVkVfQ09MT1JfMSwgUkVNT1ZFX0NPTE9SXzIgfSBmcm9tIFwiY29sb3JzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBRiB7XHJcbiAgICAnbm9uZScsXHJcbiAgICAnY2hhaW4nLFxyXG4gICAgJ2dldCcsXHJcbiAgICAnc2V0JyxcclxuICAgICdpZicsXHJcbiAgICAnZXF1YWxzJyxcclxuICAgICdhZGQnXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBRkhhbmRsZXIge1xyXG4gICAgc3RhdGljIENvcHkob2JqOiBBRkkpOiBBRkkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclBhcmFtID0gb2JqLnBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChjdXJyUGFyYW0gaW5zdGFuY2VvZiBBRkkpIHtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKHRoaXMuQ29weShjdXJyUGFyYW0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKEFTSGFuZGxlci5Db3B5KGN1cnJQYXJhbSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdJKCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY2hhaW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDaGFpbkkoPEFGSVtdPiBuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEkoPEFTSVtdPiBuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLnNldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNldEkobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5pZjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmSShuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmVxdWFsczpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUVxdWFsc0kobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5hZGQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFBZGRJKG5ld1BhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUkodHlwZTogQUYsIHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpOiBBRkkge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQUYubm9uZTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jaGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNoYWluSSg8QUZJW10gfCB1bmRlZmluZWQ+IHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEkoPEFTSVtdIHwgdW5kZWZpbmVkPiBwYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5zZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTZXRJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmVxdWFsczpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUVxdWFsc0kocGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuYWRkOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQWRkSShwYXJhbWV0ZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlRUkob2JqOiBBRkksIGJsb2NrRGl2OiBIVE1MRGl2RWxlbWVudCwgYW5wOiBBcHBBbmRQcm9qZWN0KTogQUZFSSB7XHJcbiAgICAgICAgc3dpdGNoKG9iai50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQUYubm9uZTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQURvTm90aGluZ0VJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY2hhaW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDaGFpbkVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuZ2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBR2V0RUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5zZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTZXRFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmVxdWFsczpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUVxdWFsc0VJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuYWRkOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQWRkRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlUkkob2JqOiBBRkksIGFucDogQXBwQW5kUHJvamVjdCk6IEFGUkkge1xyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY2hhaW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDaGFpblJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5nZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFHZXRSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuc2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU2V0Ukkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuZXF1YWxzOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBRXF1YWxzUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmFkZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUFkZFJJKG9iaiwgYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vI3JlZ2lvbiBBYnN0cmFjdCBDbGFzc2VzXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBRkkge1xyXG4gICAgdHlwZTogQUY7XHJcbiAgICBkZWZhdWx0UGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXTtcclxuICAgIHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gW107XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBRkVJIHtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIGluc3RhbmNlOiBBRkk7XHJcbiAgICBkaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcGFyZW50RUk6IEFGRUkgfCB1bmRlZmluZWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZTogQUZJLCBibG9ja0RpdjogSFRNTERpdkVsZW1lbnQsIGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmRpdiA9IGJsb2NrRGl2O1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheUJsb2NrKCk7XHJcbiAgICB9XHJcbiAgICBhYnN0cmFjdCBEaXNwbGF5QmxvY2soKTogdm9pZDtcclxuICAgIHN0YXRpYyBBZGp1c3RJbnB1dFdpZHRoKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB0ZW1wRWwgPSBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogaW5wdXQudmFsdWUgfSApO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgdGVtcEVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5mb250ID0gJ2luaGVyaXQnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5wYWRkaW5nID0gaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ID8gJzF2aCcgOiAnMnZoJztcclxuICAgICAgICBpbnB1dC5zdHlsZS53aWR0aCA9IHRlbXBFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcbiAgICAgICAgdGVtcEVsLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgQ3JlYXRlQVNJT3JBRklQYXJhbWV0ZXJEaXYoaW5kZXg6IG51bWJlciwgcGFyYW1EaXY6IEhUTUxEaXZFbGVtZW50LCBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZyk6IHZvaWQgfCBBRkVJIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpbmRleF07XHJcbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgQVNJKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNyZWF0ZUFTSVBhcmFtZXRlckRpdihpbmRleCwgcGFyYW1EaXYsIGJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ3JlYXRlQUZJUGFyYW1ldGVyRGl2KGluZGV4LCBwYXJhbURpdiwgYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBDcmVhdGVBU0lQYXJhbWV0ZXJEaXYoaW5kZXg6IG51bWJlciwgcGFyYW1EaXY6IEhUTUxEaXZFbGVtZW50LCBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2luZGV4XTtcclxuICAgICAgICBBU0hhbmRsZXIuQ3JlYXRlSUkocGFyYW0sIHBhcmFtRGl2LCBiYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgfVxyXG4gICAgQ3JlYXRlQUZJUGFyYW1ldGVyRGl2KGluZGV4OiBudW1iZXIsIHBhcmFtRGl2OiBIVE1MRGl2RWxlbWVudCwgYmFja2dyb3VuZENvbG9yOiBzdHJpbmcpOiBBRkVJIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IDxBRkk+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpbmRleF07XHJcbiAgICAgICAgY29uc3QgcGFyYW1FSSA9IEFGSGFuZGxlci5DcmVhdGVFSShwYXJhbSwgcGFyYW1EaXYsIHRoaXMuYW5wKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShwYXJhbUVJLCB0aGlzLmFucCwgZmFsc2UpO1xyXG4gICAgICAgIHBhcmFtRUkucGFyZW50RUkgPSB0aGlzO1xyXG4gICAgICAgIGlmIChwYXJhbUVJLmluc3RhbmNlLnR5cGUgPT09IEFGLm5vbmUpIHtcclxuICAgICAgICAgICAgcGFyYW1FSS5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyYW1FSTtcclxuICAgIH1cclxuICAgIFJlbW92ZVBhcmFtZXRlcihwYXJhbWV0ZXI6IEFGSSk6IHZvaWQge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbaV0gPT09IHBhcmFtZXRlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckRlZmF1bHRQYXJhbSA9IHRoaXMuaW5zdGFuY2UuZGVmYXVsdFBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbaV0gPSBjdXJyRGVmYXVsdFBhcmFtIGluc3RhbmNlb2YgQVNJID8gQVNIYW5kbGVyLkNvcHkoY3VyckRlZmF1bHRQYXJhbSkgOiBBRkhhbmRsZXIuQ29weShjdXJyRGVmYXVsdFBhcmFtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBNYWtlQmxvY2tEcmFnZ2FibGUoYmxvY2s6IEFGRUksIGFucDogQXBwQW5kUHJvamVjdCwgaXNDb3B5OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3Qgc2NyaXB0RWRpdG9yID0gYW5wLnByb2plY3Quc2NyaXB0RWRpdG9yO1xyXG4gICAgICAgIGJsb2NrLmRpdi5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgICAgIGJsb2NrLmRpdi5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdjb3B5JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrSXNDb3B5ID0gaXNDb3B5O1xyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrID0gYmxvY2s7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5ibG9ja3NEaXYuc3R5bGUuaGVpZ2h0ID0gJzkwJSc7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5kZWxEaXYuc3R5bGUuaGVpZ2h0ID0gJzEwJSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJsb2NrLmRpdi5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5ibG9ja3NEaXYuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuZGVsRGl2LnN0eWxlLmhlaWdodCA9ICcwJSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIFNldFBhcmFtZXRlckRpdihhbnA6IEFwcEFuZFByb2plY3QsIGFmZWk6IEFGRUksIHBhcmFtRGl2OiBIVE1MRGl2RWxlbWVudCwgcGFyYW1JbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3Qgc2NyaXB0RWRpdG9yID0gYW5wLnByb2plY3Quc2NyaXB0RWRpdG9yO1xyXG5cclxuICAgICAgICBwYXJhbURpdi5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IFwiY29weVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmFtRGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICAgICAgcGFyYW1EaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFyYW1EaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHBhcmFtRGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJyc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhcmFtRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2sgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0Jsb2NrO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0Jsb2NrRGl2O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2tJc0NvcHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdCbG9ja0luc3RhbmNlID0gQUZIYW5kbGVyLkNvcHkoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5pbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tEaXYgPSA8SFRNTERpdkVsZW1lbnQ+IHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2suZGl2LmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShuZXdCbG9ja0luc3RhbmNlLCBuZXdCbG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2sucGFyZW50RUkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRFSSA9IHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2sucGFyZW50RUk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEVJLlJlbW92ZVBhcmFtZXRlcihzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RUkuRGlzcGxheUJsb2NrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrRGl2ID0gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5kaXY7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2sgPSBzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrRGl2LmRldGFjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWZlaS5pbnN0YW5jZS5wYXJhbWV0ZXJzW3BhcmFtSW5kZXhdID0gbmV3QmxvY2suaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBhZmVpLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQUZSSSB7XHJcbiAgICB0eXBlOiBBRjtcclxuICAgIHBhcmFtZXRlcnM6IChBU0kgfCBBRlJJKVtdO1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0O1xyXG4gICAgYWJzdHJhY3QgRXhlY3V0ZSgpOiBQcm9taXNlPGFueT47XHJcbiAgICBjb25zdHJ1Y3RvcihvZ0Z1bmN0aW9uOiBBRkksIGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IG9nRnVuY3Rpb24udHlwZTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmFucCA9IGFucDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9nRnVuY3Rpb24ucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvZ1BhcmFtID0gb2dGdW5jdGlvbi5wYXJhbWV0ZXJzW2ldO1xyXG4gICAgICAgICAgICBsZXQgY29weTtcclxuICAgICAgICAgICAgaWYgKG9nUGFyYW0gaW5zdGFuY2VvZiBBU0kpIHtcclxuICAgICAgICAgICAgICAgIGNvcHkgPSBBU0hhbmRsZXIuQ29weShvZ1BhcmFtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvcHkgPSBBRkhhbmRsZXIuQ3JlYXRlUkkob2dQYXJhbSwgYW5wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChjb3B5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEFic3RyYWN0IENsYXNzZXNcclxuXHJcbi8vI3JlZ2lvbiBEbyBOb3RoaW5nXHJcbmV4cG9ydCBjbGFzcyBBRG9Ob3RoaW5nSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYubm9uZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFEb05vdGhpbmdFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFEb05vdGhpbmdJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9ICcwLjV2aCc7XHJcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubWluV2lkdGggPSAnNHZoJztcclxuICAgICAgICB0aGlzLmRpdi5zdHlsZS5taW5IZWlnaHQgPSAnNHZoJztcclxuICAgICAgICB0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBCR19DT0xPUl8zO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFEb05vdGhpbmdSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHt9XHJcbn1cclxuLy8jZW5kcmVnaW9uIERvIE5vdGhpbmdcclxuXHJcbi8vI3JlZ2lvbiBDaGFpblxyXG5leHBvcnQgY2xhc3MgQUNoYWluSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuY2hhaW47XHJcbiAgICBkZWZhdWx0UGFyYW1ldGVyczogQUZJW107XHJcbiAgICBwYXJhbWV0ZXJzOiBBRklbXTtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBRkkpW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGNvbnN0IGRvTm90aGluZyA9IG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMucHVzaChkb05vdGhpbmcpO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBRkhhbmRsZXIuQ29weShkb05vdGhpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQ2hhaW5FSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFDaGFpbkk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayB2Ym94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQkdfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMXZoJztcclxuICAgICAgICBkaXYuc3R5bGUuZ2FwID0gJzF2aCc7XHJcbiAgICAgICAgY29uc3QgYW5wID0gdGhpcy5hbnA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckJsb2NrRGl2ID0gZGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyUGFyYW1EaXYgPSBjdXJyQmxvY2tEaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJQYXJhbSA9IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJQYXJhbUVJID0gQUZIYW5kbGVyLkNyZWF0ZUVJKGN1cnJQYXJhbSwgY3VyclBhcmFtRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShjdXJyUGFyYW1FSSwgYW5wLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGN1cnJQYXJhbUVJLnBhcmVudEVJID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIEFGRUkuU2V0UGFyYW1ldGVyRGl2KGFucCwgdGhpcywgY3VyclBhcmFtRGl2LCBpbmRleCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBjdXJyQmxvY2tEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJy0nIH0gKTtcclxuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1yZW1vdmUtYnV0dG9uJztcclxuICAgICAgICAgICAgY29uc3QgYWRkQnV0dG9uID0gY3VyckJsb2NrRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcbiAgICAgICAgICAgIGFkZEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcblxyXG4gICAgICAgICAgICBkZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWRkQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMuc3BsaWNlKGluZGV4LCAwLCBuZXcgQURvTm90aGluZ0koKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcblxyXG4gICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMuc3BsaWNlKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGgsIDAsIG5ldyBBRG9Ob3RoaW5nSSgpKTtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBSZW1vdmVQYXJhbWV0ZXIocGFyYW1ldGVyOiBBRkkpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldID09PSBwYXJhbWV0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9IEFGSGFuZGxlci5Db3B5KHRoaXMuaW5zdGFuY2UuZGVmYXVsdFBhcmFtZXRlcnNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUNoYWluUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFGUklbXTtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJhbWV0ZXJzW2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIENoYWluXHJcblxyXG4vLyNyZWdpb24gR2V0XHJcbmV4cG9ydCBjbGFzcyBBR2V0SSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuZ2V0O1xyXG4gICAgcGFyYW1ldGVyczogQVNJW107XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiBBU0lbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSBuZXcgQVN0cmluZ0koU2NvcGUuVmFsdWUsICdWYXJpYWJsZSBOYW1lJyk7XHJcbiAgICAgICAgb2JqSW5kZXgudmFsdWUgPSAwO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbdmFyTmFtZSwgb2JqSW5kZXhdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weSh2YXJOYW1lKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG9iakluZGV4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUdldEVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUdldEk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayBoYm94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8yO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzM7XHJcbiAgICAgICAgY29uc3QgYW5wID0gdGhpcy5hbnA7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSUQgPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV07XHJcblxyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnR2V0JyB9ICk7XHJcbiAgICAgICAgY29uc3QgdmFyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnZnJvbScgfSApO1xyXG4gICAgICAgIGNvbnN0IG9iakRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqSURJbnB1dCA9IG9iakRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZUlucHV0ID0gdmFyRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzM7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb2JqSURJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBpICsgJzogJyArIG9iakFycltpXS5uYW1lLCB2YWx1ZTogaSArICc6ICcgKyBvYmpBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBHZXRBbGxWYXJOYW1lcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyTmFtZUlucHV0LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iakFyciA9IGFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzO1xyXG4gICAgICAgICAgICBjb25zdCB2YXJBcnIgPSBvYmpBcnJbdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdLnZhbHVlXS52YXJpYWJsZXM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXJOYW1lSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogdmFyQXJyW2ldLm5hbWUsIHZhbHVlOiB2YXJBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqSURJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdLnZhbHVlID0gcGFyc2VJbnQob2JqSURJbnB1dC52YWx1ZS5zcGxpdCgnOicpWzBdKTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKG9iaklESW5wdXQsIGRpdik7XHJcbiAgICAgICAgICAgIEdldEFsbFZhck5hbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhck5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdLnZhbHVlID0gdmFyTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodmFyTmFtZUlucHV0LCBkaXYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgR2V0QWxsVmFyTmFtZXMoKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC52YWx1ZSA9IG9iaklELnZhbHVlICsgJzogJyArIG9iakFycltvYmpJRC52YWx1ZV0ubmFtZTtcclxuICAgICAgICB2YXJOYW1lSW5wdXQudmFsdWUgPSB2YXJOYW1lLnZhbHVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0LCBkaXYpO1xyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBR2V0UkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFTSVtdO1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPEFTST4ge1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSW5kZXggPSB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5hbnAucHJvamVjdC5nYW1lVmlldy5vYmplY3RzW29iakluZGV4LnZhbHVlXTtcclxuICAgICAgICByZXR1cm4gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKG9iaiwgdmFyTmFtZS52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEdldFxyXG5cclxuLy8jcmVnaW9uIFNldFxyXG5leHBvcnQgY2xhc3MgQVNldEkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLnNldDtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ1ZhcmlhYmxlIE5hbWUnKTtcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIG9iakluZGV4LnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW3Zhck5hbWUsIG9iakluZGV4XTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFyTmFtZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShvYmpJbmRleCkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlZhbHVlLCAnJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTZXRFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFTZXRJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG4gICAgICAgIGNvbnN0IGFucCA9IHRoaXMuYW5wO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJOYW1lID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IG9iaklEID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1NldCcgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhckRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ2Zyb20nIH0gKTtcclxuICAgICAgICBjb25zdCBvYmpEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICd0bycgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBBRkVJLlNldFBhcmFtZXRlckRpdihhbnAsIHRoaXMsIHZhbHVlRGl2LCAyKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqSURJbnB1dCA9IG9iakRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZUlucHV0ID0gdmFyRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzM7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb2JqSURJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBpICsgJzogJyArIG9iakFycltpXS5uYW1lLCB2YWx1ZTogaSArICc6ICcgKyBvYmpBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBHZXRBbGxWYXJOYW1lcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyTmFtZUlucHV0LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iakFyciA9IGFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzO1xyXG4gICAgICAgICAgICBjb25zdCB2YXJBcnIgPSBvYmpBcnJbKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXSkudmFsdWVdLnZhcmlhYmxlcztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhck5hbWVJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiB2YXJBcnJbaV0ubmFtZSwgdmFsdWU6IHZhckFycltpXS5uYW1lIH0gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFsdWVEaXYuZW1wdHkoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1syXSBpbnN0YW5jZW9mIEFGSSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DcmVhdGVBRklQYXJhbWV0ZXJEaXYoMiwgdmFsdWVEaXYsIENFTlRSQUxfQ09MT1JfMyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNyZWF0ZUFTSVBhcmFtZXRlckRpdigyLCB2YWx1ZURpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBvYmpJRElucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdKS52YWx1ZSA9IHBhcnNlSW50KG9iaklESW5wdXQudmFsdWUuc3BsaXQoJzonKVswXSk7XHJcbiAgICAgICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0LCBkaXYpO1xyXG4gICAgICAgICAgICBHZXRBbGxWYXJOYW1lcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXJOYW1lSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF0pLnZhbHVlID0gdmFyTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodmFyTmFtZUlucHV0LCBkaXYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgR2V0QWxsVmFyTmFtZXMoKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC52YWx1ZSA9IG9iaklELnZhbHVlICsgJzogJyArIG9iakFycltvYmpJRC52YWx1ZV0ubmFtZTtcclxuICAgICAgICB2YXJOYW1lSW5wdXQudmFsdWUgPSB2YXJOYW1lLnZhbHVlO1xyXG5cclxuICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgob2JqSURJbnB1dCwgZGl2KTtcclxuICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodmFyTmFtZUlucHV0LCBkaXYpO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1syXSA9PT0gcGFyYW1ldGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRQYXJhbSA9IEFTSGFuZGxlci5DcmVhdGVJKCg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF0pLnR5cGUsIFNjb3BlLlZhbHVlLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1syXSA9IGRlZmF1bHRQYXJhbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU2V0UkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IDxBU0k+IHRoaXMucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IDxBU0k+IHRoaXMucGFyYW1ldGVyc1sxXTtcclxuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnBhcmFtZXRlcnNbMl07XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5hbnAucHJvamVjdC5nYW1lVmlldy5vYmplY3RzW29iakluZGV4LnZhbHVlXTtcclxuICAgICAgICBjb25zdCB2YXJUb1NldCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZShvYmosIHZhck5hbWUudmFsdWUpO1xyXG4gICAgICAgIHZhclRvU2V0LnZhbHVlID0gdmFsIGluc3RhbmNlb2YgQUZSSSA/IChhd2FpdCB2YWwuRXhlY3V0ZSgpKS52YWx1ZSA6IHZhbC52YWx1ZTtcclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gU2V0XHJcblxyXG4vLyNyZWdpb24gSWZcclxuZXhwb3J0IGNsYXNzIEFJZkkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLmlmO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQUJvb2xlYW5JKFNjb3BlLlZhbHVlLCAnY29uZGl0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgZG9Ob3RoaW5nID0gbmV3IEFEb05vdGhpbmdJKCk7XHJcbiAgICAgICAgY29uZGl0aW9uLnZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UGFyYW1ldGVycyA9IFtjb25kaXRpb24sIGRvTm90aGluZ107XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KGNvbmRpdGlvbikpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBRkhhbmRsZXIuQ29weShkb05vdGhpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBSWZFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFJZkk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayB2Ym94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQUNDRU5UX0NPTE9SXzI7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMztcclxuICAgICAgICBjb25zdCBhbnAgPSB0aGlzLmFucDtcclxuXHJcbiAgICAgICAgY29uc3QgdG9wRGl2ID0gZGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgIHRvcERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnSWYnIH0gKTtcclxuICAgICAgICBjb25zdCBjb25kaXRpb25EaXYgPSB0b3BEaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgY29uc3QgZnVuY3Rpb25EaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcblxyXG4gICAgICAgIEFGRUkuU2V0UGFyYW1ldGVyRGl2KGFucCwgdGhpcywgY29uZGl0aW9uRGl2LCAwKTtcclxuICAgICAgICBBRkVJLlNldFBhcmFtZXRlckRpdihhbnAsIHRoaXMsIGZ1bmN0aW9uRGl2LCAxKTtcclxuXHJcbiAgICAgICAgdGhpcy5DcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdigwLCBjb25kaXRpb25EaXYsIEFDQ0VOVF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdigxLCBmdW5jdGlvbkRpdiwgQUNDRU5UX0NPTE9SXzMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUlmUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0xID0gdGhpcy5wYXJhbWV0ZXJzWzBdO1xyXG5cclxuICAgICAgICBjb25zdCBwYXJhbTFJc0FGUkkgPSBwYXJhbTEgaW5zdGFuY2VvZiBBRlJJO1xyXG5cclxuICAgICAgICBjb25zdCBjb25kaXRpb24gPSBwYXJhbTFJc0FGUkkgPyAoYXdhaXQgcGFyYW0xLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTEudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChjb25kaXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW0yID0gPEFGUkk+IHRoaXMucGFyYW1ldGVyc1sxXTtcclxuICAgICAgICAgICAgYXdhaXQgcGFyYW0yLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIElmXHJcblxyXG4vLyNyZWdpb24gRXF1YWxzXHJcbmV4cG9ydCBjbGFzcyBBRXF1YWxzSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuZXF1YWxzO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCB2YWwxID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAndmFsMScpO1xyXG4gICAgICAgIGNvbnN0IHZhbDIgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICd2YWwyJyk7XHJcbiAgICAgICAgdmFsMS52YWx1ZSA9IDA7XHJcbiAgICAgICAgdmFsMi52YWx1ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UGFyYW1ldGVycyA9IFt2YWwxLCB2YWwyXTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFsMSkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weSh2YWwyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUVxdWFsc0VJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUVxdWFsc0k7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayBoYm94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8xO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzM7XHJcbiAgICAgICAgY29uc3QgYW5wID0gdGhpcy5hbnA7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbDFEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICc9JyB9ICk7XHJcbiAgICAgICAgY29uc3QgdmFsMkRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgQUZFSS5TZXRQYXJhbWV0ZXJEaXYoYW5wLCB0aGlzLCB2YWwxRGl2LCAwKTtcclxuICAgICAgICBBRkVJLlNldFBhcmFtZXRlckRpdihhbnAsIHRoaXMsIHZhbDJEaXYsIDEpO1xyXG5cclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDAsIHZhbDFEaXYsIENFTlRSQUxfQ09MT1JfMyk7XHJcbiAgICAgICAgdGhpcy5DcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdigxLCB2YWwyRGl2LCBDRU5UUkFMX0NPTE9SXzMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUVxdWFsc1JJIGV4dGVuZHMgQUZSSSB7XHJcbiAgICBhc3luYyBFeGVjdXRlKCk6IFByb21pc2U8QUJvb2xlYW5JPiB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0xID0gdGhpcy5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMiA9IHRoaXMucGFyYW1ldGVyc1sxXTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyYW0xSXNBRlJJID0gcGFyYW0xIGluc3RhbmNlb2YgQUZSSTtcclxuICAgICAgICBjb25zdCBwYXJhbTJJc0FGUkkgPSBwYXJhbTIgaW5zdGFuY2VvZiBBRlJJO1xyXG5cclxuICAgICAgICBjb25zdCB2YWwxID0gcGFyYW0xSXNBRlJJID8gKGF3YWl0IHBhcmFtMS5FeGVjdXRlKCkpLnZhbHVlIDogcGFyYW0xLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHZhbDIgPSBwYXJhbTJJc0FGUkkgPyAoYXdhaXQgcGFyYW0yLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTIudmFsdWU7XHJcblxyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBBQm9vbGVhbkkoU2NvcGUuVmFsdWUsICdzdW0nKTtcclxuICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxID09PSB2YWwyO1xyXG5cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBFcXVhbHNcclxuXHJcbi8vI3JlZ2lvbiBBZGRcclxuZXhwb3J0IGNsYXNzIEFBZGRJIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5hZGQ7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IG51bTEgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICdudW0xJyk7XHJcbiAgICAgICAgY29uc3QgbnVtMiA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ251bTInKTtcclxuICAgICAgICBudW0xLnZhbHVlID0gMDtcclxuICAgICAgICBudW0yLnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW251bTEsIG51bTJdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShudW0xKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG51bTIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQWRkRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBQWRkSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMuZGl2O1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrIGhib3gnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzE7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMztcclxuICAgICAgICBjb25zdCBhbnAgPSB0aGlzLmFucDtcclxuXHJcbiAgICAgICAgY29uc3QgbnVtMURpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJysnIH0gKTtcclxuICAgICAgICBjb25zdCBudW0yRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBBRkVJLlNldFBhcmFtZXRlckRpdihhbnAsIHRoaXMsIG51bTFEaXYsIDApO1xyXG4gICAgICAgIEFGRUkuU2V0UGFyYW1ldGVyRGl2KGFucCwgdGhpcywgbnVtMkRpdiwgMSk7XHJcblxyXG4gICAgICAgIHRoaXMuQ3JlYXRlQVNJT3JBRklQYXJhbWV0ZXJEaXYoMCwgbnVtMURpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDEsIG51bTJEaXYsIENFTlRSQUxfQ09MT1JfMyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQWRkUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTxBTnVtYmVyST4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMSA9IHRoaXMucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBwYXJhbTIgPSB0aGlzLnBhcmFtZXRlcnNbMV07XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmFtMUlzQUZSSSA9IHBhcmFtMSBpbnN0YW5jZW9mIEFGUkk7XHJcbiAgICAgICAgY29uc3QgcGFyYW0ySXNBRlJJID0gcGFyYW0yIGluc3RhbmNlb2YgQUZSSTtcclxuXHJcbiAgICAgICAgY29uc3QgbnVtMSA9IHBhcmFtMUlzQUZSSSA/IChhd2FpdCBwYXJhbTEuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMS52YWx1ZTtcclxuICAgICAgICBjb25zdCBudW0yID0gcGFyYW0ySXNBRlJJID8gKGF3YWl0IHBhcmFtMi5FeGVjdXRlKCkpLnZhbHVlIDogcGFyYW0yLnZhbHVlO1xyXG5cclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICdzdW0nKTtcclxuICAgICAgICBvdXRwdXQudmFsdWUgPSBudW0xICsgbnVtMjtcclxuXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gQWRkXHJcbiIsICJpbXBvcnQgeyBBRkhhbmRsZXIsIEFGSSwgQUZSSSB9IGZyb20gXCJjbGFzc2VzL2Z1bmN0aW9ucy9mdW5jdGlvblwiO1xyXG5pbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBTY29wZSB9IGZyb20gXCJjbGFzc2VzL3Njb3BlXCI7XHJcbmltcG9ydCB7IEFTLCBBU0hhbmRsZXIsIEFTSSB9IGZyb20gXCJjbGFzc2VzL3N0cnVjdHMvc3RydWN0XCI7XHJcbmltcG9ydCB7IEltYWdlRmlsZSwgVmlkZW9GaWxlIH0gZnJvbSBcIi4vZmlsZS10eXBlcy9yZWFsLWZpbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHRU9EM09iamVjdEhhbmRsZXIge1xyXG4gICAgc3RhdGljIEdldFZhcmlhYmxlKG9iajogR0VPRDNPYmplY3QgfCBHRU9EM09iamVjdFJJLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG9iai52YXJpYWJsZXNbaV0ubmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai52YXJpYWJsZXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYXJpYWJsZSAnICsgbmFtZSArICcgbm90IGZvdW5kIG9uIG9iamVjdCAnICsgb2JqLmlkSW5TY2VuZSArICc6ICcgKyBvYmoubmFtZSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSUkob2JqOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBpbnNwZWN0b3JEaXY6IEhUTUxEaXZFbGVtZW50KTogR0VPRDNPYmplY3RJSSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHRU9EM09iamVjdElJKG9iaiwgYW5wLCBpbnNwZWN0b3JEaXYpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZVJJKG9iajogR0VPRDNPYmplY3QsIGFucDogQXBwQW5kUHJvamVjdCwgb2JqRGl2OiBIVE1MRGl2RWxlbWVudCk6IEdFT0QzT2JqZWN0Ukkge1xyXG4gICAgICAgIHJldHVybiBuZXcgR0VPRDNPYmplY3RSSShvYmosIGFucCwgb2JqRGl2KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0IHtcclxuICAgIGlkSW5TY2VuZTogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgb25TdGFydDogQUZJW107XHJcbiAgICBvbk5ld0ZyYW1lOiBBRklbXTtcclxuICAgIHZhcmlhYmxlczogQVNJW107XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5pZEluU2NlbmUgPSBpZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnb2JqZWN0JztcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMub25TdGFydCA9IFtdO1xyXG4gICAgICAgIHRoaXMub25OZXdGcmFtZSA9IFtdO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMuc3RyaW5nLCBTY29wZS5QdWJsaWMsICdTcHJpdGUgUGF0aCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnU3ByaXRlIFdpZHRoJykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcHJpdGUgSGVpZ2h0JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICd4JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICd5JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICd6JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcGVlZCB4JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcGVlZCB5JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcGVlZCB6JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdBY2NlbGVyYXRpb24geCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnQWNjZWxlcmF0aW9uIHknKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ0FjY2VsZXJhdGlvbiB6JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMuYm9vbGVhbiwgU2NvcGUuUHVibGljLCAnRG8gUmVjdGFuZ3VsYXIgSGl0Ym94JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdIaXRib3ggUmFkaXVzL0hhbGYgV2lkdGgnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ0hpdGJveCBIYWxmIEhlaWdodCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnSGl0Ym94IEhhbGYgVGhpY2tuZXNzJykpO1xyXG5cclxuICAgICAgICB0aGlzLnZhcmlhYmxlc1sxXS52YWx1ZSA9IDEwMDtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlc1syXS52YWx1ZSA9IDEwMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0SUkge1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0O1xyXG4gICAgaW5zdGFuY2U6IEdFT0QzT2JqZWN0O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZTogR0VPRDNPYmplY3QsIGFucDogQXBwQW5kUHJvamVjdCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmFucCA9IGFucDtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBuYW1lRGl2ID0gZGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgIG5hbWVEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdGhpcy5pbnN0YW5jZS5pZEluU2NlbmUgKyAnOicgfSApO1xyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IG5hbWVEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmluc3RhbmNlLm5hbWUgfSApO1xyXG4gICAgICAgIGNvbnN0IGVkaXRTY3JpcHRzQnV0dG9uID0gbmFtZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnRWRpdCBTY3JpcHRzXHVEODNEXHVEQ0RDJyB9ICk7XHJcbiAgICAgICAgZWRpdFNjcmlwdHNCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLXNlY29uZGFyeS1idXR0b24nO1xyXG4gICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5uYW1lID0gbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZGl0U2NyaXB0c0J1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBhbnAucHJvamVjdC5zY3JpcHRFZGl0b3IuY3VycmVudE9iamVjdCA9IHRoaXMuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGFucC5wcm9qZWN0LlN3aXRjaFRvVGFiKGFucC5wcm9qZWN0LnNjcmlwdEVkaXRvclRhYklEKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVzRGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtaW5zcGVjdG9yLXZhcmlhYmxlLWxpc3QgdmJveCcpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYXNJID0gdGhpcy5pbnN0YW5jZS52YXJpYWJsZXNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHZhckRpdiA9IHZhcmlhYmxlc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3Rvci12YXJpYWJsZSBoYm94Jyk7XHJcbiAgICAgICAgICAgIHZhckRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBhc0kubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIEFTSGFuZGxlci5DcmVhdGVJSShhc0ksIHZhckRpdi5jcmVhdGVEaXYoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFkZE5ld0RpdiA9IGRpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVOYW1lSW5wdXQgPSBhZGROZXdEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAndW5uYW1lZCcgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlVHlwZUlucHV0ID0gYWRkTmV3RGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBhZGRWYXJpYWJsZUJ1dHRvbiA9IGFkZE5ld0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG5cclxuICAgICAgICBhZGRWYXJpYWJsZUJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBBU1tpXTtcclxuICAgICAgICAgICAgdmFyaWFibGVUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogdHlwZSwgdmFsdWU6IGkgKyAnJyB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhcmlhYmxlVHlwZUlucHV0LnZhbHVlID0gJzEnO1xyXG5cclxuICAgICAgICBhZGRWYXJpYWJsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdmFyaWFibGVOYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluc3RhbmNlLnZhcmlhYmxlc1tpXS5uYW1lID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhciA9IEFTSGFuZGxlci5DcmVhdGVJKHBhcnNlSW50KHZhcmlhYmxlVHlwZUlucHV0LnZhbHVlKSwgU2NvcGUuUHVibGljLCBuYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS52YXJpYWJsZXMucHVzaChuZXdWYXIpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWYXJEaXYgPSB2YXJpYWJsZXNEaXYuY3JlYXRlRGl2KCdnZW9kMy1pbnNwZWN0b3ItdmFyaWFibGUgaGJveCcpO1xyXG4gICAgICAgICAgICBuZXdWYXJEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogbmV3VmFyLm5hbWUgfSApO1xyXG4gICAgICAgICAgICBBU0hhbmRsZXIuQ3JlYXRlSUkobmV3VmFyLCBuZXdWYXJEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgR0VPRDNPYmplY3RSSSB7XHJcbiAgICBpZEluU2NlbmU6IG51bWJlcjtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIG9uU3RhcnQ6IEFGUklbXTtcclxuICAgIG9uTmV3RnJhbWU6IEFGUklbXTtcclxuICAgIHZhcmlhYmxlczogQVNJW107XHJcbiAgICBvYmpEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0O1xyXG4gICAgcHJpdmF0ZSBwcmV2U3ByaXRlUGF0aDogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3Iob2JqOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBvYmpEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5pZEluU2NlbmUgPSBvYmouaWRJblNjZW5lO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG9iai5uYW1lO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gW107XHJcbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gW107XHJcbiAgICAgICAgdGhpcy5vbk5ld0ZyYW1lID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoudmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNvcHkob2JqLnZhcmlhYmxlc1tpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5vblN0YXJ0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TdGFydC5wdXNoKEFGSGFuZGxlci5DcmVhdGVSSShvYmoub25TdGFydFtpXSwgYW5wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLm9uTmV3RnJhbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5ld0ZyYW1lLnB1c2goQUZIYW5kbGVyLkNyZWF0ZVJJKG9iai5vbk5ld0ZyYW1lW2ldLCBhbnApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmpEaXYgPSBvYmpEaXY7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICAgICAgdGhpcy5wcmV2U3ByaXRlUGF0aCA9ICcnO1xyXG4gICAgICAgIHRoaXMuU2V0T2JqRGl2Q1NTUHJvcGVydGllcygpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBTZXRPYmpEaXZDU1NQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMub2JqRGl2LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgMCUpJztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIFJlZnJlc2hTcHJpdGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlUGF0aCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3ByaXRlIFBhdGgnKS52YWx1ZTtcclxuICAgICAgICBpZiAodGhpcy5wcmV2U3ByaXRlUGF0aCAhPT0gc3ByaXRlUGF0aCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFGaWxlID0gPEltYWdlRmlsZSB8IFZpZGVvRmlsZT4gdGhpcy5hbnAucHJvamVjdC5maWxlTWFuYWdlci5HZXRGaWxlQnlQcmltaXRpdmVQYXRoKHNwcml0ZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlU3JjID0gbWVkaWFGaWxlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVkaWFFbDtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFGaWxlIGluc3RhbmNlb2YgSW1hZ2VGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFFbCA9IHRoaXMub2JqRGl2LmNyZWF0ZUVsKCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFFbCA9IHRoaXMub2JqRGl2LmNyZWF0ZUVsKCd2aWRlbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRWwuY29udHJvbHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUVsLmxvb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVkaWFFbC5zcmMgPSBzcHJpdGVTcmM7XHJcbiAgICAgICAgICAgICAgICBtZWRpYUVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgbWVkaWFFbC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZTcHJpdGVQYXRoID0gc3ByaXRlUGF0aDtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIHRvIGZpbmQgaW1hZ2UvdmlkZW8gcGF0aCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBTZXRMb2NhdGlvbkFuZFdpZHRoKCkge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcHJpdGUgV2lkdGgnKTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1Nwcml0ZSBIZWlnaHQnKTtcclxuICAgICAgICBjb25zdCB4ID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICd4Jyk7XHJcbiAgICAgICAgY29uc3QgeSA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAneScpO1xyXG4gICAgICAgIGNvbnN0IHogPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ3onKTtcclxuICAgICAgICBjb25zdCB4VmVsID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcGVlZCB4Jyk7XHJcbiAgICAgICAgY29uc3QgeVZlbCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3BlZWQgeScpO1xyXG4gICAgICAgIGNvbnN0IHpWZWwgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1NwZWVkIHonKTtcclxuICAgICAgICBjb25zdCB4QWNjZWwgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ0FjY2VsZXJhdGlvbiB4Jyk7XHJcbiAgICAgICAgY29uc3QgeUFjY2VsID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdBY2NlbGVyYXRpb24geScpO1xyXG4gICAgICAgIGNvbnN0IHpBY2NlbCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnQWNjZWxlcmF0aW9uIHonKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS53aWR0aCA9IHdpZHRoLnZhbHVlICsgJ3B4JztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5oZWlnaHQgPSBoZWlnaHQudmFsdWUgKyAncHgnO1xyXG5cclxuICAgICAgICB4VmVsLnZhbHVlICs9IHhBY2NlbC52YWx1ZTtcclxuICAgICAgICB5VmVsLnZhbHVlICs9IHlBY2NlbC52YWx1ZTtcclxuICAgICAgICB6VmVsLnZhbHVlICs9IHpBY2NlbC52YWx1ZTtcclxuXHJcbiAgICAgICAgeC52YWx1ZSArPSB4VmVsLnZhbHVlO1xyXG4gICAgICAgIHkudmFsdWUgKz0geVZlbC52YWx1ZTtcclxuICAgICAgICB6LnZhbHVlICs9IHpWZWwudmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUubGVmdCA9IHgudmFsdWUgKyAncHgnO1xyXG4gICAgICAgIHRoaXMub2JqRGl2LnN0eWxlLmJvdHRvbSA9IHkudmFsdWUgKyAncHgnO1xyXG4gICAgfVxyXG4gICAgUmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuUmVmcmVzaFNwcml0ZSgpO1xyXG4gICAgICAgIHRoaXMuU2V0TG9jYXRpb25BbmRXaWR0aCgpO1xyXG4gICAgfVxyXG4gICAgT25TdGFydCgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub25TdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhcnRbaV0uRXhlY3V0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9uTmV3RnJhbWUoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9uTmV3RnJhbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5ld0ZyYW1lW2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEdFT0QzT2JqZWN0SGFuZGxlciwgR0VPRDNPYmplY3RSSSB9IGZyb20gXCIuL2dlb2QzLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lVmlldyBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdTI1QjZcdUZFMEYnO1xyXG4gICAgZ2FtZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBzdGlsbFJ1bm5pbmc6IGJvb2xlYW47XHJcbiAgICBvYmplY3RzOiBHRU9EM09iamVjdFJJW107XHJcblxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtZ2FtZS12aWV3LW1haW4tZGl2IGdlb2QzLXRhYi1jb250YWluZXInO1xyXG4gICAgICAgIGNvbnN0IGdhbWVXcmFwcGVyID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtZ2FtZS13cmFwcGVyJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lRGl2ID0gZ2FtZVdyYXBwZXIuY3JlYXRlRGl2KCdnZW9kMy1nYW1lJyk7XHJcbiAgICAgICAgdGhpcy5zdGlsbFJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IFtdO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLk9uU3RhcnQoKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5zdGlsbFJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5Pbk5ld0ZyYW1lKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKDE1KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5zdGlsbFJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIE9uU3RhcnQoKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqSW5zdGFuY2VzID0gdGhpcy5hbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iakluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHMucHVzaChHRU9EM09iamVjdEhhbmRsZXIuQ3JlYXRlUkkob2JqSW5zdGFuY2VzW2ldLCB0aGlzLmFucCwgdGhpcy5nYW1lRGl2LmNyZWF0ZURpdigpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c1tpXS5PblN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgT25OZXdGcmFtZSgpIHtcclxuICAgICAgICBjb25zdCByZW5kZXJpbmdPcmRlcjogR0VPRDNPYmplY3RSSVtdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAgICAgY3Vyck9iai5SZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5QbGFjZUludG9TcHJpdGVBcnJheShyZW5kZXJpbmdPcmRlciwgY3Vyck9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyaW5nT3JkZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclNwcml0ZSA9IHJlbmRlcmluZ09yZGVyW2ldO1xyXG4gICAgICAgICAgICBjdXJyU3ByaXRlLm9iakRpdi5zdHlsZS56SW5kZXggPSBpICsgJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c1tpXS5Pbk5ld0ZyYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgUGxhY2VJbnRvU3ByaXRlQXJyYXkoYXJyOiBHRU9EM09iamVjdFJJW10sIG5ld0l0ZW06IEdFT0QzT2JqZWN0UkkpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbG93ID0gMDtcclxuICAgICAgICBsZXQgaGlnaCA9IGFyci5sZW5ndGg7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1ogPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUobmV3SXRlbSwgJ3onKTtcclxuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xyXG4gICAgICAgICAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xyXG4gICAgICAgICAgICBjb25zdCBtaWRaID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKGFyclttaWRdLCAneicpO1xyXG4gICAgICAgICAgICBpZiAobWlkWiA8IG5ld1opIHtcclxuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhcnIuc3BsaWNlKGxvdywgMCwgbmV3SXRlbSk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3QsIEdFT0QzT2JqZWN0SGFuZGxlciB9IGZyb20gXCIuL2dlb2QzLW9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjZW5lVmlldyBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdUQ4M0NcdURGMTAnO1xyXG4gICAgb2JqZWN0czogR0VPRDNPYmplY3RbXTtcclxuICAgIGhpZXJhcmNoeURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBzY2VuZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBpbnNwZWN0b3JEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICBzdXBlcihhbnApO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy10YWItY29udGFpbmVyIGhib3gnO1xyXG5cclxuICAgICAgICB0aGlzLmhpZXJhcmNoeURpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLW9iamVjdC1saXN0IHZib3gnKTtcclxuICAgICAgICBjb25zdCBzY2VuZVNjcm9sbFdyYXBwZXIgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1zY2VuZS1zY3JvbGwtd3JhcHBlcicpO1xyXG4gICAgICAgIGNvbnN0IHNjZW5lV3JhcHBlciA9IHNjZW5lU2Nyb2xsV3JhcHBlci5jcmVhdGVEaXYoJ2dlb2QzLXNjZW5lLXdyYXBwZXInKTtcclxuICAgICAgICB0aGlzLnNjZW5lRGl2ID0gc2NlbmVXcmFwcGVyLmNyZWF0ZURpdignZ2VvZDMtc2NlbmUnKTtcclxuICAgICAgICB0aGlzLmluc3BlY3RvckRpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3RvcicpO1xyXG5cclxuICAgICAgICBjb25zdCBsaXN0RGl2ID0gdGhpcy5oaWVyYXJjaHlEaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdERpdiA9IGxpc3REaXYuY3JlYXRlRGl2KCdnZW9kMy1vYmplY3QtaW4tbGlzdCBoYm94IHBvaW50ZXItaG92ZXInKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAgICAgb2JqZWN0RGl2LnRleHRDb250ZW50ID0gY3Vyck9iai5pZEluU2NlbmUgKyAnOiAnICsgY3Vyck9iai5uYW1lO1xyXG4gICAgICAgICAgICBvYmplY3REaXYub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEdFT0QzT2JqZWN0SGFuZGxlci5DcmVhdGVJSShjdXJyT2JqLCB0aGlzLmFucCwgdGhpcy5pbnNwZWN0b3JEaXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbnNEaXYgPSB0aGlzLmhpZXJhcmNoeURpdi5jcmVhdGVEaXYoJ2hib3gnKTtcclxuICAgICAgICBjb25zdCByZWZyZXNoQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyN0YzJyB9ICk7XHJcbiAgICAgICAgY29uc3QgYWRkT2JqQnV0dG9uID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG4gICAgICAgIHJlZnJlc2hCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLXNlY29uZGFyeS1idXR0b24nO1xyXG4gICAgICAgIGFkZE9iakJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcbiAgICAgICAgcmVmcmVzaEJ1dHRvbi5zdHlsZS53aWR0aCA9ICc1MCUnO1xyXG4gICAgICAgIGFkZE9iakJ1dHRvbi5zdHlsZS53aWR0aCA9ICc1MCUnO1xyXG4gICAgICAgIHJlZnJlc2hCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZURpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3Vyck9iaiA9IEdFT0QzT2JqZWN0SGFuZGxlci5DcmVhdGVSSSh0aGlzLm9iamVjdHNbaV0sIHRoaXMuYW5wLCB0aGlzLnNjZW5lRGl2LmNyZWF0ZURpdigpKTtcclxuICAgICAgICAgICAgICAgIGN1cnJPYmouUmVuZGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkT2JqQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vYmplY3RzLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgbmV3T2JqID0gbmV3IEdFT0QzT2JqZWN0KGluZGV4KTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RGl2ID0gbGlzdERpdi5jcmVhdGVEaXYoJ2dlb2QzLW9iamVjdC1pbi1saXN0IGhib3ggcG9pbnRlci1ob3ZlcicpO1xyXG4gICAgICAgICAgICBvYmplY3REaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogbmV3T2JqLmlkSW5TY2VuZSArICc6ICcgKyBuZXdPYmoubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKG5ld09iaik7XHJcbiAgICAgICAgICAgIG9iamVjdERpdi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgR0VPRDNPYmplY3RIYW5kbGVyLkNyZWF0ZUlJKG5ld09iaiwgdGhpcy5hbnAsIHRoaXMuaW5zcGVjdG9yRGl2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgVGFiIH0gZnJvbSBcIi4vdGFiXCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0IH0gZnJvbSBcIi4vZ2VvZDMtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEFDaGFpbkksIEFEb05vdGhpbmdJLCBBRiwgQUZFSSwgQUZIYW5kbGVyIH0gZnJvbSBcImNsYXNzZXMvZnVuY3Rpb25zL2Z1bmN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NyaXB0RWRpdG9yIGV4dGVuZHMgVGFiIHtcclxuICAgIHN0YXRpYyBvdmVycmlkZSBpY29uID0gJ1x1RDgzRFx1RENEQyc7XHJcbiAgICBzY3JpcHREaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgYmxvY2tzRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGRlbERpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBjdXJyZW50T2JqZWN0OiBHRU9EM09iamVjdDtcclxuICAgIGN1cnJlbnRseURyYWdnZWRCbG9jazogQUZFSSB8IHVuZGVmaW5lZDtcclxuICAgIGN1cnJlbnRseURyYWdnZWRCbG9ja0lzQ29weTogYm9vbGVhbjtcclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBGb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1jb250YWluZXIgaGJveCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnRTaWRlID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LXdyYXBwZXIgdmJveCcpO1xyXG4gICAgICAgICAgICBjb25zdCB0b3BEaXYgPSBsZWZ0U2lkZS5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1uYXZpZ2F0b3IgaGJveCcpO1xyXG5cclxuICAgICAgICAgICAgdG9wRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IHRoaXMuY3VycmVudE9iamVjdC5pZEluU2NlbmUgKyAnOiAnICsgdGhpcy5jdXJyZW50T2JqZWN0Lm5hbWUgfSApO1xyXG4gICAgICAgICAgICBjb25zdCBjbHVzdGVyVHlwZUlucHV0ID0gdG9wRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICAgICAgY2x1c3RlclR5cGVJbnB1dC52YWx1ZSA9ICdPbiBTdGFydCc7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJ09uIFN0YXJ0JywgdmFsdWU6ICdPbiBTdGFydCcgfSApO1xyXG4gICAgICAgICAgICBjbHVzdGVyVHlwZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICdPbiBOZXcgRnJhbWUnLCB2YWx1ZTogJ09uIE5ldyBGcmFtZScgfSApO1xyXG4gICAgICAgICAgICBjb25zdCBjbHVzdGVyTnVtYmVySW5wdXQgPSB0b3BEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnbnVtYmVyJywgdmFsdWU6ICcwJyB9ICk7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5taW4gPSAnMCc7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjcmlwdERpdiA9IGxlZnRTaWRlLmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrUG9vbCA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWJsb2NrLXBvb2wnKTtcclxuICAgICAgICAgICAgdGhpcy5ibG9ja3NEaXYgPSBibG9ja1Bvb2wuY3JlYXRlRGl2KCdnZW9kMy1ibG9ja3MtbGlzdCcpO1xyXG4gICAgICAgICAgICB0aGlzLmRlbERpdiA9IGJsb2NrUG9vbC5jcmVhdGVEaXYoJ2dlb2QzLWJsb2NrLWRlbGV0ZS1kaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IExvYWRTY3JpcHQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLmN1cnJlbnRPYmplY3Q7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRUeXBlID0gY2x1c3RlclR5cGVJbnB1dC52YWx1ZSA9PT0gJ09uIFN0YXJ0JyA/IG9iai5vblN0YXJ0IDogb2JqLm9uTmV3RnJhbWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KGNsdXN0ZXJOdW1iZXJJbnB1dC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IHNjcmlwdFR5cGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZS5wdXNoKG5ldyBBQ2hhaW5JKFtuZXcgQURvTm90aGluZ0koKV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBjbHVzdGVyTnVtYmVySW5wdXQubWF4ID0gc2NyaXB0VHlwZS5sZW5ndGggKyAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEFGSGFuZGxlci5DcmVhdGVFSShzY3JpcHRUeXBlW2luZGV4XSwgdGhpcy5zY3JpcHREaXYsIHRoaXMuYW5wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZUJsb2NrUG9vbCgpO1xyXG4gICAgICAgICAgICBMb2FkU2NyaXB0KCk7XHJcblxyXG4gICAgICAgICAgICBjbHVzdGVyVHlwZUlucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5jdXJyZW50T2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0VHlwZSA9IGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPT09ICdPbiBTdGFydCcgPyBvYmoub25TdGFydCA6IG9iai5vbk5ld0ZyYW1lO1xyXG4gICAgICAgICAgICAgICAgY2x1c3Rlck51bWJlcklucHV0LnZhbHVlID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgY2x1c3Rlck51bWJlcklucHV0Lm1heCA9IHNjcmlwdFR5cGUubGVuZ3RoICsgJyc7XHJcbiAgICAgICAgICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2x1c3Rlck51bWJlcklucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgTG9hZFNjcmlwdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGl2LmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ05vIG9iamVjdCB3YXMgc2VsZWN0ZWQnIH0gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVCbG9ja1Bvb2woKSB7XHJcbiAgICAgICAgdGhpcy5ibG9ja3NEaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxEaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IFwiY29weVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGVsRGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1ibG9jay1kZWxldGUtZGl2LWhvdmVyJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxEaXYuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5kZWxEaXYuY2xhc3NOYW1lID0gJ2dlb2QzLWJsb2NrLWRlbGV0ZS1kaXYnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRlbERpdi5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCEodGhpcy5jdXJyZW50bHlEcmFnZ2VkQmxvY2sgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9ja0lzQ29weSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmRpdi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEVJID0gdGhpcy5jdXJyZW50bHlEcmFnZ2VkQmxvY2sucGFyZW50RUk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50RUkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVJLlJlbW92ZVBhcmFtZXRlcih0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9jay5pbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RUkuRGlzcGxheUJsb2NrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjaGFpbkkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5jaGFpbiwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBnZXRJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuZ2V0LCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IHNldEkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5zZXQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgaWZJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuaWYsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgZXF1YWxzSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmVxdWFscywgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBhZGRJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuYWRkLCB1bmRlZmluZWQpO1xyXG5cclxuICAgICAgICBjb25zdCBjaGFpbkJsb2NrID0gQUZIYW5kbGVyLkNyZWF0ZUVJKGNoYWluSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGdldEJsb2NrID0gQUZIYW5kbGVyLkNyZWF0ZUVJKGdldEksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuICAgICAgICBjb25zdCBzZXRCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShzZXRJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3QgaWZCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShpZkksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuICAgICAgICBjb25zdCBlcXVhbHNCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShlcXVhbHNJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3QgYWRkQmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoYWRkSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG5cclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShjaGFpbkJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoZ2V0QmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShzZXRCbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKGlmQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShlcXVhbHNCbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKGFkZEJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG92ZXJyaWRlIFVuRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ0FBLElBQUFBLG1CQUF1RDs7O0FDQXZELElBQUFDLG1CQUFtQzs7O0FDQW5DLElBQUFDLG1CQUEr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
