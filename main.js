/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GEOD3
});
module.exports = __toCommonJS(main_exports);

// classes/geod3-view.ts
var import_obsidian5 = require("obsidian");

// classes/project.ts
var import_obsidian4 = require("obsidian");

// classes/tabs/file-manager.ts
var import_obsidian3 = require("obsidian");

// classes/tabs/tab.ts
var Tab = class {
  /**
   * @param anp a reference to the obsidian app to read and write files as well as the geod3 project this tab should look at
   */
  constructor(anp) {
    this.anp = anp;
  }
};

// classes/tabs/file-types/geod3-file.ts
var import_obsidian = require("obsidian");
var GEOD3File = class {
  getParent(manager) {
    return manager.GetFile(this.parentPath);
  }
  get name() {
    const pathParts = this.path.valueOf().split("/");
    if (this.path.valueOf() === "/") {
      return "root";
    }
    return pathParts[pathParts.length - 1];
  }
  constructor(path, parentPath) {
    this.parentPath = parentPath;
    this.path = path;
  }
  async GrabDependencies(anp) {
  }
  async DisplayThumbnail(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    thumbnailDiv.empty();
    thumbnailDiv.onclick = async () => {
      this.getParent(manager).SelectFile(anp, this, thumbnailDiv);
    };
    thumbnailDiv.createEl("div", { text: this.name });
    thumbnailDiv.createEl("div", { text: "Type: " + this.type });
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    manager.fileDiv.empty();
    manager.fileDiv.className = "vbox";
    const backButton = manager.fileDiv.createEl("button", { text: "Go back to " + this.getParent(manager).name });
    backButton.onclick = async () => {
      this.getParent(manager).Open(anp);
    };
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath + ".md");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
  async Save(anp) {
    const path = (0, import_obsidian.normalizePath)(anp.project.pathToProject + this.path + ".md");
    anp.app.vault.adapter.write(path, JSON.stringify(this.data));
  }
};

// classes/tabs/file-types/geod3-folder.ts
var GEOD3Folder = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.type = "\u{1F4C1}Folder";
    this.files = [];
  }
  get data() {
    return this.files;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    const vault = anp.app.vault;
    const project = anp.project;
    const createDiv = manager.fileDiv.createDiv("hbox");
    const typeDropdown = createDiv.createEl("select");
    for (let i = 0; i < GEOD3FileManager.KNOWN_FILE_TYPES.length; i++) {
      const currType = GEOD3FileManager.KNOWN_FILE_TYPES[i];
      typeDropdown.createEl("option", { text: currType, value: currType });
    }
    typeDropdown.value = GEOD3FileManager.KNOWN_FILE_TYPES[0];
    const nameInput = createDiv.createEl("input", { type: "text", value: "Unnamed" });
    const addButton = createDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      const newRelPath = this.path + (this.path.valueOf() === "/" ? "" : "/") + nameInput.value;
      const newPath = project.pathToProject + newRelPath;
      const newGEOD3File = GEOD3FileManager.CreateFileOfType(newRelPath, this.path, typeDropdown.value);
      if (typeDropdown.value === "\u{1F4C1}Folder") {
        vault.createFolder(newPath);
      } else {
        vault.create(newPath + ".md", JSON.stringify(newGEOD3File));
      }
      manager.files.push(newGEOD3File);
      this.files.push(newGEOD3File);
      this.Open(anp);
    };
    this.selectedThumbnail = void 0;
    const folderDiv = manager.fileDiv.createDiv("geod3-folder");
    for (let i = 0; i < this.files.length; i++) {
      this.files[i].DisplayThumbnail(anp, folderDiv.createDiv("geod3-file-thumbnail pointer-hover"));
    }
  }
  SelectFile(anp, newSelectedFile, thumbnailDiv) {
    if (this.selectedThumbnail !== void 0 && this.selectedThumbnail[0] === newSelectedFile && this.selectedThumbnail[1] === thumbnailDiv) {
      this.selectedThumbnail[0].Open(anp);
    } else {
      if (this.selectedThumbnail !== void 0) {
        this.selectedThumbnail[1].className = "geod3-file-thumbnail pointer-hover";
      }
      this.selectedThumbnail = [newSelectedFile, thumbnailDiv];
      this.selectedThumbnail[1].className = "geod3-file-thumbnail selected pointer-hover";
      this.selectedThumbnail[0].DisplayProperties(anp, thumbnailDiv);
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFolderByPath(project.pathToProject + originalPath);
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath);
      }
      this.path = newPath;
      const folderStack = [];
      const GFindex = 0;
      const CFindex = 1;
      folderStack.push([this, 0]);
      let depth = 0;
      while (folderStack[0][CFindex] < this.files.length) {
        const currFolder = folderStack[depth];
        const currIndex = currFolder[CFindex];
        const currFile = currFolder[GFindex].files[currIndex];
        currFile.path = currFile.path.replace(originalPath.valueOf(), newPath);
        if (currFile instanceof GEOD3Folder) {
          folderStack.push([currFile, 0]);
          depth++;
        } else {
          currFolder[CFindex]++;
        }
        if (folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
          while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
            depth--;
            folderStack.pop();
            if (depth >= 0) {
              folderStack[depth][CFindex]++;
            }
          }
        }
      }
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
};

// classes/tabs/file-types/real-file.ts
var import_obsidian2 = require("obsidian");
var RealFile = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.src = "";
  }
  get data() {
    return this.src;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    this.DisplayActualFile(manager.fileDiv);
  }
  async GrabDependencies(anp) {
    try {
      const app = anp.app;
      const vault = app.vault;
      const project = anp.project;
      const pathToActualFile = project.pathToProject + this.path + ".actual-file";
      const tFile = vault.getFileByPath(pathToActualFile);
      if (tFile === null) {
        throw new Error("");
      }
      const arrayBuffer = await vault.readBinary(tFile);
      const blob = new Blob([arrayBuffer]);
      this.src = URL.createObjectURL(blob);
    } catch (e) {
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const currFileDiv = manager.propertiesDiv.createDiv();
    this.DisplayActualFile(currFileDiv);
    const fileInput = manager.propertiesDiv.createEl("input", { type: "file" });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile1 = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const tFile2 = vault.getFileByPath(project.pathToProject + originalPath + ".actual-file");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile1 !== null) {
        vault.rename(tFile1, project.pathToProject + newPath + ".md");
      }
      if (tFile2 !== null) {
        vault.rename(tFile2, project.pathToProject + newPath + ".actual-file");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
    fileInput.onchange = async () => {
      const fileArray = fileInput.files;
      if (fileArray !== null) {
        const arrayBuffer = await fileArray[0].arrayBuffer();
        const blob = new Blob([arrayBuffer]);
        this.src = URL.createObjectURL(blob);
        const pathToMDFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".md");
        const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
        await anp.app.vault.adapter.write(pathToMDFile, JSON.stringify(this));
        await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
      }
      currFileDiv.empty();
      this.DisplayActualFile(currFileDiv);
    };
  }
  async Save(anp) {
    await super.Save(anp);
    try {
      const response = await fetch(this.data);
      const arrayBuffer = await response.arrayBuffer();
      const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
      await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
    } catch (e) {
      console.log("Error converting " + this.path.valueOf() + " to an actual file");
    }
  }
};
var ImageFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F5BC}\uFE0FImage";
  }
  async DisplayActualFile(div) {
    const img = div.createEl("img");
    img.style.objectFit = "contain";
    img.src = this.src;
    return img;
  }
};
var SoundFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F50A}Sound";
  }
  async DisplayActualFile(div) {
    const el = div.createEl("audio");
    el.src = this.src;
    return el;
  }
};
var VideoFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F39E}\uFE0FVideo";
  }
  async DisplayActualFile(div) {
    const vid = div.createEl("video");
    vid.style.objectFit = "contain";
    vid.src = this.src;
    return vid;
  }
};

// classes/tabs/file-manager.ts
var GEOD3FileManager = class extends Tab {
  constructor(anp) {
    super(anp);
    this.files = [];
  }
  get imageFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof ImageFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get soundFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof SoundFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get videoFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof VideoFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  GetFile(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  GetFileByPrimitivePath(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path.valueOf() === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  AssignObjectFromFileType(plainObj, path, parentPath) {
    plainObj.path = path;
    plainObj.parentPath = parentPath;
    switch (plainObj.type) {
      case "\u{1F4C1}Folder":
      default:
        return Object.assign(new GEOD3Folder(path, parentPath), plainObj);
      case "\u{1F5BC}\uFE0FImage":
        return Object.assign(new ImageFile(path, parentPath), plainObj);
      case "\u{1F50A}Sound":
        return Object.assign(new SoundFile(path, parentPath), plainObj);
      case "\u{1F39E}\uFE0FVideo":
        return Object.assign(new VideoFile(path, parentPath), plainObj);
    }
  }
  static CreateFileOfType(path, parentPath, type) {
    switch (type) {
      case "\u{1F4C1}Folder":
      default:
        return new GEOD3Folder(path, parentPath);
      case "\u{1F5BC}\uFE0FImage":
        return new ImageFile(path, parentPath);
      case "\u{1F50A}Sound":
        return new SoundFile(path, parentPath);
      case "\u{1F39E}\uFE0FVideo":
        return new VideoFile(path, parentPath);
    }
  }
  async LoadFiles(anp) {
    this.files = [];
    const app = anp.app;
    const vault = app.vault;
    const project = anp.project;
    const projectFolder = vault.getFolderByPath(project.pathToProject);
    if (projectFolder === null) {
      throw new Error("Project folder does not exist");
    }
    const folderStack = [];
    const TFindex = 0;
    const GFindex = 1;
    const CFindex = 2;
    const rootPath = new String("/");
    const root = new GEOD3Folder(rootPath, rootPath);
    folderStack.push([projectFolder, root, 0]);
    this.files.push(root);
    let depth = 0;
    while (folderStack[0][CFindex] < projectFolder.children.length) {
      const currFolder = folderStack[depth];
      const currIndex = currFolder[CFindex];
      const currFile = currFolder[TFindex].children[currIndex];
      const relativePath = currFile.path.replace(project.pathToProject, "");
      if (currFile.name !== "RESERVED FOLDER DO NOT RENAME") {
        if (currFile instanceof import_obsidian3.TFolder) {
          const newGEOD3Folder = new GEOD3Folder(relativePath, currFolder[GFindex].path);
          this.files.push(newGEOD3Folder);
          currFolder[GFindex].files.push(newGEOD3Folder);
          folderStack.push([currFile, newGEOD3Folder, 0]);
          depth++;
        } else if (currFile instanceof import_obsidian3.TFile) {
          if (currFile.extension === "md") {
            const data = await vault.cachedRead(currFile);
            const plainObj = JSON.parse(data);
            const newFile = this.AssignObjectFromFileType(plainObj, relativePath.slice(0, -3), currFolder[GFindex].path);
            currFolder[GFindex].files.push(newFile);
            this.files.push(newFile);
          }
          currFolder[CFindex]++;
        }
      } else {
        currFolder[CFindex]++;
      }
      if (folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
        while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
          depth--;
          folderStack.pop();
          if (depth >= 0) {
            folderStack[depth][CFindex]++;
          }
        }
      }
    }
  }
  async Focus(div) {
    div.empty();
    this.mainDiv = div;
    this.mainDiv.className = "geod3-tab-container hbox";
    this.fileDiv = div.createDiv("vbox");
    this.propertiesDiv = div.createDiv("geod3-file-properties vbox");
    this.fileDiv.style.width = "70%";
    this.propertiesDiv.style.width = "30%";
    this.files[0].Open(this.anp);
  }
  UnFocus(div) {
    div.empty();
  }
};
GEOD3FileManager.icon = "\u{1F4C1}";
GEOD3FileManager.KNOWN_FILE_TYPES = [
  "\u{1F4C1}Folder",
  "\u{1F5BC}\uFE0FImage",
  "\u{1F50A}Sound",
  "\u{1F39E}\uFE0FVideo"
];

// colors.ts
var BG_COLOR_2 = "rgb(18, 18, 24)";
var BG_COLOR_3 = "rgb(5, 5, 8)";
var ACCENT_COLOR_1 = "rgb(223, 236, 255)";
var ACCENT_COLOR_2 = "rgb(160, 169, 184)";
var ACCENT_COLOR_3 = "rgb(100, 109, 123)";
var CENTRAL_COLOR_1 = "rgb(111, 46, 169)";
var CENTRAL_COLOR_2 = "rgb(78, 17, 131)";
var CENTRAL_COLOR_3 = "rgb(29, 0, 54)";

// classes/structs/struct.ts
var AS = /* @__PURE__ */ ((AS2) => {
  AS2[AS2["none"] = 0] = "none";
  AS2[AS2["boolean"] = 1] = "boolean";
  AS2[AS2["number"] = 2] = "number";
  AS2[AS2["string"] = 3] = "string";
  return AS2;
})(AS || {});
var ASHandler = class {
  static Copy(obj) {
    let newObj;
    switch (obj.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        newObj = new ABooleanI(obj.scope, obj.name);
        break;
      case 2 /* number */:
        newObj = new ANumberI(obj.scope, obj.name);
        break;
      case 3 /* string */:
        newObj = new AStringI(obj.scope, obj.name);
        break;
    }
    newObj.value = obj.value;
    return newObj;
  }
  static CreateI(type, scope, name) {
    switch (type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanI(scope, name);
      case 2 /* number */:
        return new ANumberI(scope, name);
      case 3 /* string */:
        return new AStringI(scope, name);
    }
  }
  static CreateII(struct, inspectorDiv, color = void 0) {
    switch (struct.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanII(struct, inspectorDiv, color);
      case 2 /* number */:
        return new ANumberII(struct, inspectorDiv, color);
      case 3 /* string */:
        return new AStringII(struct, inspectorDiv, color);
    }
  }
};
var ASI = class {
  constructor(scope, name = "") {
    this.name = name;
    this.scope = scope;
  }
};
var ASII = class {
  static AdjustInputWidth(input, div) {
    const tempEl = div.createEl("div", { text: input.value });
    tempEl.style.position = "absolute";
    tempEl.style.visibility = "hidden";
    tempEl.style.whiteSpace = "nowrap";
    tempEl.style.font = "inherit";
    tempEl.style.padding = input instanceof HTMLInputElement ? "1vh" : "2vh";
    input.style.width = tempEl.getBoundingClientRect().width + "px";
    tempEl.remove();
  }
};
var ABooleanI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 1 /* boolean */;
    this.value = false;
  }
};
var ABooleanII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "checkbox" });
    input.checked = this.instance.value;
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.onclick = () => {
      this.instance.value = input.checked;
      input.style.backgroundColor = input.checked ? CENTRAL_COLOR_1 : CENTRAL_COLOR_3;
    };
  }
};
var ANumberI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 2 /* number */;
    this.value = 0;
  }
};
var ANumberII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    ASII.AdjustInputWidth(input, div);
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.oninput = () => {
      ASII.AdjustInputWidth(input, div);
    };
    input.onchange = () => {
      this.instance.value = parseFloat(input.value);
    };
  }
};
var AStringI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 3 /* string */;
    this.value = "";
  }
};
var AStringII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    ASII.AdjustInputWidth(input, div);
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.oninput = () => {
      ASII.AdjustInputWidth(input, div);
    };
    input.onchange = () => {
      this.instance.value = input.value;
    };
  }
};

// classes/tabs/geod3-object.ts
var GEOD3ObjectHandler = class {
  static GetVariable(obj, name) {
    for (let i = 0; i < obj.variables.length; i++) {
      if (obj.variables[i].name === name) {
        return obj.variables[i];
      }
    }
    throw new Error("Variable " + name + " not found on object " + obj.idInScene + ": " + obj.name);
  }
  static CreateII(obj, anp, inspectorDiv) {
    return new GEOD3ObjectII(obj, anp, inspectorDiv);
  }
  static CreateRI(obj, anp, objDiv) {
    return new GEOD3ObjectRI(obj, anp, objDiv);
  }
};
var GEOD3Object = class {
  constructor(id) {
    this.idInScene = id;
    this.name = "object";
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    this.variables.push(ASHandler.CreateI(3 /* string */, 1 /* Public */, "Sprite Path"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "z"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed z"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration z"));
    this.variables.push(ASHandler.CreateI(1 /* boolean */, 1 /* Public */, "Do Rectangular Hitbox"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Radius/Half Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Half Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Half Thickness"));
    this.variables[1].value = 100;
    this.variables[2].value = 100;
  }
};
var GEOD3ObjectII = class {
  constructor(instance, anp, div) {
    this.instance = instance;
    this.anp = anp;
    div.empty();
    const nameDiv = div.createDiv("geod3-inspector-top-bar hbox");
    nameDiv.createEl("div", { text: this.instance.idInScene + ":" });
    const nameInput = nameDiv.createEl("input", { type: "text", value: this.instance.name });
    const editScriptsButton = nameDiv.createEl("button", { text: "Edit Scripts\u{1F4DC}" });
    editScriptsButton.className = "geod3-secondary-button";
    nameInput.onchange = () => {
      this.instance.name = nameInput.value;
    };
    editScriptsButton.onclick = () => {
      anp.project.scriptEditor.currentObject = this.instance;
      anp.project.SwitchToTab(anp.project.scriptEditorTabID);
    };
    const variablesDiv = div.createDiv("geod3-inspector-variable-list vbox");
    for (let i = 0; i < this.instance.variables.length; i++) {
      const asI = this.instance.variables[i];
      const varDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      varDiv.createEl("div", { text: asI.name });
      ASHandler.CreateII(asI, varDiv.createDiv());
    }
    const addNewDiv = div.createDiv("geod3-inspector-new-var hbox");
    const variableNameInput = addNewDiv.createEl("input", { type: "text", value: "unnamed" });
    const variableTypeInput = addNewDiv.createEl("select");
    const addVariableButton = addNewDiv.createEl("button", { text: "+" });
    addVariableButton.className = "geod3-add-button";
    for (let i = 1; i < 4; i++) {
      const type = AS[i];
      variableTypeInput.createEl("option", { text: type, value: i + "" });
    }
    variableTypeInput.value = "1";
    addVariableButton.onclick = () => {
      const name = variableNameInput.value;
      for (let i = 0; i < this.instance.variables.length; i++) {
        if (this.instance.variables[i].name === name) {
          return;
        }
      }
      const newVar = ASHandler.CreateI(parseInt(variableTypeInput.value), 1 /* Public */, name);
      this.instance.variables.push(newVar);
      const newVarDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      newVarDiv.createEl("div", { text: newVar.name });
      ASHandler.CreateII(newVar, newVarDiv);
    };
  }
};
var GEOD3ObjectRI = class {
  constructor(obj, anp, objDiv) {
    this.idInScene = obj.idInScene;
    this.name = obj.name;
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    for (let i = 0; i < obj.variables.length; i++) {
      this.variables.push(ASHandler.Copy(obj.variables[i]));
    }
    for (let i = 0; i < obj.onStart.length; i++) {
      this.onStart.push(AFHandler.CreateRI(obj.onStart[i], anp));
    }
    for (let i = 0; i < obj.onNewFrame.length; i++) {
      this.onNewFrame.push(AFHandler.CreateRI(obj.onNewFrame[i], anp));
    }
    this.objDiv = objDiv;
    this.anp = anp;
    this.prevSpritePath = "";
    this.SetObjDivCSSProperties();
  }
  SetObjDivCSSProperties() {
    this.objDiv.style.transform = "translate(-50%, 50%)";
    this.objDiv.style.position = "absolute";
  }
  RefreshSprite() {
    const spritePath = GEOD3ObjectHandler.GetVariable(this, "Sprite Path").value;
    if (this.prevSpritePath !== spritePath) {
      try {
        const mediaFile = this.anp.project.fileManager.GetFileByPrimitivePath(spritePath);
        const spriteSrc = mediaFile.data;
        let mediaEl;
        this.objDiv.empty();
        if (mediaFile instanceof ImageFile) {
          mediaEl = this.objDiv.createEl("img");
        } else {
          mediaEl = this.objDiv.createEl("video");
          mediaEl.controls = false;
          mediaEl.loop = true;
        }
        mediaEl.src = spriteSrc;
        mediaEl.style.width = "100%";
        mediaEl.style.height = "100%";
        this.prevSpritePath = spritePath;
      } catch (e) {
        console.log("failed to find image/video path");
      }
    }
  }
  SetLocationAndWidth() {
    const width = GEOD3ObjectHandler.GetVariable(this, "Sprite Width");
    const height = GEOD3ObjectHandler.GetVariable(this, "Sprite Height");
    const x = GEOD3ObjectHandler.GetVariable(this, "x");
    const y = GEOD3ObjectHandler.GetVariable(this, "y");
    const z = GEOD3ObjectHandler.GetVariable(this, "z");
    const xVel = GEOD3ObjectHandler.GetVariable(this, "Speed x");
    const yVel = GEOD3ObjectHandler.GetVariable(this, "Speed y");
    const zVel = GEOD3ObjectHandler.GetVariable(this, "Speed z");
    const xAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration x");
    const yAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration y");
    const zAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration z");
    this.objDiv.style.width = width.value + "px";
    this.objDiv.style.height = height.value + "px";
    xVel.value += xAccel.value;
    yVel.value += yAccel.value;
    zVel.value += zAccel.value;
    x.value += xVel.value;
    y.value += yVel.value;
    z.value += zVel.value;
    this.objDiv.style.left = x.value + "px";
    this.objDiv.style.bottom = y.value + "px";
  }
  Render() {
    this.RefreshSprite();
    this.SetLocationAndWidth();
  }
  OnStart() {
    for (let i = 0; i < this.onStart.length; i++) {
      this.onStart[i].Execute();
    }
  }
  OnNewFrame() {
    for (let i = 0; i < this.onNewFrame.length; i++) {
      this.onNewFrame[i].Execute();
    }
  }
};

// classes/functions/function.ts
var AFHandler = class {
  static Copy(obj) {
    const newParams = [];
    for (let i = 0; i < obj.parameters.length; i++) {
      const currParam = obj.parameters[i];
      if (currParam instanceof AFI2) {
        newParams.push(this.Copy(currParam));
      } else {
        newParams.push(ASHandler.Copy(currParam));
      }
    }
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(newParams);
      case 2 /* get */:
        return new AGetI(newParams);
      case 3 /* set */:
        return new ASetI(newParams);
      case 4 /* if */:
        return new AIfI(newParams);
      case 5 /* ifelse */:
        return new AIfElseI(newParams);
      case 6 /* compare */:
        return new ACompareI(newParams);
      case 7 /* keydown */:
        return new AKeydownI(newParams);
      case 8 /* add */:
        return new AAddI(newParams);
    }
  }
  static CreateI(type, parameters) {
    switch (type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(parameters);
      case 2 /* get */:
        return new AGetI(parameters);
      case 3 /* set */:
        return new ASetI(parameters);
      case 4 /* if */:
        return new AIfI(parameters);
      case 5 /* ifelse */:
        return new AIfElseI(parameters);
      case 6 /* compare */:
        return new ACompareI(parameters);
      case 7 /* keydown */:
        return new AKeydownI(parameters);
      case 8 /* add */:
        return new AAddI(parameters);
    }
  }
  static CreateEI(obj, blockDiv, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingEI(obj, blockDiv, anp);
      case 1 /* chain */:
        return new AChainEI(obj, blockDiv, anp);
      case 2 /* get */:
        return new AGetEI(obj, blockDiv, anp);
      case 3 /* set */:
        return new ASetEI(obj, blockDiv, anp);
      case 4 /* if */:
        return new AIfEI(obj, blockDiv, anp);
      case 5 /* ifelse */:
        return new AIfElseEI(obj, blockDiv, anp);
      case 6 /* compare */:
        return new ACompareEI(obj, blockDiv, anp);
      case 7 /* keydown */:
        return new AKeydownEI(obj, blockDiv, anp);
      case 8 /* add */:
        return new AAddEI(obj, blockDiv, anp);
    }
  }
  static CreateRI(obj, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingRI(obj, anp);
      case 1 /* chain */:
        return new AChainRI(obj, anp);
      case 2 /* get */:
        return new AGetRI(obj, anp);
      case 3 /* set */:
        return new ASetRI(obj, anp);
      case 4 /* if */:
        return new AIfRI(obj, anp);
      case 5 /* ifelse */:
        return new AIfElseRI(obj, anp);
      case 6 /* compare */:
        return new ACompareRI(obj, anp);
      case 7 /* keydown */:
        return new AKeydownRI(obj, anp);
      case 8 /* add */:
        return new AAddRI(obj, anp);
    }
  }
};
var AFI2 = class {
  constructor() {
    this.defaultParameters = [];
    this.parameters = [];
  }
};
var AFEI = class {
  constructor(instance, blockDiv, anp) {
    this.instance = instance;
    this.div = blockDiv;
    this.anp = anp;
    this.DisplayBlock();
  }
  static AdjustInputWidth(input, div) {
    const tempEl = div.createEl("div", { text: input.value });
    tempEl.style.position = "absolute";
    tempEl.style.visibility = "hidden";
    tempEl.style.whiteSpace = "nowrap";
    tempEl.style.font = "inherit";
    tempEl.style.padding = "1vh";
    input.style.width = tempEl.getBoundingClientRect().width + "px";
    tempEl.remove();
  }
  CreateASIOrAFIParameterDiv(index, paramDiv, backgroundColor) {
    const param = this.instance.parameters[index];
    if (param instanceof ASI) {
      return this.CreateASIParameterDiv(index, paramDiv, backgroundColor);
    } else {
      return this.CreateAFIParameterDiv(index, paramDiv, backgroundColor);
    }
  }
  CreateASIParameterDiv(index, paramDiv, backgroundColor) {
    AFEI.SetParameterDiv(this.anp, this, paramDiv, index);
    const param = this.instance.parameters[index];
    ASHandler.CreateII(param, paramDiv, backgroundColor);
  }
  CreateAFIParameterDiv(index, paramDiv, backgroundColor) {
    AFEI.SetParameterDiv(this.anp, this, paramDiv, index);
    const param = this.instance.parameters[index];
    const paramEI = AFHandler.CreateEI(param, paramDiv, this.anp);
    paramEI.parentEI = this;
    if (paramEI.instance.type === 0 /* none */) {
      paramEI.div.style.backgroundColor = backgroundColor;
    } else {
      AFEI.MakeBlockDraggable(paramEI, this.anp, false);
    }
    return paramEI;
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        const currDefaultParam = this.instance.defaultParameters[i];
        this.instance.parameters[i] = currDefaultParam instanceof ASI ? ASHandler.Copy(currDefaultParam) : AFHandler.Copy(currDefaultParam);
      }
    }
  }
  static MakeBlockDraggable(block, anp, isCopy) {
    const scriptEditor = anp.project.scriptEditor;
    block.div.draggable = true;
    block.div.addEventListener("dragstart", (event) => {
      event.stopPropagation();
      if (event.dataTransfer !== null) {
        event.dataTransfer.effectAllowed = "copy";
      }
      scriptEditor.currentlyDraggedBlockIsCopy = isCopy;
      scriptEditor.currentlyDraggedBlock = block;
      scriptEditor.blocksDiv.style.height = "90%";
      scriptEditor.delDiv.style.height = "10%";
    });
    block.div.addEventListener("dragend", (event) => {
      event.stopPropagation();
      event.preventDefault();
      scriptEditor.blocksDiv.style.height = "100%";
      scriptEditor.delDiv.style.height = "0%";
    });
  }
  static SetParameterDiv(anp, afei, paramDiv, paramIndex) {
    const scriptEditor = anp.project.scriptEditor;
    paramDiv.addEventListener("dragover", (event) => {
      event.stopPropagation();
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      paramDiv.style.borderStyle = "solid";
      paramDiv.style.borderColor = ACCENT_COLOR_1;
    });
    paramDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      paramDiv.style.borderStyle = "";
    });
    paramDiv.addEventListener("drop", (event) => {
      event.stopPropagation();
      if (scriptEditor.currentlyDraggedBlock === void 0) {
        return;
      }
      const shouldCopy = scriptEditor.currentlyDraggedBlockIsCopy;
      const droppedBlock = scriptEditor.currentlyDraggedBlock;
      const newInstance = shouldCopy ? AFHandler.Copy(droppedBlock.instance) : droppedBlock.instance;
      afei.instance.parameters[paramIndex] = newInstance;
      if (!(droppedBlock.parentEI === void 0 || shouldCopy)) {
        const parentEI = droppedBlock.parentEI;
        parentEI.RemoveParameter(droppedBlock.instance);
        parentEI.DisplayBlock();
      }
      afei.DisplayBlock();
      event.preventDefault();
      scriptEditor.currentlyDraggedBlock = void 0;
    });
  }
};
var AFRI2 = class {
  constructor(ogFunction, anp) {
    this.type = ogFunction.type;
    this.parameters = [];
    this.anp = anp;
    for (let i = 0; i < ogFunction.parameters.length; i++) {
      const ogParam = ogFunction.parameters[i];
      let copy;
      if (ogParam instanceof ASI) {
        copy = ASHandler.Copy(ogParam);
      } else {
        copy = AFHandler.CreateRI(ogParam, anp);
      }
      this.parameters.push(copy);
    }
  }
};
var ADoNothingI = class extends AFI2 {
  constructor() {
    super(...arguments);
    this.type = 0 /* none */;
  }
};
var ADoNothingEI = class extends AFEI {
  DisplayBlock() {
    this.div.className = "geod3-script-block";
    this.div.style.backgroundColor = BG_COLOR_3;
  }
  RemoveParameter(parameter) {
  }
};
var ADoNothingRI = class extends AFRI2 {
  async Execute() {
  }
};
var AChainI = class extends AFI2 {
  constructor(parameters = void 0) {
    super();
    this.type = 1 /* chain */;
    const doNothing = new ADoNothingI();
    this.defaultParameters.push(doNothing);
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AChainEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = BG_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    div.style.width = "fit-content";
    div.style.padding = "1vh";
    div.style.gap = "1vh";
    for (let i = 0; i < this.instance.parameters.length; i++) {
      const index = i;
      const currBlockDiv = div.createDiv("geod3-script-block-inner-section hbox");
      const deleteButton = currBlockDiv.createEl("button", { text: "-" });
      const addButton2 = currBlockDiv.createEl("button", { text: "+" });
      deleteButton.className = "geod3-remove-button";
      addButton2.className = "geod3-add-button";
      deleteButton.onclick = () => {
        this.instance.parameters.splice(index, 1);
        this.DisplayBlock();
      };
      addButton2.onclick = () => {
        this.instance.parameters.splice(index, 0, new ADoNothingI());
        this.DisplayBlock();
      };
      this.CreateAFIParameterDiv(index, currBlockDiv.createDiv(), BG_COLOR_3);
    }
    const addButton = div.createEl("button", { text: "+" });
    addButton.className = "geod3-add-button";
    addButton.onclick = () => {
      this.instance.parameters.splice(this.instance.parameters.length, 0, new ADoNothingI());
      this.DisplayBlock();
    };
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        this.instance.parameters[i] = AFHandler.Copy(this.instance.defaultParameters[0]);
      }
    }
  }
};
var AChainRI = class extends AFRI2 {
  async Execute() {
    for (let i = 0; i < this.parameters.length; i++) {
      await this.parameters[i].Execute();
    }
  }
};
var AGetI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 2 /* get */;
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    const varName = new AStringI(0 /* Value */, "Variable Name");
    objIndex.value = 0;
    varName.value = "Sprite Path";
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
    }
  }
};
var AGetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Get" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = CENTRAL_COLOR_3;
    varNameInput.style.backgroundColor = CENTRAL_COLOR_3;
    objIDInput.style.paddingRight = "0";
    varNameInput.style.paddingRight = "0";
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      AFEI.AdjustInputWidth(objIDInput, div);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      AFEI.AdjustInputWidth(varNameInput, div);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    AFEI.AdjustInputWidth(objIDInput, div);
    AFEI.AdjustInputWidth(varNameInput, div);
  }
};
var AGetRI = class extends AFRI2 {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    return GEOD3ObjectHandler.GetVariable(obj, varName.value);
  }
};
var ASetI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 3 /* set */;
    const varName = new AStringI(0 /* Value */, "Variable Name");
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    varName.value = "Sprite Path";
    objIndex.value = 0;
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
      this.parameters.push(ASHandler.CreateI(2 /* number */, 0 /* Value */, ""));
    }
  }
};
var ASetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Set" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    div.createEl("div", { text: "to" });
    const valueDiv = div.createDiv();
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = CENTRAL_COLOR_3;
    varNameInput.style.backgroundColor = CENTRAL_COLOR_3;
    objIDInput.style.paddingRight = "0";
    varNameInput.style.paddingRight = "0";
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
      valueDiv.empty();
      if (this.instance.parameters[2] instanceof AFI2) {
        this.CreateAFIParameterDiv(2, valueDiv, CENTRAL_COLOR_3);
      } else {
        this.CreateASIParameterDiv(2, valueDiv, CENTRAL_COLOR_3);
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      AFEI.AdjustInputWidth(objIDInput, div);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      AFEI.AdjustInputWidth(varNameInput, div);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    AFEI.AdjustInputWidth(objIDInput, div);
    AFEI.AdjustInputWidth(varNameInput, div);
    console.log("displayed set");
  }
  RemoveParameter(parameter) {
    if (this.instance.parameters[2] === parameter) {
      const defaultParam = ASHandler.CreateI(this.instance.parameters[0].type, 0 /* Value */, "");
      this.instance.parameters[2] = defaultParam;
    }
  }
};
var ASetRI = class extends AFRI2 {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const val = this.parameters[2];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    const varToSet = GEOD3ObjectHandler.GetVariable(obj, varName.value);
    varToSet.value = val instanceof AFRI2 ? (await val.Execute()).value : val.value;
  }
};
var AIfI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 4 /* if */;
    const condition = new ABooleanI(0 /* Value */, "condition");
    const doNothing = new ADoNothingI();
    condition.value = false;
    this.defaultParameters = [condition, doNothing];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(condition));
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AIfEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = ACCENT_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const topDiv = div.createDiv("geod3-script-block-inner-section hbox");
    topDiv.createEl("div", { text: "If" });
    const conditionDiv = topDiv.createDiv();
    const functionDiv = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, conditionDiv, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(1, functionDiv, ACCENT_COLOR_3);
  }
};
var AIfRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param1IsAFRI = param1 instanceof AFRI2;
    const condition = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    if (condition) {
      const param2 = this.parameters[1];
      await param2.Execute();
    }
  }
};
var AIfElseI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 5 /* ifelse */;
    const condition = new ABooleanI(0 /* Value */, "condition");
    const doNothing = new ADoNothingI();
    const doNothing2 = new ADoNothingI();
    condition.value = false;
    this.defaultParameters = [condition, doNothing, doNothing2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(condition));
      this.parameters.push(AFHandler.Copy(doNothing));
      this.parameters.push(AFHandler.Copy(doNothing2));
    }
  }
};
var AIfElseEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = ACCENT_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const topDiv = div.createDiv("geod3-script-block-inner-section hbox");
    topDiv.createEl("div", { text: "If" });
    const conditionDiv = topDiv.createDiv();
    const function1Div = div.createDiv();
    div.createEl("div", { text: "Else" });
    const function2Div = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, conditionDiv, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(1, function1Div, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(2, function2Div, ACCENT_COLOR_3);
  }
};
var AIfElseRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param1IsAFRI = param1 instanceof AFRI2;
    const condition = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    if (condition) {
      const param2 = this.parameters[1];
      await param2.Execute();
    } else {
      const param3 = this.parameters[2];
      await param3.Execute();
    }
  }
};
var ACompareI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 6 /* compare */;
    const val1 = new ANumberI(0 /* Value */, "val1");
    const type = new AStringI(0 /* Value */, "comparison type");
    const val2 = new ANumberI(0 /* Value */, "val2");
    val1.value = 0;
    type.value = "=";
    val2.value = 0;
    this.defaultParameters = [val1, type, val2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(val1));
      this.parameters.push(ASHandler.Copy(type));
      this.parameters.push(ASHandler.Copy(val2));
    }
  }
};
var ACompareEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const val1Div = div.createDiv();
    const typeSelect = div.createEl("select");
    const val2Div = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, val1Div, CENTRAL_COLOR_3);
    this.CreateASIOrAFIParameterDiv(2, val2Div, CENTRAL_COLOR_3);
    typeSelect.createEl("option", { text: "=", value: "=" });
    typeSelect.createEl("option", { text: "!=", value: "!=" });
    typeSelect.createEl("option", { text: "<", value: "<" });
    typeSelect.createEl("option", { text: ">", value: ">" });
    typeSelect.createEl("option", { text: "<=", value: "<=" });
    typeSelect.createEl("option", { text: ">=", value: ">=" });
    typeSelect.value = this.instance.parameters[1].value;
    AFEI.AdjustInputWidth(typeSelect, div);
    typeSelect.onchange = () => {
      this.instance.parameters[1].value = typeSelect.value;
      AFEI.AdjustInputWidth(typeSelect, div);
    };
    typeSelect.style.backgroundColor = CENTRAL_COLOR_3;
    typeSelect.style.paddingRight = "0";
  }
};
var ACompareRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param3 = this.parameters[2];
    const param1IsAFRI = param1 instanceof AFRI2;
    const param3IsAFRI = param3 instanceof AFRI2;
    const val1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const val2 = param3IsAFRI ? (await param3.Execute()).value : param3.value;
    const output = new ABooleanI(0 /* Value */, "output");
    switch (param2.value) {
      case "=":
      default:
        output.value = val1 === val2;
        break;
      case "!=":
        output.value = val1 !== val2;
        break;
      case "<":
        output.value = val1 < val2;
        break;
      case ">":
        output.value = val1 > val2;
        break;
      case "<=":
        output.value = val1 <= val2;
        break;
      case ">=":
        output.value = val1 >= val2;
        break;
    }
    return output;
  }
};
var AKeydownI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 7 /* keydown */;
    const key = new AStringI(0 /* Value */, "key");
    key.value = "Any";
    this.defaultParameters = [key];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(key));
    }
  }
};
AKeydownI.keylist = [
  "Any",
  "Space",
  "Up Arrow",
  "Down Arrow",
  "Left Arrow",
  "Right Arrow",
  "A",
  "B",
  "C",
  "D",
  "E",
  "F",
  "G",
  "H",
  "I",
  "J",
  "K",
  "L",
  "M",
  "N",
  "O",
  "P",
  "Q",
  "R",
  "S",
  "T",
  "U",
  "V",
  "W",
  "X",
  "Y",
  "Z"
];
var AKeydownEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const keySelect = div.createEl("select");
    div.createEl("div", { text: "Key Down?" });
    for (let i = 0; i < AKeydownI.keylist.length; i++) {
      const currKey = AKeydownI.keylist[i];
      keySelect.createEl("option", { text: currKey, value: currKey });
    }
    keySelect.value = this.instance.parameters[0].value;
    AFEI.AdjustInputWidth(keySelect, div);
    keySelect.onchange = () => {
      this.instance.parameters[0].value = keySelect.value;
      AFEI.AdjustInputWidth(keySelect, div);
    };
    keySelect.style.backgroundColor = CENTRAL_COLOR_3;
    keySelect.style.paddingRight = "0";
  }
};
var AKeydownRI = class extends AFRI2 {
  async Execute() {
    const key = this.parameters[0];
    const output = new ABooleanI(0 /* Value */, "output");
    const isKeyDown = this.anp.project.gameView.pressedKeys.get(key.value);
    output.value = isKeyDown === void 0 ? false : isKeyDown;
    console.log(isKeyDown);
    return output;
  }
};
var AAddI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 8 /* add */;
    const num1 = new ANumberI(0 /* Value */, "num1");
    const num2 = new ANumberI(0 /* Value */, "num2");
    num1.value = 0;
    num2.value = 0;
    this.defaultParameters = [num1, num2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(num1));
      this.parameters.push(ASHandler.Copy(num2));
    }
  }
};
var AAddEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const num1Div = div.createDiv();
    div.createEl("div", { text: "+" });
    const num2Div = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, num1Div, CENTRAL_COLOR_3);
    this.CreateASIOrAFIParameterDiv(1, num2Div, CENTRAL_COLOR_3);
  }
};
var AAddRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param1IsAFRI = param1 instanceof AFRI2;
    const param2IsAFRI = param2 instanceof AFRI2;
    const num1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const num2 = param2IsAFRI ? (await param2.Execute()).value : param2.value;
    const output = new ANumberI(0 /* Value */, "sum");
    output.value = num1 + num2;
    return output;
  }
};

// classes/tabs/game-view.ts
var GameView = class extends Tab {
  get pressedKeysArray() {
    return Array.from(this.pressedKeys.entries());
  }
  async Focus(div) {
    div.empty();
    div.className = "geod3-game-view-main-div geod3-tab-container";
    const gameWrapper = div.createDiv("geod3-game-wrapper");
    this.gameDiv = gameWrapper.createDiv("geod3-game");
    this.stillRunning = true;
    this.objects = [];
    this.pressedKeys = /* @__PURE__ */ new Map();
    this.ListenForKeyPresses();
    await this.OnStart();
    while (this.stillRunning) {
      this.OnNewFrame();
      await sleep(15);
    }
  }
  UnFocus(div) {
    div.empty();
    this.stillRunning = false;
  }
  ListenForKeyPresses() {
    this.gameDiv.tabIndex = -1;
    this.gameDiv.focus();
    for (let i = 0; i < AKeydownI.keylist.length; i++) {
      const currKey = AKeydownI.keylist[i];
      this.pressedKeys.set(currKey, false);
    }
    this.gameDiv.onkeydown = (event) => {
      console.log(event.key);
      this.pressedKeys.set("Any", true);
      switch (event.key) {
        case " ":
          this.pressedKeys.set("Space", true);
          return;
        case "ArrowUp":
          this.pressedKeys.set("Up Arrow", true);
          return;
        case "ArrowDown":
          this.pressedKeys.set("Down Arrow", true);
          return;
        case "ArrowLeft":
          this.pressedKeys.set("Left Arrow", true);
          return;
        case "ArrowRight":
          this.pressedKeys.set("Right Arrow", true);
          return;
        case "A":
        case "a":
          this.pressedKeys.set("A", true);
          return;
        case "B":
        case "b":
          this.pressedKeys.set("B", true);
          return;
        case "C":
        case "c":
          this.pressedKeys.set("C", true);
          return;
        case "D":
        case "d":
          this.pressedKeys.set("D", true);
          return;
        case "E":
        case "e":
          this.pressedKeys.set("E", true);
          return;
        case "F":
        case "f":
          this.pressedKeys.set("F", true);
          return;
        case "G":
        case "g":
          this.pressedKeys.set("G", true);
          return;
        case "H":
        case "h":
          this.pressedKeys.set("H", true);
          return;
        case "I":
        case "i":
          this.pressedKeys.set("I", true);
          return;
        case "J":
        case "j":
          this.pressedKeys.set("J", true);
          return;
        case "K":
        case "k":
          this.pressedKeys.set("K", true);
          return;
        case "L":
        case "l":
          this.pressedKeys.set("L", true);
          return;
        case "M":
        case "m":
          this.pressedKeys.set("M", true);
          return;
        case "N":
        case "n":
          this.pressedKeys.set("N", true);
          return;
        case "O":
        case "o":
          this.pressedKeys.set("O", true);
          return;
        case "P":
        case "p":
          this.pressedKeys.set("P", true);
          return;
        case "Q":
        case "q":
          this.pressedKeys.set("Q", true);
          return;
        case "R":
        case "r":
          this.pressedKeys.set("R", true);
          return;
        case "S":
        case "s":
          this.pressedKeys.set("S", true);
          return;
        case "T":
        case "t":
          this.pressedKeys.set("T", true);
          return;
        case "U":
        case "u":
          this.pressedKeys.set("U", true);
          return;
        case "V":
        case "v":
          this.pressedKeys.set("V", true);
          return;
        case "W":
        case "w":
          this.pressedKeys.set("W", true);
          return;
        case "X":
        case "x":
          this.pressedKeys.set("X", true);
          return;
        case "Y":
        case "y":
          this.pressedKeys.set("Y", true);
          return;
        case "Z":
        case "z":
          this.pressedKeys.set("Z", true);
          return;
      }
    };
    this.gameDiv.onkeyup = (event) => {
      switch (event.key) {
        case " ":
          this.pressedKeys.set("Space", false);
          break;
        case "ArrowUp":
          this.pressedKeys.set("Up Arrow", false);
          break;
        case "ArrowDown":
          this.pressedKeys.set("Down Arrow", false);
          break;
        case "ArrowLeft":
          this.pressedKeys.set("Left Arrow", false);
          break;
        case "ArrowRight":
          this.pressedKeys.set("Right Arrow", false);
          break;
        case "A":
        case "a":
          this.pressedKeys.set("A", false);
          break;
        case "B":
        case "b":
          this.pressedKeys.set("B", false);
          break;
        case "C":
        case "c":
          this.pressedKeys.set("C", false);
          break;
        case "D":
        case "d":
          this.pressedKeys.set("D", false);
          break;
        case "E":
        case "e":
          this.pressedKeys.set("E", false);
          break;
        case "F":
        case "f":
          this.pressedKeys.set("F", false);
          break;
        case "G":
        case "g":
          this.pressedKeys.set("G", false);
          break;
        case "H":
        case "h":
          this.pressedKeys.set("H", false);
          break;
        case "I":
        case "i":
          this.pressedKeys.set("I", false);
          break;
        case "J":
        case "j":
          this.pressedKeys.set("J", false);
          break;
        case "K":
        case "k":
          this.pressedKeys.set("K", false);
          break;
        case "L":
        case "l":
          this.pressedKeys.set("L", false);
          break;
        case "M":
        case "m":
          this.pressedKeys.set("M", false);
          break;
        case "N":
        case "n":
          this.pressedKeys.set("N", false);
          break;
        case "O":
        case "o":
          this.pressedKeys.set("O", false);
          break;
        case "P":
        case "p":
          this.pressedKeys.set("P", false);
          break;
        case "Q":
        case "q":
          this.pressedKeys.set("Q", false);
          break;
        case "R":
        case "r":
          this.pressedKeys.set("R", false);
          break;
        case "S":
        case "s":
          this.pressedKeys.set("S", false);
          break;
        case "T":
        case "t":
          this.pressedKeys.set("T", false);
          break;
        case "U":
        case "u":
          this.pressedKeys.set("U", false);
          break;
        case "V":
        case "v":
          this.pressedKeys.set("V", false);
          break;
        case "W":
        case "w":
          this.pressedKeys.set("W", false);
          break;
        case "X":
        case "x":
          this.pressedKeys.set("X", false);
          break;
        case "Y":
        case "y":
          this.pressedKeys.set("Y", false);
          break;
        case "Z":
        case "z":
          this.pressedKeys.set("Z", false);
          break;
      }
      const pressedKeysArray = this.pressedKeysArray;
      for (let i = 1; i < pressedKeysArray.length; i++) {
        if (pressedKeysArray[i][1]) {
          return;
        }
      }
      this.pressedKeys.set("Any", false);
    };
  }
  async OnStart() {
    const objInstances = this.anp.project.sceneView.objects;
    for (let i = 0; i < objInstances.length; i++) {
      this.objects.push(GEOD3ObjectHandler.CreateRI(objInstances[i], this.anp, this.gameDiv.createDiv()));
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnStart();
    }
  }
  async OnNewFrame() {
    this.gameDiv.focus();
    const renderingOrder = [];
    for (let i = 0; i < this.objects.length; i++) {
      const currObj = this.objects[i];
      currObj.Render();
      this.PlaceIntoSpriteArray(renderingOrder, currObj);
    }
    for (let i = 0; i < renderingOrder.length; i++) {
      const currSprite = renderingOrder[i];
      currSprite.objDiv.style.zIndex = i + "";
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnNewFrame();
    }
  }
  PlaceIntoSpriteArray(arr, newItem) {
    let low = 0;
    let high = arr.length;
    const newZ = GEOD3ObjectHandler.GetVariable(newItem, "z");
    while (low < high) {
      const mid = Math.floor((low + high) / 2);
      const midZ = GEOD3ObjectHandler.GetVariable(arr[mid], "z");
      if (midZ < newZ) {
        low = mid + 1;
      } else {
        high = mid;
      }
    }
    arr.splice(low, 0, newItem);
  }
};
GameView.icon = "\u25B6\uFE0F";

// classes/tabs/scene-view.ts
var SceneView = class extends Tab {
  constructor(anp) {
    super(anp);
    this.objects = [];
  }
  Focus(div) {
    div.empty();
    div.className = "geod3-tab-container hbox";
    this.hierarchyDiv = div.createDiv("geod3-object-list vbox");
    const sceneScrollWrapper = div.createDiv("geod3-scene-scroll-wrapper");
    const sceneWrapper = sceneScrollWrapper.createDiv("geod3-scene-wrapper");
    this.sceneDiv = sceneWrapper.createDiv("geod3-scene");
    this.inspectorDiv = div.createDiv("geod3-inspector vbox");
    const listDiv = this.hierarchyDiv.createDiv("vbox");
    for (let i = 0; i < this.objects.length; i++) {
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      const currObj = this.objects[i];
      objectDiv.textContent = currObj.idInScene + ": " + currObj.name;
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(currObj, this.anp, this.inspectorDiv);
      };
    }
    const buttonsDiv = this.hierarchyDiv.createDiv("hbox");
    const refreshButton = buttonsDiv.createEl("button", { text: "\u27F3" });
    const addObjButton = buttonsDiv.createEl("button", { text: "+" });
    refreshButton.className = "geod3-secondary-button";
    addObjButton.className = "geod3-add-button";
    refreshButton.style.width = "50%";
    addObjButton.style.width = "50%";
    refreshButton.onclick = () => {
      this.sceneDiv.empty();
      for (let i = 0; i < this.objects.length; i++) {
        const currObj = GEOD3ObjectHandler.CreateRI(this.objects[i], this.anp, this.sceneDiv.createDiv());
        currObj.Render();
      }
    };
    addObjButton.onclick = () => {
      const index = this.objects.length;
      const newObj = new GEOD3Object(index);
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      objectDiv.createEl("div", { text: newObj.idInScene + ": " + newObj.name });
      this.objects.push(newObj);
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(newObj, this.anp, this.inspectorDiv);
      };
    };
  }
  UnFocus(div) {
    div.empty();
  }
};
SceneView.icon = "\u{1F310}";

// classes/tabs/script-editor.ts
var ScriptEditor = class extends Tab {
  async Focus(div) {
    div.empty();
    const objs = this.anp.project.sceneView.objects;
    if (this.currentObject === void 0) {
      if (objs.length > 0) {
        this.currentObject = objs[0];
      } else {
        div.createEl("h1", { text: "Create Objects in the Scene View first!" });
        return;
      }
    }
    div.className = "geod3-tab-container hbox";
    const leftSide = div.createDiv("geod3-script-wrapper vbox");
    const topDiv = leftSide.createDiv("geod3-script-navigator hbox");
    const objIDInput = topDiv.createEl("select");
    const clusterTypeInput = topDiv.createEl("select");
    const clusterNumberInput = topDiv.createEl("input", { type: "number", value: "0" });
    for (let i = 0; i < objs.length; i++) {
      const currObj = objs[i];
      objIDInput.createEl("option", { text: currObj.idInScene + ": " + currObj.name, value: i + "" });
    }
    objIDInput.value = this.currentObject.idInScene + "";
    clusterTypeInput.createEl("option", { text: "On Start", value: "On Start" });
    clusterTypeInput.createEl("option", { text: "On New Frame", value: "On New Frame" });
    clusterTypeInput.value = "On Start";
    clusterNumberInput.min = "0";
    this.scriptDiv = leftSide.createDiv("geod3-script");
    const blockPool = div.createDiv("geod3-block-pool");
    this.blocksDiv = blockPool.createDiv("geod3-blocks-list vbox");
    this.delDiv = blockPool.createDiv("geod3-block-delete-div");
    const LoadScript = () => {
      this.scriptDiv.empty();
      const obj = this.currentObject;
      const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
      const index = parseInt(clusterNumberInput.value);
      if (index >= scriptType.length) {
        scriptType.push(new AChainI([new ADoNothingI()]));
        clusterNumberInput.max = scriptType.length + "";
      }
      AFHandler.CreateEI(scriptType[index], this.scriptDiv.createDiv(), this.anp);
    };
    this.CreateBlockPool();
    LoadScript();
    objIDInput.onchange = () => {
      this.currentObject = objs[parseInt(objIDInput.value)];
      const obj = this.currentObject;
      const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
      clusterNumberInput.value = "0";
      clusterNumberInput.max = scriptType.length + "";
      LoadScript();
    };
    clusterTypeInput.onchange = () => {
      const obj = this.currentObject;
      const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
      clusterNumberInput.value = "0";
      clusterNumberInput.max = scriptType.length + "";
      LoadScript();
    };
    clusterNumberInput.onchange = () => {
      LoadScript();
    };
  }
  CreateBlockPool() {
    this.blocksDiv.empty();
    this.delDiv.addEventListener("dragover", (event) => {
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      this.delDiv.className = "geod3-block-delete-div-hover";
    });
    this.delDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      this.delDiv.className = "geod3-block-delete-div";
    });
    this.delDiv.addEventListener("drop", (event) => {
      if (!(this.currentlyDraggedBlock === void 0 || this.currentlyDraggedBlockIsCopy)) {
        this.currentlyDraggedBlock.div.remove();
        const parentEI = this.currentlyDraggedBlock.parentEI;
        if (parentEI !== void 0) {
          parentEI.RemoveParameter(this.currentlyDraggedBlock.instance);
          parentEI.DisplayBlock();
        }
      }
    });
    const chainI = AFHandler.CreateI(1 /* chain */, void 0);
    const getI = AFHandler.CreateI(2 /* get */, void 0);
    const setI = AFHandler.CreateI(3 /* set */, void 0);
    const ifI = AFHandler.CreateI(4 /* if */, void 0);
    const ifElseI = AFHandler.CreateI(5 /* ifelse */, void 0);
    const compareI = AFHandler.CreateI(6 /* compare */, void 0);
    const keydownI = AFHandler.CreateI(7 /* keydown */, void 0);
    const addI = AFHandler.CreateI(8 /* add */, void 0);
    const chainBlock = AFHandler.CreateEI(chainI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const getBlock = AFHandler.CreateEI(getI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const setBlock = AFHandler.CreateEI(setI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const ifBlock = AFHandler.CreateEI(ifI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const ifElseBlock = AFHandler.CreateEI(ifElseI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const compareBlock = AFHandler.CreateEI(compareI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const keydownBlock = AFHandler.CreateEI(keydownI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const addBlock = AFHandler.CreateEI(addI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    AFEI.MakeBlockDraggable(chainBlock, this.anp, true);
    AFEI.MakeBlockDraggable(getBlock, this.anp, true);
    AFEI.MakeBlockDraggable(setBlock, this.anp, true);
    AFEI.MakeBlockDraggable(ifBlock, this.anp, true);
    AFEI.MakeBlockDraggable(ifElseBlock, this.anp, true);
    AFEI.MakeBlockDraggable(compareBlock, this.anp, true);
    AFEI.MakeBlockDraggable(keydownBlock, this.anp, true);
    AFEI.MakeBlockDraggable(addBlock, this.anp, true);
  }
  UnFocus(div) {
    div.empty();
  }
};
ScriptEditor.icon = "\u{1F4DC}";

// classes/project.ts
var Project = class {
  get fileManager() {
    return this.tabs[0];
  }
  get sceneView() {
    return this.tabs[1];
  }
  get scriptEditor() {
    return this.tabs[2];
  }
  get gameView() {
    return this.tabs[3];
  }
  get fileManagerTabID() {
    return 0;
  }
  get sceneViewTabID() {
    return 1;
  }
  get scriptEditorTabID() {
    return 2;
  }
  get gameViewTabID() {
    return 3;
  }
  constructor(app) {
    this.anp = new AppAndProject(app, this);
    this.tabs = [];
    this.tabs.push(new GEOD3FileManager(this.anp));
    this.tabs.push(new SceneView(this.anp));
    this.tabs.push(new ScriptEditor(this.anp));
    this.tabs.push(new GameView(this.anp));
    this.activeTabID = 0;
  }
  async Load() {
    await this.LoadFiles();
    await this.GrabFileDependencies();
    await this.LoadObjects();
  }
  async LoadFiles() {
    await this.fileManager.LoadFiles(this.anp);
  }
  async GrabFileDependencies() {
    const fm = this.fileManager;
    for (let i = 0; i < fm.files.length; i++) {
      await fm.files[i].GrabDependencies(this.anp);
    }
  }
  async LoadObjects() {
    const sv = this.sceneView;
    const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
    const tFile = this.anp.app.vault.getFileByPath(path);
    if (tFile === null) {
      return;
    }
    const data = await this.anp.app.vault.cachedRead(tFile);
    const plainObj = JSON.parse(data);
    sv.objects = plainObj.objects;
    const loadFunction = (plainFunct) => {
      const newFunct = Object.assign(AFHandler.CreateI(plainFunct.type, plainFunct.parameters), plainFunct);
      for (let i = 0; i < newFunct.defaultParameters.length; i++) {
        const isStruct = plainFunct.defaultParameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.defaultParameters[i];
          newFunct.defaultParameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.defaultParameters[i] = loadFunction(plainFunct.defaultParameters[i]);
        }
      }
      for (let i = 0; i < newFunct.parameters.length; i++) {
        const isStruct = plainFunct.parameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.parameters[i];
          newFunct.parameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.parameters[i] = loadFunction(plainFunct.parameters[i]);
        }
      }
      return newFunct;
    };
    for (let i = 0; i < plainObj.objects.length; i++) {
      const newObj = Object.assign(new GEOD3Object(i), plainObj.objects[i]);
      sv.objects[i] = newObj;
      for (let j = 0; j < newObj.variables.length; j++) {
        const plainVar = sv.objects[i].variables[j];
        const newVar = Object.assign(ASHandler.CreateI(plainVar.type, plainVar.scope, plainVar.name), plainVar);
        sv.objects[i].variables[j] = newVar;
      }
      for (let j = 0; j < newObj.onStart.length; j++) {
        const plainFunct = sv.objects[i].onStart[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onStart[j] = newFunct;
      }
      for (let j = 0; j < newObj.onNewFrame.length; j++) {
        const plainFunct = sv.objects[i].onNewFrame[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onNewFrame[j] = newFunct;
      }
    }
  }
  async Display(div) {
    div.empty();
    const tabBar = div.createDiv("geod3-tab-bar hbox");
    const tabContainer = div.createDiv("geod3-tab-container");
    const tabIcons = [];
    const filesTab = tabBar.createEl("button", { text: GEOD3FileManager.icon });
    const sceneViewTab = tabBar.createEl("button", { text: SceneView.icon });
    const scriptEditorTab = tabBar.createEl("button", { text: ScriptEditor.icon });
    const gameTab = tabBar.createEl("button", { text: GameView.icon });
    const saveButton = tabBar.createEl("button", { text: "\u{1F4BE}Save" });
    saveButton.className = "geod3-secondary-button";
    saveButton.onclick = async () => {
      saveButton.disabled = true;
      saveButton.textContent = "\u27F3Saving...";
      const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
      const data = JSON.stringify(new SceneDTO(this.anp.project.sceneView.objects));
      await this.anp.app.vault.adapter.write(path, data);
      saveButton.disabled = false;
      saveButton.textContent = "\u{1F4BE}Save";
    };
    filesTab.className = "geod3-tab-icon";
    sceneViewTab.className = "geod3-tab-icon";
    scriptEditorTab.className = "geod3-tab-icon";
    gameTab.className = "geod3-tab-icon";
    tabIcons.push(filesTab);
    tabIcons.push(sceneViewTab);
    tabIcons.push(scriptEditorTab);
    tabIcons.push(gameTab);
    tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
    this.tabs[this.activeTabID].Focus(tabContainer);
    const switchToTab = async (index) => {
      tabIcons[this.activeTabID].className = "geod3-tab-icon";
      await this.tabs[this.activeTabID].UnFocus(tabContainer);
      this.activeTabID = index;
      tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
      this.tabs[this.activeTabID].Focus(tabContainer);
    };
    this.SwitchToTab = switchToTab;
    filesTab.onclick = () => {
      switchToTab(0);
    };
    sceneViewTab.onclick = () => {
      switchToTab(1);
    };
    scriptEditorTab.onclick = () => {
      switchToTab(2);
    };
    gameTab.onclick = () => {
      switchToTab(3);
    };
  }
};
var AppAndProject = class {
  constructor(app, project) {
    this.app = app;
    this.project = project;
  }
};
var SceneDTO = class {
  constructor(objects = []) {
    this.objects = objects;
  }
};

// classes/geod3-view.ts
var VIEW_TYPE_GEOD3_PROJECT = "geod3-view";
var GEOD3View = class extends import_obsidian5.ItemView {
  constructor(leaf, defaultPath) {
    super(leaf);
    this.defaultPath = defaultPath;
  }
  getViewType() {
    return VIEW_TYPE_GEOD3_PROJECT;
  }
  getDisplayText() {
    return "GEO:D3";
  }
  async onOpen() {
    const mainEl = this.containerEl.children[1];
    mainEl.empty();
    const mainDiv = mainEl.createDiv("geod3-main-div");
    const mainDivTemp = mainDiv.createDiv("geod3-main-div");
    mainDivTemp.tabIndex = -1;
    mainDivTemp.focus();
    mainDivTemp.createEl("h1", { text: "Path to project:" });
    const pathInput = mainDivTemp.createEl("input", { type: "text", value: this.defaultPath });
    const submitButton = mainDivTemp.createEl("button", { text: "Open" });
    const onSubmit = async () => {
      const folderPath = (0, import_obsidian5.normalizePath)(pathInput.value);
      const dataPath = folderPath + "/RESERVED FOLDER DO NOT RENAME/Objects.md";
      this.project = new Project(this.app);
      this.project.pathToProject = folderPath;
      if (!await this.app.vault.adapter.exists(dataPath)) {
        const newDTO = new SceneDTO();
        const pathParts = dataPath.split("/");
        let pathSoFar = "";
        for (let i = 0; !await this.app.vault.adapter.exists(dataPath) && i < pathParts.length; i++) {
          const isLast = i === pathParts.length - 1;
          pathSoFar += pathParts[i] + (isLast ? "" : "/");
          if (isLast) {
            await this.app.vault.create(pathSoFar, JSON.stringify(newDTO));
          } else {
            await this.app.vault.createFolder(pathSoFar);
          }
        }
      }
      await this.project.Load();
      await this.project.Display(mainDiv);
    };
    submitButton.onclick = onSubmit;
    mainDivTemp.onkeydown = (e) => {
      if (e.key === "Enter") {
        mainDivTemp.blur();
        mainDivTemp.onkeydown = () => {
        };
        onSubmit();
      }
    };
  }
  async onClose() {
    this.project.gameView.stillRunning = false;
  }
};

// main.ts
var import_obsidian6 = require("obsidian");
var DEFAULT_SETTINGS = {
  projectPath: "New GEOD3 Project"
};
var GEOD3 = class extends import_obsidian6.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_GEOD3_PROJECT,
      (leaf) => new GEOD3View(leaf, this.settings.projectPath)
    );
    this.addRibbonIcon("boxes", "Open GEOD3", () => {
      this.activateView(VIEW_TYPE_GEOD3_PROJECT);
    });
    this.addCommand({
      id: "open-geod3-view",
      name: "Open GEOD3",
      callback: () => {
        this.activateView(VIEW_TYPE_GEOD3_PROJECT);
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  activateView(view_type) {
    let leaf = null;
    leaf = this.app.workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian6.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    leaf.setViewState({ type: view_type, active: true });
  }
};
var SampleSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).setName("Default Project Folder").setDesc("The vault path to automatically fill in for the project path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.projectPath).onChange(async (value) => {
      this.plugin.settings.projectPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2dlb2QzLXZpZXcudHMiLCAiY2xhc3Nlcy9wcm9qZWN0LnRzIiwgImNsYXNzZXMvdGFicy9maWxlLW1hbmFnZXIudHMiLCAiY2xhc3Nlcy90YWJzL3RhYi50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9nZW9kMy1maWxlLnRzIiwgImNsYXNzZXMvdGFicy9maWxlLXR5cGVzL2dlb2QzLWZvbGRlci50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9yZWFsLWZpbGUudHMiLCAiY29sb3JzLnRzIiwgImNsYXNzZXMvc3RydWN0cy9zdHJ1Y3QudHMiLCAiY2xhc3Nlcy90YWJzL2dlb2QzLW9iamVjdC50cyIsICJjbGFzc2VzL2Z1bmN0aW9ucy9mdW5jdGlvbi50cyIsICJjbGFzc2VzL3RhYnMvZ2FtZS12aWV3LnRzIiwgImNsYXNzZXMvdGFicy9zY2VuZS12aWV3LnRzIiwgImNsYXNzZXMvdGFicy9zY3JpcHQtZWRpdG9yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBHRU9EM1ZpZXcsIFZJRVdfVFlQRV9HRU9EM19QUk9KRUNUIH0gZnJvbSAnY2xhc3Nlcy9nZW9kMy12aWV3JztcclxuaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBHRU86RDMgc3RhbmRzIGZvciBHYW1lIEVuZ2luZSBpbiBPYnNpZGlhbjogRGV2ZWxvcGVkIGJ5IDNyZC1wYXJ0eS5cclxuICovXHJcbmludGVyZmFjZSBHRU9EM1NldHRpbmdzIHtcclxuXHRwcm9qZWN0UGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHRU9EM1NldHRpbmdzID0ge1xyXG5cdHByb2plY3RQYXRoOiAnTmV3IEdFT0QzIFByb2plY3QnXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdFT0QzIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogR0VPRDNTZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0VklFV19UWVBFX0dFT0QzX1BST0pFQ1QsXHJcblx0XHRcdChsZWFmKSA9PiBuZXcgR0VPRDNWaWV3KGxlYWYsIHRoaXMuc2V0dGluZ3MucHJvamVjdFBhdGgpXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignYm94ZXMnLCAnT3BlbiBHRU9EMycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0dFT0QzX1BST0pFQ1QpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuLWdlb2QzLXZpZXcnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBHRU9EMycsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0dFT0QzX1BST0pFQ1QpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhY3RpdmF0ZVZpZXcodmlld190eXBlOiBzdHJpbmcpIHtcclxuXHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcclxuXHRcdGlmIChsZWFmID09PSBudWxsKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIHZpZXc6IHdvcmtzcGFjZSBsZWFmIHdhcyBudWxsXCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IHZpZXdfdHlwZSwgYWN0aXZlOiB0cnVlIH0pO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogR0VPRDM7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdFT0QzKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBQcm9qZWN0IEZvbGRlcicpXHJcblx0XHRcdC5zZXREZXNjKCdUaGUgdmF1bHQgcGF0aCB0byBhdXRvbWF0aWNhbGx5IGZpbGwgaW4gZm9yIHRoZSBwcm9qZWN0IHBhdGgnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0RlZmF1bHQgU291cmNlIFBhdGgnKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9qZWN0UGF0aClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9qZWN0UGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIG5vcm1hbGl6ZVBhdGgsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFByb2plY3QsIFNjZW5lRFRPIH0gZnJvbSAnLi9wcm9qZWN0JztcclxuXHJcbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfR0VPRDNfUFJPSkVDVCA9ICdnZW9kMy12aWV3JztcclxuXHJcbi8qKlxyXG4gKiBPcGVucyBhIHByb2plY3RcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHRU9EM1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XHJcbiAgICBkZWZhdWx0UGF0aDogc3RyaW5nO1xyXG4gICAgcHJvamVjdDogUHJvamVjdDtcclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIGRlZmF1bHRQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXRoID0gZGVmYXVsdFBhdGg7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vmlld1R5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9HRU9EM19QUk9KRUNUO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERpc3BsYXlUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiAnR0VPOkQzJztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBvbk9wZW4oKSB7XHJcbiAgICAgICAgY29uc3QgbWFpbkVsID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcclxuICAgICAgICBtYWluRWwuZW1wdHkoKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBtYWluRGl2ID0gbWFpbkVsLmNyZWF0ZURpdignZ2VvZDMtbWFpbi1kaXYnKTtcclxuICAgICAgICBjb25zdCBtYWluRGl2VGVtcCA9IG1haW5EaXYuY3JlYXRlRGl2KCdnZW9kMy1tYWluLWRpdicpO1xyXG5cclxuICAgICAgICBtYWluRGl2VGVtcC50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgIG1haW5EaXZUZW1wLmZvY3VzKCk7XHJcblxyXG4gICAgICAgIG1haW5EaXZUZW1wLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ1BhdGggdG8gcHJvamVjdDonIH0gKTtcclxuICAgICAgICBjb25zdCBwYXRoSW5wdXQgPSBtYWluRGl2VGVtcC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuZGVmYXVsdFBhdGggfSApO1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IG1haW5EaXZUZW1wLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdPcGVuJyB9ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBub3JtYWxpemVQYXRoKHBhdGhJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFQYXRoID0gZm9sZGVyUGF0aCArICcvUkVTRVJWRUQgRk9MREVSIERPIE5PVCBSRU5BTUUvT2JqZWN0cy5tZCc7XHJcbiAgICAgICAgICAgIHRoaXMucHJvamVjdCA9IG5ldyBQcm9qZWN0KHRoaXMuYXBwKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0LnBhdGhUb1Byb2plY3QgPSBmb2xkZXJQYXRoO1xyXG4gICAgICAgICAgICBpZiAoIWF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKGRhdGFQYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RFRPID0gbmV3IFNjZW5lRFRPKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gZGF0YVBhdGguc3BsaXQoJy8nKTtcclxuICAgICAgICAgICAgICAgIGxldCBwYXRoU29GYXIgPSAnJztcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyAhKGF3YWl0IHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKGRhdGFQYXRoKSkgJiYgaSA8IHBhdGhQYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGFzdCA9IGkgPT09IHBhdGhQYXJ0cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhTb0ZhciArPSBwYXRoUGFydHNbaV0gKyAoaXNMYXN0ID8gJycgOiAnLycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0xhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKHBhdGhTb0ZhciwgSlNPTi5zdHJpbmdpZnkobmV3RFRPKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKHBhdGhTb0Zhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvamVjdC5Mb2FkKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvamVjdC5EaXNwbGF5KG1haW5EaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdWJtaXRCdXR0b24ub25jbGljayA9IG9uU3VibWl0O1xyXG4gICAgICAgIG1haW5EaXZUZW1wLm9ua2V5ZG93biA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgbWFpbkRpdlRlbXAuYmx1cigpO1xyXG4gICAgICAgICAgICAgICAgbWFpbkRpdlRlbXAub25rZXlkb3duID0gKCkgPT4ge307XHJcbiAgICAgICAgICAgICAgICBvblN1Ym1pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0LmdhbWVWaWV3LnN0aWxsUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gXCIuL3RhYnMvZmlsZS1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEdhbWVWaWV3IH0gZnJvbSBcIi4vdGFicy9nYW1lLXZpZXdcIjtcclxuaW1wb3J0IHsgU2NlbmVWaWV3IH0gZnJvbSBcIi4vdGFicy9zY2VuZS12aWV3XCI7XHJcbmltcG9ydCB7IFNjcmlwdEVkaXRvciB9IGZyb20gXCIuL3RhYnMvc2NyaXB0LWVkaXRvclwiO1xyXG5pbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJzL3RhYlwiO1xyXG5pbXBvcnQgeyBHRU9EM09iamVjdCB9IGZyb20gXCIuL3RhYnMvZ2VvZDMtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEFTSGFuZGxlciB9IGZyb20gXCIuL3N0cnVjdHMvc3RydWN0XCI7XHJcbmltcG9ydCB7IEFGLCBBRkhhbmRsZXIsIEFGSSB9IGZyb20gXCIuL2Z1bmN0aW9ucy9mdW5jdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3Qge1xyXG4gICAgcGF0aFRvUHJvamVjdDogc3RyaW5nO1xyXG4gICAgdGFiczogVGFiW107XHJcblxyXG4gICAgZ2V0IGZpbGVNYW5hZ2VyKCk6IEdFT0QzRmlsZU1hbmFnZXIge1xyXG4gICAgICAgIHJldHVybiA8R0VPRDNGaWxlTWFuYWdlcj4gdGhpcy50YWJzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY2VuZVZpZXcoKTogU2NlbmVWaWV3IHtcclxuICAgICAgICByZXR1cm4gPFNjZW5lVmlldz4gdGhpcy50YWJzWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY3JpcHRFZGl0b3IoKTogU2NyaXB0RWRpdG9yIHtcclxuICAgICAgICByZXR1cm4gPFNjcmlwdEVkaXRvcj4gdGhpcy50YWJzWzJdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBnYW1lVmlldygpOiBHYW1lVmlldyB7XHJcbiAgICAgICAgcmV0dXJuIDxHYW1lVmlldz4gdGhpcy50YWJzWzNdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWxlTWFuYWdlclRhYklEKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjZW5lVmlld1RhYklEKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjcmlwdEVkaXRvclRhYklEKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGdhbWVWaWV3VGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMztcclxuICAgIH1cclxuXHJcbiAgICBhY3RpdmVUYWJJRDogbnVtYmVyO1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0XHJcblxyXG4gICAgU3dpdGNoVG9UYWI6IChpbmRleDogbnVtYmVyKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBuZXcgQXBwQW5kUHJvamVjdChhcHAsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudGFicyA9IFtdO1xyXG4gICAgICAgIHRoaXMudGFicy5wdXNoKG5ldyBHRU9EM0ZpbGVNYW5hZ2VyKHRoaXMuYW5wKSk7XHJcbiAgICAgICAgdGhpcy50YWJzLnB1c2gobmV3IFNjZW5lVmlldyh0aGlzLmFucCkpO1xyXG4gICAgICAgIHRoaXMudGFicy5wdXNoKG5ldyBTY3JpcHRFZGl0b3IodGhpcy5hbnApKTtcclxuICAgICAgICB0aGlzLnRhYnMucHVzaChuZXcgR2FtZVZpZXcodGhpcy5hbnApKTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVRhYklEID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBMb2FkKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuTG9hZEZpbGVzKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5HcmFiRmlsZURlcGVuZGVuY2llcygpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuTG9hZE9iamVjdHMoKTtcclxuICAgIH1cclxuICAgIGFzeW5jIExvYWRGaWxlcygpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmZpbGVNYW5hZ2VyLkxvYWRGaWxlcyh0aGlzLmFucCk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBHcmFiRmlsZURlcGVuZGVuY2llcygpIHtcclxuICAgICAgICBjb25zdCBmbSA9IHRoaXMuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbS5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhd2FpdCBmbS5maWxlc1tpXS5HcmFiRGVwZW5kZW5jaWVzKHRoaXMuYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBMb2FkT2JqZWN0cygpIHtcclxuICAgICAgICBjb25zdCBzdiA9IHRoaXMuc2NlbmVWaWV3O1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBub3JtYWxpemVQYXRoKHRoaXMuYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArICcvUkVTRVJWRUQgRk9MREVSIERPIE5PVCBSRU5BTUUvT2JqZWN0cy5tZCcpO1xyXG4gICAgICAgIGNvbnN0IHRGaWxlID0gdGhpcy5hbnAuYXBwLnZhdWx0LmdldEZpbGVCeVBhdGgocGF0aCk7XHJcbiAgICAgICAgaWYgKHRGaWxlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYW5wLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRGaWxlKTtcclxuICAgICAgICBjb25zdCBwbGFpbk9iaiA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgc3Yub2JqZWN0cyA9IHBsYWluT2JqLm9iamVjdHM7XHJcbiAgICAgICAgY29uc3QgbG9hZEZ1bmN0aW9uID0gKHBsYWluRnVuY3Q6IGFueSk6IEFGSSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0Z1bmN0ID0gT2JqZWN0LmFzc2lnbihBRkhhbmRsZXIuQ3JlYXRlSShwbGFpbkZ1bmN0LnR5cGUsIHBsYWluRnVuY3QucGFyYW1ldGVycyksIHBsYWluRnVuY3QpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0Z1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1N0cnVjdCA9IHBsYWluRnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV0ubmFtZSAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhaW5TdHJ1Y3QgPSBwbGFpbkZ1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Z1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzW2ldID0gT2JqZWN0LmFzc2lnbihBU0hhbmRsZXIuQ3JlYXRlSShwbGFpblN0cnVjdC50eXBlLCBwbGFpblN0cnVjdC5zY29wZSwgcGxhaW5TdHJ1Y3QubmFtZSksIHBsYWluU3RydWN0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV0gPSBsb2FkRnVuY3Rpb24ocGxhaW5GdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdGdW5jdC5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1N0cnVjdCA9IHBsYWluRnVuY3QucGFyYW1ldGVyc1tpXS5uYW1lICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFpblN0cnVjdCA9IHBsYWluRnVuY3QucGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdGdW5jdC5wYXJhbWV0ZXJzW2ldID0gT2JqZWN0LmFzc2lnbihBU0hhbmRsZXIuQ3JlYXRlSShwbGFpblN0cnVjdC50eXBlLCBwbGFpblN0cnVjdC5zY29wZSwgcGxhaW5TdHJ1Y3QubmFtZSksIHBsYWluU3RydWN0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RnVuY3QucGFyYW1ldGVyc1tpXSA9IGxvYWRGdW5jdGlvbihwbGFpbkZ1bmN0LnBhcmFtZXRlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdGdW5jdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGFpbk9iai5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld09iaiA9IE9iamVjdC5hc3NpZ24obmV3IEdFT0QzT2JqZWN0KGkpLCBwbGFpbk9iai5vYmplY3RzW2ldKTtcclxuICAgICAgICAgICAgc3Yub2JqZWN0c1tpXSA9IG5ld09iajtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdPYmoudmFyaWFibGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFpblZhciA9IHN2Lm9iamVjdHNbaV0udmFyaWFibGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFyID0gT2JqZWN0LmFzc2lnbihBU0hhbmRsZXIuQ3JlYXRlSShwbGFpblZhci50eXBlLCBwbGFpblZhci5zY29wZSwgcGxhaW5WYXIubmFtZSksIHBsYWluVmFyKTtcclxuICAgICAgICAgICAgICAgIHN2Lm9iamVjdHNbaV0udmFyaWFibGVzW2pdID0gbmV3VmFyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmV3T2JqLm9uU3RhcnQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluRnVuY3QgPSBzdi5vYmplY3RzW2ldLm9uU3RhcnRbal07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGdW5jdCA9IGxvYWRGdW5jdGlvbihwbGFpbkZ1bmN0KTtcclxuICAgICAgICAgICAgICAgIHN2Lm9iamVjdHNbaV0ub25TdGFydFtqXSA9IG5ld0Z1bmN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmV3T2JqLm9uTmV3RnJhbWUubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluRnVuY3QgPSBzdi5vYmplY3RzW2ldLm9uTmV3RnJhbWVbal07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGdW5jdCA9IGxvYWRGdW5jdGlvbihwbGFpbkZ1bmN0KTtcclxuICAgICAgICAgICAgICAgIHN2Lm9iamVjdHNbaV0ub25OZXdGcmFtZVtqXSA9IG5ld0Z1bmN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIERpc3BsYXkoZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG5cclxuICAgICAgICBjb25zdCB0YWJCYXIgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy10YWItYmFyIGhib3gnKTtcclxuICAgICAgICBjb25zdCB0YWJDb250YWluZXIgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy10YWItY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhYkljb25zOiBIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbGVzVGFiID0gdGFiQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IEdFT0QzRmlsZU1hbmFnZXIuaWNvbiB9ICk7XHJcbiAgICAgICAgY29uc3Qgc2NlbmVWaWV3VGFiID0gdGFiQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6IFNjZW5lVmlldy5pY29uIH0gKTtcclxuICAgICAgICBjb25zdCBzY3JpcHRFZGl0b3JUYWIgPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogU2NyaXB0RWRpdG9yLmljb24gfSApO1xyXG4gICAgICAgIGNvbnN0IGdhbWVUYWIgPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogR2FtZVZpZXcuaWNvbiB9ICk7XHJcbiAgICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0JFU2F2ZScgfSApO1xyXG4gICAgICAgIHNhdmVCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLXNlY29uZGFyeS1idXR0b24nO1xyXG4gICAgICAgIHNhdmVCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHNhdmVCdXR0b24udGV4dENvbnRlbnQgPSAnXHUyN0YzU2F2aW5nLi4uJztcclxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgodGhpcy5hbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgJy9SRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRS9PYmplY3RzLm1kJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShuZXcgU2NlbmVEVE8odGhpcy5hbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cykpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFucC5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBkYXRhKTtcclxuICAgICAgICAgICAgc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLnRleHRDb250ZW50ID0gJ1x1RDgzRFx1RENCRVNhdmUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmlsZXNUYWIuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uJztcclxuICAgICAgICBzY2VuZVZpZXdUYWIuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uJztcclxuICAgICAgICBzY3JpcHRFZGl0b3JUYWIuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uJztcclxuICAgICAgICBnYW1lVGFiLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbic7XHJcblxyXG4gICAgICAgIHRhYkljb25zLnB1c2goZmlsZXNUYWIpO1xyXG4gICAgICAgIHRhYkljb25zLnB1c2goc2NlbmVWaWV3VGFiKTtcclxuICAgICAgICB0YWJJY29ucy5wdXNoKHNjcmlwdEVkaXRvclRhYik7XHJcbiAgICAgICAgdGFiSWNvbnMucHVzaChnYW1lVGFiKTtcclxuXHJcbiAgICAgICAgdGFiSWNvbnNbdGhpcy5hY3RpdmVUYWJJRF0uY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uLW9wZW5lZCc7XHJcbiAgICAgICAgdGhpcy50YWJzW3RoaXMuYWN0aXZlVGFiSURdLkZvY3VzKHRhYkNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHN3aXRjaFRvVGFiID0gYXN5bmMgKGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgdGFiSWNvbnNbdGhpcy5hY3RpdmVUYWJJRF0uY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uJztcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy50YWJzW3RoaXMuYWN0aXZlVGFiSURdLlVuRm9jdXModGFiQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJRCA9IGluZGV4O1xyXG4gICAgICAgICAgICB0YWJJY29uc1t0aGlzLmFjdGl2ZVRhYklEXS5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24tb3BlbmVkJztcclxuICAgICAgICAgICAgdGhpcy50YWJzW3RoaXMuYWN0aXZlVGFiSURdLkZvY3VzKHRhYkNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLlN3aXRjaFRvVGFiID0gc3dpdGNoVG9UYWI7XHJcblxyXG4gICAgICAgIGZpbGVzVGFiLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaFRvVGFiKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzY2VuZVZpZXdUYWIub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoVG9UYWIoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjcmlwdEVkaXRvclRhYi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2hUb1RhYigyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2FtZVRhYi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2hUb1RhYigzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBBbmRQcm9qZWN0IHtcclxuICAgIGFwcDogQXBwO1xyXG4gICAgcHJvamVjdDogUHJvamVjdDtcclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwcm9qZWN0OiBQcm9qZWN0KSB7XHJcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNjZW5lRFRPIHtcclxuICAgIG9iamVjdHM6IEdFT0QzT2JqZWN0W107XHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3RzOiBHRU9EM09iamVjdFtdID0gW10pIHtcclxuICAgICAgICB0aGlzLm9iamVjdHMgPSBvYmplY3RzO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IFRGaWxlLCBURm9sZGVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IFRhYiB9IGZyb20gXCIuL3RhYlwiO1xyXG5pbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGUgfSBmcm9tIFwiLi9maWxlLXR5cGVzL2dlb2QzLWZpbGVcIjtcclxuaW1wb3J0IHsgR0VPRDNGb2xkZXIgfSBmcm9tIFwiLi9maWxlLXR5cGVzL2dlb2QzLWZvbGRlclwiO1xyXG5pbXBvcnQgeyBJbWFnZUZpbGUsIFNvdW5kRmlsZSwgVmlkZW9GaWxlIH0gZnJvbSBcIi4vZmlsZS10eXBlcy9yZWFsLWZpbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHRU9EM0ZpbGVNYW5hZ2VyIGV4dGVuZHMgVGFiIHtcclxuICAgIHN0YXRpYyBvdmVycmlkZSBpY29uID0gJ1x1RDgzRFx1RENDMSc7XHJcbiAgICBmaWxlczogR0VPRDNGaWxlW107XHJcbiAgICBtYWluRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGZpbGVEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJvcGVydGllc0RpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBcclxuICAgIGdldCBpbWFnZUZpbGVzKCk6IEltYWdlRmlsZVtdIHtcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbaV0gaW5zdGFuY2VvZiBJbWFnZUZpbGUpIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKDxJbWFnZUZpbGU+IHRoaXMuZmlsZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBzb3VuZEZpbGVzKCk6IFNvdW5kRmlsZVtdIHtcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbaV0gaW5zdGFuY2VvZiBTb3VuZEZpbGUpIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKDxTb3VuZEZpbGU+IHRoaXMuZmlsZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCB2aWRlb0ZpbGVzKCk6IFZpZGVvRmlsZVtdIHtcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbaV0gaW5zdGFuY2VvZiBWaWRlb0ZpbGUpIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKDxWaWRlb0ZpbGU+IHRoaXMuZmlsZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0RmlsZShwYXRoOiBTdHJpbmcpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbaV0ucGF0aCA9PT0gcGF0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoICcgKyBwYXRoICsgJyBub3QgZm91bmQnKTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRGaWxlQnlQcmltaXRpdmVQYXRoKHBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXS5wYXRoLnZhbHVlT2YoKSA9PT0gcGF0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsZXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoICcgKyBwYXRoICsgJyBub3QgZm91bmQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICBzdXBlcihhbnApO1xyXG4gICAgICAgIHRoaXMuZmlsZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgS05PV05fRklMRV9UWVBFUyA9IFtcclxuICAgICAgICAnXHVEODNEXHVEQ0MxRm9sZGVyJyxcclxuICAgICAgICAnXHVEODNEXHVEREJDXHVGRTBGSW1hZ2UnLFxyXG4gICAgICAgICdcdUQ4M0RcdUREMEFTb3VuZCcsXHJcbiAgICAgICAgJ1x1RDgzQ1x1REY5RVx1RkUwRlZpZGVvJ1xyXG4gICAgXVxyXG5cclxuICAgIHByaXZhdGUgQXNzaWduT2JqZWN0RnJvbUZpbGVUeXBlKHBsYWluT2JqOiBhbnksIHBhdGg6IHN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKTogR0VPRDNGaWxlIHtcclxuICAgICAgICBwbGFpbk9iai5wYXRoID0gcGF0aDtcclxuICAgICAgICBwbGFpbk9iai5wYXJlbnRQYXRoID0gcGFyZW50UGF0aDtcclxuICAgICAgICBzd2l0Y2gocGxhaW5PYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdURDQzFGb2xkZXInOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEdFT0QzRm9sZGVyKHBhdGgsIHBhcmVudFBhdGgpLCBwbGFpbk9iaik7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1RERCQ1x1RkUwRkltYWdlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBJbWFnZUZpbGUocGF0aCwgcGFyZW50UGF0aCksIHBsYWluT2JqKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVERDBBU291bmQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFNvdW5kRmlsZShwYXRoLCBwYXJlbnRQYXRoKSwgcGxhaW5PYmopO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0NcdURGOUVcdUZFMEZWaWRlbyc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgVmlkZW9GaWxlKHBhdGgsIHBhcmVudFBhdGgpLCBwbGFpbk9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBDcmVhdGVGaWxlT2ZUeXBlKHBhdGg6IHN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nLCB0eXBlOiBzdHJpbmcpOiBHRU9EM0ZpbGUge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1RENDMUZvbGRlcic6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdFT0QzRm9sZGVyKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdUREQkNcdUZFMEZJbWFnZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEltYWdlRmlsZShwYXRoLCBwYXJlbnRQYXRoKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVERDBBU291bmQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTb3VuZEZpbGUocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzQ1x1REY5RVx1RkUwRlZpZGVvJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVmlkZW9GaWxlKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBMb2FkRmlsZXMoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgdGhpcy5maWxlcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGFwcCA9IGFucC5hcHA7XHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhcHAudmF1bHQ7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG5cclxuICAgICAgICBjb25zdCBwcm9qZWN0Rm9sZGVyID0gdmF1bHQuZ2V0Rm9sZGVyQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCk7XHJcbiAgICAgICAgaWYgKHByb2plY3RGb2xkZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0IGZvbGRlciBkb2VzIG5vdCBleGlzdCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZm9sZGVyU3RhY2s6IFtURm9sZGVyLCBHRU9EM0ZvbGRlciwgbnVtYmVyXVtdID0gW107XHJcbiAgICAgICAgY29uc3QgVEZpbmRleCA9IDA7XHJcbiAgICAgICAgY29uc3QgR0ZpbmRleCA9IDE7XHJcbiAgICAgICAgY29uc3QgQ0ZpbmRleCA9IDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJvb3RQYXRoID0gbmV3IFN0cmluZygnLycpO1xyXG4gICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgR0VPRDNGb2xkZXIocm9vdFBhdGgsIHJvb3RQYXRoKTtcclxuICAgICAgICBmb2xkZXJTdGFjay5wdXNoKFtwcm9qZWN0Rm9sZGVyLCByb290LCAwXSk7XHJcbiAgICAgICAgdGhpcy5maWxlcy5wdXNoKHJvb3QpO1xyXG4gICAgICAgIGxldCBkZXB0aCA9IDA7XHJcblxyXG4gICAgICAgIHdoaWxlIChmb2xkZXJTdGFja1swXVtDRmluZGV4XSA8IHByb2plY3RGb2xkZXIuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJGb2xkZXIgPSBmb2xkZXJTdGFja1tkZXB0aF07XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJJbmRleCA9IGN1cnJGb2xkZXJbQ0ZpbmRleF07XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJGaWxlID0gY3VyckZvbGRlcltURmluZGV4XS5jaGlsZHJlbltjdXJySW5kZXhdO1xyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBjdXJyRmlsZS5wYXRoLnJlcGxhY2UocHJvamVjdC5wYXRoVG9Qcm9qZWN0LCAnJyk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyRmlsZS5uYW1lICE9PSAnUkVTRVJWRUQgRk9MREVSIERPIE5PVCBSRU5BTUUnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyckZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3R0VPRDNGb2xkZXIgPSBuZXcgR0VPRDNGb2xkZXIocmVsYXRpdmVQYXRoLCBjdXJyRm9sZGVyW0dGaW5kZXhdLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZXMucHVzaChuZXdHRU9EM0ZvbGRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyckZvbGRlcltHRmluZGV4XS5maWxlcy5wdXNoKG5ld0dFT0QzRm9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBmb2xkZXJTdGFjay5wdXNoKFtjdXJyRmlsZSwgbmV3R0VPRDNGb2xkZXIsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJGaWxlLmV4dGVuc2lvbiA9PT0gJ21kJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdmF1bHQuY2FjaGVkUmVhZCg8VEZpbGU+IGN1cnJGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhaW5PYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxlID0gdGhpcy5Bc3NpZ25PYmplY3RGcm9tRmlsZVR5cGUocGxhaW5PYmosIHJlbGF0aXZlUGF0aC5zbGljZSgwLCAtMyksIGN1cnJGb2xkZXJbR0ZpbmRleF0ucGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJGb2xkZXJbR0ZpbmRleF0uZmlsZXMucHVzaChuZXdGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKG5ld0ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSA+PSBmb2xkZXJTdGFja1tkZXB0aF1bVEZpbmRleF0uY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoZGVwdGggPiAwICYmIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSA+PSBmb2xkZXJTdGFja1tkZXB0aF1bVEZpbmRleF0uY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGgtLTtcclxuICAgICAgICAgICAgICAgICAgICBmb2xkZXJTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJTdGFja1tkZXB0aF1bQ0ZpbmRleF0rKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMubWFpbkRpdiA9IGRpdjtcclxuICAgICAgICB0aGlzLm1haW5EaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1jb250YWluZXIgaGJveCc7XHJcbiAgICAgICAgdGhpcy5maWxlRGl2ID0gZGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllc0RpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWZpbGUtcHJvcGVydGllcyB2Ym94Jyk7XHJcbiAgICAgICAgdGhpcy5maWxlRGl2LnN0eWxlLndpZHRoID0gJzcwJSc7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzRGl2LnN0eWxlLndpZHRoID0gJzMwJSc7XHJcbiAgICAgICAgdGhpcy5maWxlc1swXS5PcGVuKHRoaXMuYW5wKTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUYWIge1xyXG4gICAgc3RhdGljIGljb246IHN0cmluZztcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGFucCBhIHJlZmVyZW5jZSB0byB0aGUgb2JzaWRpYW4gYXBwIHRvIHJlYWQgYW5kIHdyaXRlIGZpbGVzIGFzIHdlbGwgYXMgdGhlIGdlb2QzIHByb2plY3QgdGhpcyB0YWIgc2hvdWxkIGxvb2sgYXRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVuIChmb2N1cyBvbikgdGhlIHRhYlxyXG4gICAgICogQHBhcmFtIGRpdiB0aGUgbWFpbiBkaXYgb2YgdGhlIHZpZXdcclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3QgRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFVuZm9jdXMgdGhpcyB0YWIgYmVmb3JlIGZvY3VzaW5nIG9uIGFub3RoZXIgb25lLlxyXG4gICAgICogVGhpcyBwcmV2ZW50cyB0aGluZ3MgaGFwcGVuaW5nIGluIHRoZSBiYWNrZ3JvdW5kIHdoaWxlIHRoZSB1c2VyIGlzbid0IGxvb2tpbmcsXHJcbiAgICAgKiBvciBqdXN0IHBhdXNpbmcgbG9vcHNcclxuICAgICAqIEBwYXJhbSBkaXYgdGhlIG1haW4gZGl2IG9mIHRoZSB2aWV3XHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0IFVuRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xyXG59IiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tICdjbGFzc2VzL3Byb2plY3QnO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGVNYW5hZ2VyIH0gZnJvbSAnLi4vZmlsZS1tYW5hZ2VyJztcclxuaW1wb3J0IHsgR0VPRDNGb2xkZXIgfSBmcm9tICcuL2dlb2QzLWZvbGRlcic7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR0VPRDNGaWxlIHtcclxuICAgIHBhcmVudFBhdGg6IFN0cmluZztcclxuICAgIGdldFBhcmVudChtYW5hZ2VyOiBHRU9EM0ZpbGVNYW5hZ2VyKTogR0VPRDNGb2xkZXIge1xyXG4gICAgICAgIHJldHVybiA8R0VPRDNGb2xkZXI+IG1hbmFnZXIuR2V0RmlsZSh0aGlzLnBhcmVudFBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBhdGggdG8gdGhpcyBmaWxlIFJFTEFUSVZFIFRPIFRIRSBQUk9KRUNUIEZPTERFUiwgTk9UIFRIRSBWQVVMVFxyXG4gICAgICovXHJcbiAgICBwYXRoOiBTdHJpbmc7XHJcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHRoaXMucGF0aC52YWx1ZU9mKCkuc3BsaXQoJy8nKTtcclxuICAgICAgICBpZiAodGhpcy5wYXRoLnZhbHVlT2YoKSA9PT0gJy8nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncm9vdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGFic3RyYWN0IGdldCBkYXRhKCk6IGFueTtcclxuICAgIGNvbnN0cnVjdG9yKHBhdGg6IFN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRQYXRoID0gcGFyZW50UGF0aDtcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgR3JhYkRlcGVuZGVuY2llcyhhbnA6IEFwcEFuZFByb2plY3QpOiBQcm9taXNlPHZvaWQ+IHt9XHJcbiAgICBhc3luYyBEaXNwbGF5VGh1bWJuYWlsKGFucDogQXBwQW5kUHJvamVjdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICB0aHVtYm5haWxEaXYuZW1wdHkoKTtcclxuXHRcdHRodW1ibmFpbERpdi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldFBhcmVudChtYW5hZ2VyKS5TZWxlY3RGaWxlKGFucCwgdGhpcywgdGh1bWJuYWlsRGl2KTtcclxuXHRcdH1cclxuXHRcdHRodW1ibmFpbERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiB0aGlzLm5hbWUgfSApO1xyXG5cdFx0dGh1bWJuYWlsRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuICAgIH1cclxuICAgIGFzeW5jIE9wZW4oYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIG1hbmFnZXIuZmlsZURpdi5lbXB0eSgpO1xyXG4gICAgICAgIG1hbmFnZXIuZmlsZURpdi5jbGFzc05hbWUgPSAndmJveCc7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSBtYW5hZ2VyLmZpbGVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0dvIGJhY2sgdG8gJyArIHRoaXMuZ2V0UGFyZW50KG1hbmFnZXIpLm5hbWUgfSApO1xyXG5cclxuICAgICAgICBiYWNrQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0UGFyZW50KG1hbmFnZXIpLk9wZW4oYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBEaXNwbGF5UHJvcGVydGllcyhhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmVtcHR5KCk7XHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm5hbWUgfSApO1xyXG5cdFx0bWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2YXVsdCA9IGFucC5hcHAudmF1bHQ7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG5cclxuICAgICAgICBuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCArIG9yaWdpbmFsUGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGguc2xpY2UoMCwgLWN1cnJOYW1lLmxlbmd0aCkgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0RmlsZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQucmVuYW1lKHRGaWxlLCBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdQYXRoICsgJy5tZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IG5ld1BhdGg7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRodW1ibmFpbChhbnAsIHRodW1ibmFpbERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgU2F2ZShhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gbm9ybWFsaXplUGF0aChhbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5tZCcpO1xyXG4gICAgICAgIGFucC5hcHAudmF1bHQuYWRhcHRlci53cml0ZShwYXRoLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gXCIuLi9maWxlLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlIH0gZnJvbSBcIi4vZ2VvZDMtZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzRm9sZGVyIGV4dGVuZHMgR0VPRDNGaWxlIHtcclxuICAgIG92ZXJyaWRlIHR5cGUgPSAnXHVEODNEXHVEQ0MxRm9sZGVyJztcclxuICAgIGZpbGVzOiBHRU9EM0ZpbGVbXTtcclxuICAgIHNlbGVjdGVkVGh1bWJuYWlsOiBbR0VPRDNGaWxlLCBIVE1MRGl2RWxlbWVudF0gfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgb3ZlcnJpZGUgZ2V0IGRhdGEoKTogR0VPRDNGaWxlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhdGg6IFN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgdGhpcy5maWxlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIGFzeW5jIE9wZW4oYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIHN1cGVyLk9wZW4oYW5wKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhbnAuYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuICAgICAgICBjb25zdCBjcmVhdGVEaXYgPSBtYW5hZ2VyLmZpbGVEaXYuY3JlYXRlRGl2KCdoYm94Jyk7XHJcbiAgICAgICAgY29uc3QgdHlwZURyb3Bkb3duID0gY3JlYXRlRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEdFT0QzRmlsZU1hbmFnZXIuS05PV05fRklMRV9UWVBFUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyVHlwZSA9IEdFT0QzRmlsZU1hbmFnZXIuS05PV05fRklMRV9UWVBFU1tpXTtcclxuICAgICAgICAgICAgdHlwZURyb3Bkb3duLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJUeXBlLCB2YWx1ZTogY3VyclR5cGUgfSApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0eXBlRHJvcGRvd24udmFsdWUgPSBHRU9EM0ZpbGVNYW5hZ2VyLktOT1dOX0ZJTEVfVFlQRVNbMF07XHJcbiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gY3JlYXRlRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogJ1VubmFtZWQnIH0gKTtcclxuICAgICAgICBjb25zdCBhZGRCdXR0b24gPSBjcmVhdGVEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysnIH0gKTtcclxuICAgICAgICBhZGRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UmVsUGF0aCA9IHRoaXMucGF0aCArICh0aGlzLnBhdGgudmFsdWVPZigpID09PSAnLycgPyAnJyA6ICcvJykgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdSZWxQYXRoO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdHRU9EM0ZpbGUgPSBHRU9EM0ZpbGVNYW5hZ2VyLkNyZWF0ZUZpbGVPZlR5cGUobmV3UmVsUGF0aCwgdGhpcy5wYXRoLCB0eXBlRHJvcGRvd24udmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZURyb3Bkb3duLnZhbHVlID09PSAnXHVEODNEXHVEQ0MxRm9sZGVyJykge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQuY3JlYXRlRm9sZGVyKG5ld1BhdGgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQuY3JlYXRlKG5ld1BhdGggKyAnLm1kJywgSlNPTi5zdHJpbmdpZnkobmV3R0VPRDNGaWxlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFuYWdlci5maWxlcy5wdXNoKG5ld0dFT0QzRmlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZXMucHVzaChuZXdHRU9EM0ZpbGUpO1xyXG4gICAgICAgICAgICB0aGlzLk9wZW4oYW5wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgY29uc3QgZm9sZGVyRGl2ID0gbWFuYWdlci5maWxlRGl2LmNyZWF0ZURpdignZ2VvZDMtZm9sZGVyJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZXNbaV0uRGlzcGxheVRodW1ibmFpbChhbnAsIGZvbGRlckRpdi5jcmVhdGVEaXYoJ2dlb2QzLWZpbGUtdGh1bWJuYWlsIHBvaW50ZXItaG92ZXInKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFNlbGVjdEZpbGUoYW5wOiBBcHBBbmRQcm9qZWN0LCBuZXdTZWxlY3RlZEZpbGU6IEdFT0QzRmlsZSwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVGh1bWJuYWlsICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFswXSA9PT0gbmV3U2VsZWN0ZWRGaWxlICYmIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMV0gPT09IHRodW1ibmFpbERpdikge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzBdLk9wZW4oYW5wKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRodW1ibmFpbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzFdLmNsYXNzTmFtZSA9ICdnZW9kMy1maWxlLXRodW1ibmFpbCBwb2ludGVyLWhvdmVyJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsID0gW25ld1NlbGVjdGVkRmlsZSwgdGh1bWJuYWlsRGl2XTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFsxXS5jbGFzc05hbWUgPSAnZ2VvZDMtZmlsZS10aHVtYm5haWwgc2VsZWN0ZWQgcG9pbnRlci1ob3Zlcic7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMF0uRGlzcGxheVByb3BlcnRpZXMoYW5wLCB0aHVtYm5haWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5UHJvcGVydGllcyhhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5uYW1lIH0gKTtcclxuICAgICAgICBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1R5cGU6ICcgKyB0aGlzLnR5cGUgfSApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYW5wLmFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcblxyXG4gICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgICBjb25zdCB0RmlsZSA9IHZhdWx0LmdldEZvbGRlckJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBvcmlnaW5hbFBhdGgpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyTmFtZSA9IHRoaXMubmFtZTtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IHRoaXMucGF0aC5zbGljZSgwLCAtY3Vyck5hbWUubGVuZ3RoKSArIG5hbWVJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHRGaWxlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXVsdC5yZW5hbWUodEZpbGUsIHByb2plY3QucGF0aFRvUHJvamVjdCArIG5ld1BhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IG5ld1BhdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclN0YWNrOiBbR0VPRDNGb2xkZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBHRmluZGV4ID0gMDtcclxuICAgICAgICAgICAgY29uc3QgQ0ZpbmRleCA9IDE7XHJcbiAgICAgICAgICAgIGZvbGRlclN0YWNrLnB1c2goW3RoaXMsIDBdKTtcclxuICAgICAgICAgICAgbGV0IGRlcHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChmb2xkZXJTdGFja1swXVtDRmluZGV4XSA8IHRoaXMuZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyRm9sZGVyID0gZm9sZGVyU3RhY2tbZGVwdGhdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckluZGV4ID0gY3VyckZvbGRlcltDRmluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJGaWxlID0gY3VyckZvbGRlcltHRmluZGV4XS5maWxlc1tjdXJySW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgY3VyckZpbGUucGF0aCA9IGN1cnJGaWxlLnBhdGgucmVwbGFjZShvcmlnaW5hbFBhdGgudmFsdWVPZigpLCBuZXdQYXRoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyRmlsZSBpbnN0YW5jZW9mIEdFT0QzRm9sZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2sucHVzaChbY3VyckZpbGUsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdID49IGZvbGRlclN0YWNrW2RlcHRoXVtHRmluZGV4XS5maWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZGVwdGggPiAwICYmIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSA+PSBmb2xkZXJTdGFja1tkZXB0aF1bR0ZpbmRleF0uZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGh1bWJuYWlsKGFucCwgdGh1bWJuYWlsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZSB9IGZyb20gXCIuL2dlb2QzLWZpbGVcIjtcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gXCIuLi9maWxlLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlYWxGaWxlIGV4dGVuZHMgR0VPRDNGaWxlIHtcclxuICAgIHByb3RlY3RlZCBzcmM6IHN0cmluZztcclxuICAgIG92ZXJyaWRlIGdldCBkYXRhKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhdGg6IFN0cmluZywgcGFyZW50UGF0aDogU3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgdGhpcy5zcmMgPSAnJztcclxuICAgIH1cclxuICAgIG92ZXJyaWRlIGFzeW5jIE9wZW4oYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIHN1cGVyLk9wZW4oYW5wKTtcclxuICAgICAgICB0aGlzLkRpc3BsYXlBY3R1YWxGaWxlKG1hbmFnZXIuZmlsZURpdik7XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBhc3luYyBHcmFiRGVwZW5kZW5jaWVzKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFwcCA9IGFucC5hcHA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhdWx0ID0gYXBwLnZhdWx0O1xyXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb0FjdHVhbEZpbGUgPSBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyB0aGlzLnBhdGggKyAnLmFjdHVhbC1maWxlJztcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHBhdGhUb0FjdHVhbEZpbGUpO1xyXG4gICAgICAgICAgICBpZiAodEZpbGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCB2YXVsdC5yZWFkQmluYXJ5KHRGaWxlKTtcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFthcnJheUJ1ZmZlcl0pO1xyXG4gICAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlQcm9wZXJ0aWVzKGFucDogQXBwQW5kUHJvamVjdCwgdGh1bWJuYWlsRGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuZW1wdHkoKTtcclxuXHRcdGNvbnN0IG5hbWVJbnB1dCA9IG1hbmFnZXIucHJvcGVydGllc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMubmFtZSB9ICk7XHJcblx0XHRtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1R5cGU6ICcgKyB0aGlzLnR5cGUgfSApO1xyXG5cdFx0Y29uc3QgY3VyckZpbGVEaXYgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5QWN0dWFsRmlsZShjdXJyRmlsZURpdik7XHJcblx0XHRjb25zdCBmaWxlSW5wdXQgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnZmlsZScgfSApO1xyXG5cdFx0XHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhbnAuYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuXHJcbiAgICAgICAgbmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSB0aGlzLnBhdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRGaWxlMSA9IHZhdWx0LmdldEZpbGVCeVBhdGgocHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgb3JpZ2luYWxQYXRoICsgJy5tZCcpO1xyXG4gICAgICAgICAgICBjb25zdCB0RmlsZTIgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCArIG9yaWdpbmFsUGF0aCArICcuYWN0dWFsLWZpbGUnKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGguc2xpY2UoMCwgLWN1cnJOYW1lLmxlbmd0aCkgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0RmlsZTEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LnJlbmFtZSh0RmlsZTEsIHByb2plY3QucGF0aFRvUHJvamVjdCArIG5ld1BhdGggKyAnLm1kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRGaWxlMiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQucmVuYW1lKHRGaWxlMiwgcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgbmV3UGF0aCArICcuYWN0dWFsLWZpbGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBuZXdQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUaHVtYm5haWwoYW5wLCB0aHVtYm5haWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVBcnJheSA9IGZpbGVJbnB1dC5maWxlcztcclxuICAgICAgICAgICAgaWYgKGZpbGVBcnJheSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlQXJyYXlbMF0uYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb01ERmlsZSA9IG5vcm1hbGl6ZVBhdGgoYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArIHRoaXMucGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb0FjdHVhbEZpbGUgPSBub3JtYWxpemVQYXRoKGFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyB0aGlzLnBhdGggKyAnLmFjdHVhbC1maWxlJyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aFRvTURGaWxlLCBKU09OLnN0cmluZ2lmeSh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkocGF0aFRvQWN0dWFsRmlsZSwgYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJGaWxlRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUFjdHVhbEZpbGUoY3VyckZpbGVEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFic3RyYWN0IERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxFbGVtZW50PjtcclxuICAgIGFzeW5jIFNhdmUoYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgYXdhaXQgc3VwZXIuU2F2ZShhbnApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5kYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoVG9BY3R1YWxGaWxlID0gbm9ybWFsaXplUGF0aChhbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5hY3R1YWwtZmlsZScpO1xyXG4gICAgICAgICAgICBhd2FpdCBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkocGF0aFRvQWN0dWFsRmlsZSwgYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgY29udmVydGluZyAnICsgdGhpcy5wYXRoLnZhbHVlT2YoKSArICcgdG8gYW4gYWN0dWFsIGZpbGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZUZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzRFx1RERCQ1x1RkUwRkltYWdlJztcclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+IHtcclxuICAgICAgICBjb25zdCBpbWcgPSBkaXYuY3JlYXRlRWwoJ2ltZycpO1xyXG4gICAgICAgIGltZy5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XHJcbiAgICAgICAgaW1nLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgICAgIHJldHVybiBpbWc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTb3VuZEZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzRFx1REQwQVNvdW5kJztcclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxBdWRpb0VsZW1lbnQ+IHtcclxuICAgICAgICBjb25zdCBlbCA9IGRpdi5jcmVhdGVFbCgnYXVkaW8nKTtcclxuICAgICAgICBlbC5zcmMgPSB0aGlzLnNyYztcclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb0ZpbGUgZXh0ZW5kcyBSZWFsRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzQ1x1REY5RVx1RkUwRlZpZGVvJztcclxuICAgIG92ZXJyaWRlIGFzeW5jIERpc3BsYXlBY3R1YWxGaWxlKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPEhUTUxWaWRlb0VsZW1lbnQ+IHtcclxuICAgICAgICBjb25zdCB2aWQgPSBkaXYuY3JlYXRlRWwoJ3ZpZGVvJyk7XHJcbiAgICAgICAgdmlkLnN0eWxlLm9iamVjdEZpdCA9ICdjb250YWluJztcclxuICAgICAgICB2aWQuc3JjID0gdGhpcy5zcmM7XHJcbiAgICAgICAgcmV0dXJuIHZpZDtcclxuICAgIH1cclxufVxyXG4iLCAiZXhwb3J0IGNvbnN0IEJHX0NPTE9SXzEgPSAncmdiKDM3LCAzNywgNDQpJztcclxuZXhwb3J0IGNvbnN0IEJHX0NPTE9SXzIgPSAncmdiKDE4LCAxOCwgMjQpJztcclxuZXhwb3J0IGNvbnN0IEJHX0NPTE9SXzMgPSAncmdiKDUsIDUsIDgpJztcclxuZXhwb3J0IGNvbnN0IEFDQ0VOVF9DT0xPUl8xID0gJ3JnYigyMjMsIDIzNiwgMjU1KSc7XHJcbmV4cG9ydCBjb25zdCBBQ0NFTlRfQ09MT1JfMiA9ICdyZ2IoMTYwLCAxNjksIDE4NCknO1xyXG5leHBvcnQgY29uc3QgQUNDRU5UX0NPTE9SXzMgPSAncmdiKDEwMCwgMTA5LCAxMjMpJztcclxuZXhwb3J0IGNvbnN0IENFTlRSQUxfQ09MT1JfMSA9ICdyZ2IoMTExLCA0NiwgMTY5KSc7XHJcbmV4cG9ydCBjb25zdCBDRU5UUkFMX0NPTE9SXzIgPSAncmdiKDc4LCAxNywgMTMxKSc7XHJcbmV4cG9ydCBjb25zdCBDRU5UUkFMX0NPTE9SXzMgPSAncmdiKDI5LCAwLCA1NCknO1xyXG5leHBvcnQgY29uc3QgUkVNT1ZFX0NPTE9SXzEgPSAncmdiKDE5OCwgNjgsIDY4KSc7XHJcbmV4cG9ydCBjb25zdCBSRU1PVkVfQ09MT1JfMiA9ICdyZ2IoMTM4LCAwLCAwKSc7IiwgImltcG9ydCB7IFNjb3BlIH0gZnJvbSBcImNsYXNzZXMvc2NvcGVcIjtcclxuaW1wb3J0IHsgQkdfQ09MT1JfMSwgQkdfQ09MT1JfMiwgQkdfQ09MT1JfMywgQUNDRU5UX0NPTE9SXzEsIEFDQ0VOVF9DT0xPUl8yLCBBQ0NFTlRfQ09MT1JfMywgQ0VOVFJBTF9DT0xPUl8xLCBDRU5UUkFMX0NPTE9SXzIsIENFTlRSQUxfQ09MT1JfMywgUkVNT1ZFX0NPTE9SXzEsIFJFTU9WRV9DT0xPUl8yIH0gZnJvbSBcImNvbG9yc1wiO1xyXG5cclxuZXhwb3J0IGVudW0gQVMge1xyXG4gICAgJ25vbmUnLFxyXG4gICAgJ2Jvb2xlYW4nLFxyXG4gICAgJ251bWJlcicsXHJcbiAgICAnc3RyaW5nJ1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNIYW5kbGVyIHtcclxuICAgIHN0YXRpYyBDb3B5KG9iajogQVNJKTogQVNJIHtcclxuICAgICAgICBsZXQgbmV3T2JqO1xyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIG5ld09iaiA9IG5ldyBBQm9vbGVhbkkob2JqLnNjb3BlLCBvYmoubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICBuZXdPYmogPSBuZXcgQU51bWJlckkob2JqLnNjb3BlLCBvYmoubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBUy5zdHJpbmc6XHJcbiAgICAgICAgICAgICAgICBuZXdPYmogPSBuZXcgQVN0cmluZ0kob2JqLnNjb3BlLCBvYmoubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3T2JqLnZhbHVlID0gb2JqLnZhbHVlO1xyXG4gICAgICAgIHJldHVybiBuZXdPYmo7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSSh0eXBlOiBBUywgc2NvcGU6IFNjb3BlLCBuYW1lOiBzdHJpbmcpOiBBU0kge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVMubm9uZTpcclxuICAgICAgICAgICAgY2FzZSBBUy5ib29sZWFuOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQm9vbGVhbkkoc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLm51bWJlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQU51bWJlckkoc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLnN0cmluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVN0cmluZ0koc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBDcmVhdGVJSShzdHJ1Y3Q6IEFTSSwgaW5zcGVjdG9yRGl2OiBIVE1MRGl2RWxlbWVudCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IEFTSUkge1xyXG4gICAgICAgIHN3aXRjaChzdHJ1Y3QudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUJvb2xlYW5JSShzdHJ1Y3QsIGluc3BlY3RvckRpdiwgY29sb3IpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLm51bWJlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQU51bWJlcklJKHN0cnVjdCwgaW5zcGVjdG9yRGl2LCBjb2xvcik7XHJcbiAgICAgICAgICAgIGNhc2UgQVMuc3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU3RyaW5nSUkoc3RydWN0LCBpbnNwZWN0b3JEaXYsIGNvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBU0kge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZTogQVM7XHJcbiAgICB2YWx1ZTogYW55O1xyXG4gICAgc2NvcGU6IFNjb3BlO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFTSTtcclxuICAgIHN0YXRpYyBBZGp1c3RJbnB1dFdpZHRoKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB0ZW1wRWwgPSBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogaW5wdXQudmFsdWUgfSApO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgdGVtcEVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5mb250ID0gJ2luaGVyaXQnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5wYWRkaW5nID0gaW5wdXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ID8gJzF2aCcgOiAnMnZoJztcclxuICAgICAgICBpbnB1dC5zdHlsZS53aWR0aCA9IHRlbXBFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XHJcbiAgICAgICAgdGVtcEVsLnJlbW92ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyNyZWdpb24gQm9vbGVhblxyXG5leHBvcnQgY2xhc3MgQUJvb2xlYW5JIGV4dGVuZHMgQVNJIHtcclxuICAgIHR5cGUgPSBBUy5ib29sZWFuO1xyXG4gICAgdmFsdWU6IGJvb2xlYW47XHJcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUsIG5hbWUgPSAnJykge1xyXG4gICAgICAgIHN1cGVyKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQm9vbGVhbklJIGV4dGVuZHMgQVNJSSB7XHJcbiAgICBpbnN0YW5jZTogQUJvb2xlYW5JO1xyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEFCb29sZWFuSSwgZGl2OiBIVE1MRGl2RWxlbWVudCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JyB9ICk7XHJcbiAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHRoaXMuaW5zdGFuY2UudmFsdWU7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IgPT09IHVuZGVmaW5lZCA/IENFTlRSQUxfQ09MT1JfMyA6IGNvbG9yO1xyXG4gICAgICAgIGlucHV0Lm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBpbnB1dC5jaGVja2VkO1xyXG4gICAgICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBpbnB1dC5jaGVja2VkID8gQ0VOVFJBTF9DT0xPUl8xIDogQ0VOVFJBTF9DT0xPUl8zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gQm9vbGVhblxyXG5cclxuLy8jcmVnaW9uIE51bWJlclxyXG5leHBvcnQgY2xhc3MgQU51bWJlckkgZXh0ZW5kcyBBU0kge1xyXG4gICAgdHlwZSA9IEFTLm51bWJlcjtcclxuICAgIHZhbHVlOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUsIG5hbWUgPSAnJykge1xyXG4gICAgICAgIHN1cGVyKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFOdW1iZXJJSSBleHRlbmRzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFOdW1iZXJJO1xyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEFOdW1iZXJJLCBkaXY6IEhUTUxEaXZFbGVtZW50LCBjb2xvcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmluc3RhbmNlLnZhbHVlICsgJycgfSApO1xyXG4gICAgICAgIEFTSUkuQWRqdXN0SW5wdXRXaWR0aChpbnB1dCwgZGl2KTtcclxuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvciA9PT0gdW5kZWZpbmVkID8gQ0VOVFJBTF9DT0xPUl8zIDogY29sb3I7XHJcbiAgICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgQVNJSS5BZGp1c3RJbnB1dFdpZHRoKGlucHV0LCBkaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS52YWx1ZSA9IHBhcnNlRmxvYXQoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gTnVtYmVyXHJcblxyXG4vLyNyZWdpb24gU3RyaW5nXHJcbmV4cG9ydCBjbGFzcyBBU3RyaW5nSSBleHRlbmRzIEFTSSB7XHJcbiAgICB0eXBlID0gQVMuc3RyaW5nO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiBTY29wZSwgbmFtZSA9ICcnKSB7XHJcbiAgICAgICAgc3VwZXIoc2NvcGUsIG5hbWUpO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSAnJztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTdHJpbmdJSSBleHRlbmRzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFTdHJpbmdJO1xyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEFTdHJpbmdJLCBkaXY6IEhUTUxEaXZFbGVtZW50LCBjb2xvcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmluc3RhbmNlLnZhbHVlICsgJycgfSApO1xyXG4gICAgICAgIEFTSUkuQWRqdXN0SW5wdXRXaWR0aChpbnB1dCwgZGl2KTtcclxuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvciA9PT0gdW5kZWZpbmVkID8gQ0VOVFJBTF9DT0xPUl8zIDogY29sb3I7XHJcbiAgICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgQVNJSS5BZGp1c3RJbnB1dFdpZHRoKGlucHV0LCBkaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS52YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gU3RyaW5nIiwgImltcG9ydCB7IEFGSGFuZGxlciwgQUZJLCBBRlJJIH0gZnJvbSBcImNsYXNzZXMvZnVuY3Rpb25zL2Z1bmN0aW9uXCI7XHJcbmltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IFNjb3BlIH0gZnJvbSBcImNsYXNzZXMvc2NvcGVcIjtcclxuaW1wb3J0IHsgQVMsIEFTSGFuZGxlciwgQVNJIH0gZnJvbSBcImNsYXNzZXMvc3RydWN0cy9zdHJ1Y3RcIjtcclxuaW1wb3J0IHsgSW1hZ2VGaWxlLCBWaWRlb0ZpbGUgfSBmcm9tIFwiLi9maWxlLXR5cGVzL3JlYWwtZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0SGFuZGxlciB7XHJcbiAgICBzdGF0aWMgR2V0VmFyaWFibGUob2JqOiBHRU9EM09iamVjdCB8IEdFT0QzT2JqZWN0UkksIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAob2JqLnZhcmlhYmxlc1tpXS5uYW1lID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnZhcmlhYmxlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhcmlhYmxlICcgKyBuYW1lICsgJyBub3QgZm91bmQgb24gb2JqZWN0ICcgKyBvYmouaWRJblNjZW5lICsgJzogJyArIG9iai5uYW1lKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBDcmVhdGVJSShvYmo6IEdFT0QzT2JqZWN0LCBhbnA6IEFwcEFuZFByb2plY3QsIGluc3BlY3RvckRpdjogSFRNTERpdkVsZW1lbnQpOiBHRU9EM09iamVjdElJIHtcclxuICAgICAgICByZXR1cm4gbmV3IEdFT0QzT2JqZWN0SUkob2JqLCBhbnAsIGluc3BlY3RvckRpdik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlUkkob2JqOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBvYmpEaXY6IEhUTUxEaXZFbGVtZW50KTogR0VPRDNPYmplY3RSSSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHRU9EM09iamVjdFJJKG9iaiwgYW5wLCBvYmpEaXYpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR0VPRDNPYmplY3Qge1xyXG4gICAgaWRJblNjZW5lOiBudW1iZXI7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBvblN0YXJ0OiBBRklbXTtcclxuICAgIG9uTmV3RnJhbWU6IEFGSVtdO1xyXG4gICAgdmFyaWFibGVzOiBBU0lbXTtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmlkSW5TY2VuZSA9IGlkO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdvYmplY3QnO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gW107XHJcbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gW107XHJcbiAgICAgICAgdGhpcy5vbk5ld0ZyYW1lID0gW107XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5zdHJpbmcsIFNjb3BlLlB1YmxpYywgJ1Nwcml0ZSBQYXRoJykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcHJpdGUgV2lkdGgnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ1Nwcml0ZSBIZWlnaHQnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ3gnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ3knKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ3onKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ1NwZWVkIHgnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ1NwZWVkIHknKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ1NwZWVkIHonKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ0FjY2VsZXJhdGlvbiB4JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdBY2NlbGVyYXRpb24geScpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnQWNjZWxlcmF0aW9uIHonKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5ib29sZWFuLCBTY29wZS5QdWJsaWMsICdEbyBSZWN0YW5ndWxhciBIaXRib3gnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ0hpdGJveCBSYWRpdXMvSGFsZiBXaWR0aCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnSGl0Ym94IEhhbGYgSGVpZ2h0JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdIaXRib3ggSGFsZiBUaGlja25lc3MnKSk7XHJcblxyXG4gICAgICAgIHRoaXMudmFyaWFibGVzWzFdLnZhbHVlID0gMTAwO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzWzJdLnZhbHVlID0gMTAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR0VPRDNPYmplY3RJSSB7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3Q7XHJcbiAgICBpbnN0YW5jZTogR0VPRDNPYmplY3Q7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IG5hbWVEaXYgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1pbnNwZWN0b3ItdG9wLWJhciBoYm94Jyk7XHJcbiAgICAgICAgbmFtZURpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiB0aGlzLmluc3RhbmNlLmlkSW5TY2VuZSArICc6JyB9ICk7XHJcbiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gbmFtZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMuaW5zdGFuY2UubmFtZSB9ICk7XHJcbiAgICAgICAgY29uc3QgZWRpdFNjcmlwdHNCdXR0b24gPSBuYW1lRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdFZGl0IFNjcmlwdHNcdUQ4M0RcdURDREMnIH0gKTtcclxuICAgICAgICBlZGl0U2NyaXB0c0J1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtc2Vjb25kYXJ5LWJ1dHRvbic7XHJcbiAgICAgICAgbmFtZUlucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLm5hbWUgPSBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVkaXRTY3JpcHRzQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFucC5wcm9qZWN0LnNjcmlwdEVkaXRvci5jdXJyZW50T2JqZWN0ID0gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgYW5wLnByb2plY3QuU3dpdGNoVG9UYWIoYW5wLnByb2plY3Quc2NyaXB0RWRpdG9yVGFiSUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2YXJpYWJsZXNEaXYgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1pbnNwZWN0b3ItdmFyaWFibGUtbGlzdCB2Ym94Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluc3RhbmNlLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBhc0kgPSB0aGlzLmluc3RhbmNlLnZhcmlhYmxlc1tpXTtcclxuICAgICAgICAgICAgY29uc3QgdmFyRGl2ID0gdmFyaWFibGVzRGl2LmNyZWF0ZURpdignZ2VvZDMtaW5zcGVjdG9yLXZhcmlhYmxlIGhib3gnKTtcclxuICAgICAgICAgICAgdmFyRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGFzSS5uYW1lIH0gKTtcclxuICAgICAgICAgICAgQVNIYW5kbGVyLkNyZWF0ZUlJKGFzSSwgdmFyRGl2LmNyZWF0ZURpdigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWRkTmV3RGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtaW5zcGVjdG9yLW5ldy12YXIgaGJveCcpO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWVJbnB1dCA9IGFkZE5ld0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICd1bm5hbWVkJyB9ICk7XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVUeXBlSW5wdXQgPSBhZGROZXdEaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG4gICAgICAgIGNvbnN0IGFkZFZhcmlhYmxlQnV0dG9uID0gYWRkTmV3RGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcblxyXG4gICAgICAgIGFkZFZhcmlhYmxlQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IEFTW2ldO1xyXG4gICAgICAgICAgICB2YXJpYWJsZVR5cGVJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiB0eXBlLCB2YWx1ZTogaSArICcnIH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyaWFibGVUeXBlSW5wdXQudmFsdWUgPSAnMSc7XHJcblxyXG4gICAgICAgIGFkZFZhcmlhYmxlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB2YXJpYWJsZU5hbWVJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluc3RhbmNlLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UudmFyaWFibGVzW2ldLm5hbWUgPT09IG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmV3VmFyID0gQVNIYW5kbGVyLkNyZWF0ZUkocGFyc2VJbnQodmFyaWFibGVUeXBlSW5wdXQudmFsdWUpLCBTY29wZS5QdWJsaWMsIG5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnZhcmlhYmxlcy5wdXNoKG5ld1Zhcik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhckRpdiA9IHZhcmlhYmxlc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3Rvci12YXJpYWJsZSBoYm94Jyk7XHJcbiAgICAgICAgICAgIG5ld1ZhckRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBuZXdWYXIubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIEFTSGFuZGxlci5DcmVhdGVJSShuZXdWYXIsIG5ld1ZhckRpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBHRU9EM09iamVjdFJJIHtcclxuICAgIGlkSW5TY2VuZTogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgb25TdGFydDogQUZSSVtdO1xyXG4gICAgb25OZXdGcmFtZTogQUZSSVtdO1xyXG4gICAgdmFyaWFibGVzOiBBU0lbXTtcclxuICAgIG9iakRpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3Q7XHJcbiAgICBwcml2YXRlIHByZXZTcHJpdGVQYXRoOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihvYmo6IEdFT0QzT2JqZWN0LCBhbnA6IEFwcEFuZFByb2plY3QsIG9iakRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmlkSW5TY2VuZSA9IG9iai5pZEluU2NlbmU7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gb2JqLm5hbWU7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm9uU3RhcnQgPSBbXTtcclxuICAgICAgICB0aGlzLm9uTmV3RnJhbWUgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ29weShvYmoudmFyaWFibGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLm9uU3RhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXJ0LnB1c2goQUZIYW5kbGVyLkNyZWF0ZVJJKG9iai5vblN0YXJ0W2ldLCBhbnApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoub25OZXdGcmFtZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9uTmV3RnJhbWUucHVzaChBRkhhbmRsZXIuQ3JlYXRlUkkob2JqLm9uTmV3RnJhbWVbaV0sIGFucCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iakRpdiA9IG9iakRpdjtcclxuICAgICAgICB0aGlzLmFucCA9IGFucDtcclxuICAgICAgICB0aGlzLnByZXZTcHJpdGVQYXRoID0gJyc7XHJcbiAgICAgICAgdGhpcy5TZXRPYmpEaXZDU1NQcm9wZXJ0aWVzKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIFNldE9iakRpdkNTU1Byb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCA1MCUpJztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIFJlZnJlc2hTcHJpdGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlUGF0aCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3ByaXRlIFBhdGgnKS52YWx1ZTtcclxuICAgICAgICBpZiAodGhpcy5wcmV2U3ByaXRlUGF0aCAhPT0gc3ByaXRlUGF0aCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFGaWxlID0gPEltYWdlRmlsZSB8IFZpZGVvRmlsZT4gdGhpcy5hbnAucHJvamVjdC5maWxlTWFuYWdlci5HZXRGaWxlQnlQcmltaXRpdmVQYXRoKHNwcml0ZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlU3JjID0gbWVkaWFGaWxlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVkaWFFbDtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFGaWxlIGluc3RhbmNlb2YgSW1hZ2VGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFFbCA9IHRoaXMub2JqRGl2LmNyZWF0ZUVsKCdpbWcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFFbCA9IHRoaXMub2JqRGl2LmNyZWF0ZUVsKCd2aWRlbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRWwuY29udHJvbHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUVsLmxvb3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWVkaWFFbC5zcmMgPSBzcHJpdGVTcmM7XHJcbiAgICAgICAgICAgICAgICBtZWRpYUVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgbWVkaWFFbC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZTcHJpdGVQYXRoID0gc3ByaXRlUGF0aDtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIHRvIGZpbmQgaW1hZ2UvdmlkZW8gcGF0aCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBTZXRMb2NhdGlvbkFuZFdpZHRoKCkge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcHJpdGUgV2lkdGgnKTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1Nwcml0ZSBIZWlnaHQnKTtcclxuICAgICAgICBjb25zdCB4ID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICd4Jyk7XHJcbiAgICAgICAgY29uc3QgeSA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAneScpO1xyXG4gICAgICAgIGNvbnN0IHogPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ3onKTtcclxuICAgICAgICBjb25zdCB4VmVsID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcGVlZCB4Jyk7XHJcbiAgICAgICAgY29uc3QgeVZlbCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3BlZWQgeScpO1xyXG4gICAgICAgIGNvbnN0IHpWZWwgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1NwZWVkIHonKTtcclxuICAgICAgICBjb25zdCB4QWNjZWwgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ0FjY2VsZXJhdGlvbiB4Jyk7XHJcbiAgICAgICAgY29uc3QgeUFjY2VsID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdBY2NlbGVyYXRpb24geScpO1xyXG4gICAgICAgIGNvbnN0IHpBY2NlbCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnQWNjZWxlcmF0aW9uIHonKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS53aWR0aCA9IHdpZHRoLnZhbHVlICsgJ3B4JztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5oZWlnaHQgPSBoZWlnaHQudmFsdWUgKyAncHgnO1xyXG5cclxuICAgICAgICB4VmVsLnZhbHVlICs9IHhBY2NlbC52YWx1ZTtcclxuICAgICAgICB5VmVsLnZhbHVlICs9IHlBY2NlbC52YWx1ZTtcclxuICAgICAgICB6VmVsLnZhbHVlICs9IHpBY2NlbC52YWx1ZTtcclxuXHJcbiAgICAgICAgeC52YWx1ZSArPSB4VmVsLnZhbHVlO1xyXG4gICAgICAgIHkudmFsdWUgKz0geVZlbC52YWx1ZTtcclxuICAgICAgICB6LnZhbHVlICs9IHpWZWwudmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUubGVmdCA9IHgudmFsdWUgKyAncHgnO1xyXG4gICAgICAgIHRoaXMub2JqRGl2LnN0eWxlLmJvdHRvbSA9IHkudmFsdWUgKyAncHgnO1xyXG4gICAgfVxyXG4gICAgUmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuUmVmcmVzaFNwcml0ZSgpO1xyXG4gICAgICAgIHRoaXMuU2V0TG9jYXRpb25BbmRXaWR0aCgpO1xyXG4gICAgfVxyXG4gICAgT25TdGFydCgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub25TdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhcnRbaV0uRXhlY3V0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9uTmV3RnJhbWUoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9uTmV3RnJhbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5ld0ZyYW1lW2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IFNjb3BlIH0gZnJvbSBcImNsYXNzZXMvc2NvcGVcIjtcclxuaW1wb3J0IHsgQUJvb2xlYW5JLCBBTnVtYmVySSwgQVMsIEFTSGFuZGxlciwgQVNJLCBBU3RyaW5nSSB9IGZyb20gXCJjbGFzc2VzL3N0cnVjdHMvc3RydWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0SGFuZGxlciB9IGZyb20gXCJjbGFzc2VzL3RhYnMvZ2VvZDMtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJHX0NPTE9SXzEsIEJHX0NPTE9SXzIsIEJHX0NPTE9SXzMsIEFDQ0VOVF9DT0xPUl8xLCBBQ0NFTlRfQ09MT1JfMiwgQUNDRU5UX0NPTE9SXzMsIENFTlRSQUxfQ09MT1JfMSwgQ0VOVFJBTF9DT0xPUl8yLCBDRU5UUkFMX0NPTE9SXzMsIFJFTU9WRV9DT0xPUl8xLCBSRU1PVkVfQ09MT1JfMiB9IGZyb20gXCJjb2xvcnNcIjtcclxuXHJcbmV4cG9ydCBlbnVtIEFGIHtcclxuICAgICdub25lJyxcclxuICAgICdjaGFpbicsXHJcbiAgICAnZ2V0JyxcclxuICAgICdzZXQnLFxyXG4gICAgJ2lmJyxcclxuICAgICdpZmVsc2UnLFxyXG4gICAgJ2NvbXBhcmUnLFxyXG4gICAgJ2tleWRvd24nLFxyXG4gICAgJ2FkZCdcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFGSGFuZGxlciB7XHJcbiAgICBzdGF0aWMgQ29weShvYmo6IEFGSSk6IEFGSSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyUGFyYW0gPSBvYmoucGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJQYXJhbSBpbnN0YW5jZW9mIEFGSSkge1xyXG4gICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2godGhpcy5Db3B5KGN1cnJQYXJhbSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2goQVNIYW5kbGVyLkNvcHkoY3VyclBhcmFtKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoKG9iai50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQUYubm9uZTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jaGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNoYWluSSg8QUZJW10+IG5ld1BhcmFtcyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuZ2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBR2V0SSg8QVNJW10+IG5ld1BhcmFtcyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuc2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU2V0SShuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZJKG5ld1BhcmFtcyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuaWZlbHNlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZFbHNlSShuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNvbXBhcmU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDb21wYXJlSShuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmtleWRvd246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFLZXlkb3duSShuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmFkZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUFkZEkobmV3UGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSSh0eXBlOiBBRiwgcGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXSB8IHVuZGVmaW5lZCk6IEFGSSB7XHJcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBRi5ub25lOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNoYWluOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ2hhaW5JKDxBRklbXSB8IHVuZGVmaW5lZD4gcGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuZ2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBR2V0SSg8QVNJW10gfCB1bmRlZmluZWQ+IHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLnNldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNldEkocGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuaWY6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFJZkkocGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuaWZlbHNlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZFbHNlSShwYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jb21wYXJlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ29tcGFyZUkocGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYua2V5ZG93bjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUtleWRvd25JKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmFkZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUFkZEkocGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUVJKG9iajogQUZJLCBibG9ja0RpdjogSFRNTERpdkVsZW1lbnQsIGFucDogQXBwQW5kUHJvamVjdCk6IEFGRUkge1xyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNoYWluOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ2hhaW5FSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuc2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU2V0RUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5pZjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5pZmVsc2U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFJZkVsc2VFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNvbXBhcmU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDb21wYXJlRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5rZXlkb3duOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBS2V5ZG93bkVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuYWRkOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQWRkRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlUkkob2JqOiBBRkksIGFucDogQXBwQW5kUHJvamVjdCk6IEFGUkkge1xyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY2hhaW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDaGFpblJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5nZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFHZXRSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuc2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBU2V0Ukkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZSSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuaWZlbHNlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZFbHNlUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNvbXBhcmU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDb21wYXJlUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmtleWRvd246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFLZXlkb3duUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmFkZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUFkZFJJKG9iaiwgYW5wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vI3JlZ2lvbiBBYnN0cmFjdCBDbGFzc2VzXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBRkkge1xyXG4gICAgdHlwZTogQUY7XHJcbiAgICBkZWZhdWx0UGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXTtcclxuICAgIHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gW107XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBRkVJIHtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIGluc3RhbmNlOiBBRkk7XHJcbiAgICBkaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcGFyZW50RUk6IEFGRUkgfCB1bmRlZmluZWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZTogQUZJLCBibG9ja0RpdjogSFRNTERpdkVsZW1lbnQsIGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmRpdiA9IGJsb2NrRGl2O1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheUJsb2NrKCk7XHJcbiAgICB9XHJcbiAgICBhYnN0cmFjdCBEaXNwbGF5QmxvY2soKTogdm9pZDtcclxuICAgIHN0YXRpYyBBZGp1c3RJbnB1dFdpZHRoKGlucHV0OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQsIGRpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCB0ZW1wRWwgPSBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogaW5wdXQudmFsdWUgfSApO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgdGVtcEVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5mb250ID0gJ2luaGVyaXQnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS5wYWRkaW5nID0gJzF2aCc7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSB0ZW1wRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG4gICAgICAgIHRlbXBFbC5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIENyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KGluZGV4OiBudW1iZXIsIHBhcmFtRGl2OiBIVE1MRGl2RWxlbWVudCwgYmFja2dyb3VuZENvbG9yOiBzdHJpbmcpOiB2b2lkIHwgQUZFSSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbaW5kZXhdO1xyXG4gICAgICAgIGlmIChwYXJhbSBpbnN0YW5jZW9mIEFTSSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5DcmVhdGVBU0lQYXJhbWV0ZXJEaXYoaW5kZXgsIHBhcmFtRGl2LCBiYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdihpbmRleCwgcGFyYW1EaXYsIGJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgQ3JlYXRlQVNJUGFyYW1ldGVyRGl2KGluZGV4OiBudW1iZXIsIHBhcmFtRGl2OiBIVE1MRGl2RWxlbWVudCwgYmFja2dyb3VuZENvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBBRkVJLlNldFBhcmFtZXRlckRpdih0aGlzLmFucCwgdGhpcywgcGFyYW1EaXYsIGluZGV4KTtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpbmRleF07XHJcbiAgICAgICAgQVNIYW5kbGVyLkNyZWF0ZUlJKHBhcmFtLCBwYXJhbURpdiwgYmFja2dyb3VuZENvbG9yKTtcclxuICAgIH1cclxuICAgIENyZWF0ZUFGSVBhcmFtZXRlckRpdihpbmRleDogbnVtYmVyLCBwYXJhbURpdjogSFRNTERpdkVsZW1lbnQsIGJhY2tncm91bmRDb2xvcjogc3RyaW5nKTogQUZFSSB7XHJcbiAgICAgICAgQUZFSS5TZXRQYXJhbWV0ZXJEaXYodGhpcy5hbnAsIHRoaXMsIHBhcmFtRGl2LCBpbmRleCk7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSA8QUZJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtRUkgPSBBRkhhbmRsZXIuQ3JlYXRlRUkocGFyYW0sIHBhcmFtRGl2LCB0aGlzLmFucCk7XHJcbiAgICAgICAgcGFyYW1FSS5wYXJlbnRFSSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHBhcmFtRUkuaW5zdGFuY2UudHlwZSA9PT0gQUYubm9uZSkge1xyXG4gICAgICAgICAgICBwYXJhbUVJLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUocGFyYW1FSSwgdGhpcy5hbnAsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtRUk7XHJcbiAgICB9XHJcbiAgICBSZW1vdmVQYXJhbWV0ZXIocGFyYW1ldGVyOiBBRkkpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldID09PSBwYXJhbWV0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJEZWZhdWx0UGFyYW0gPSB0aGlzLmluc3RhbmNlLmRlZmF1bHRQYXJhbWV0ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldID0gY3VyckRlZmF1bHRQYXJhbSBpbnN0YW5jZW9mIEFTSSA/IEFTSGFuZGxlci5Db3B5KGN1cnJEZWZhdWx0UGFyYW0pIDogQUZIYW5kbGVyLkNvcHkoY3VyckRlZmF1bHRQYXJhbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgTWFrZUJsb2NrRHJhZ2dhYmxlKGJsb2NrOiBBRkVJLCBhbnA6IEFwcEFuZFByb2plY3QsIGlzQ29weTogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHNjcmlwdEVkaXRvciA9IGFucC5wcm9qZWN0LnNjcmlwdEVkaXRvcjtcclxuICAgICAgICBibG9jay5kaXYuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgICAgICBibG9jay5kaXYuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2ZlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnY29weSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9ja0lzQ29weSA9IGlzQ29weTtcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jayA9IGJsb2NrO1xyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuYmxvY2tzRGl2LnN0eWxlLmhlaWdodCA9ICc5MCUnO1xyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuZGVsRGl2LnN0eWxlLmhlaWdodCA9ICcxMCUnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBibG9jay5kaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzY3JpcHRFZGl0b3IuYmxvY2tzRGl2LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmRlbERpdi5zdHlsZS5oZWlnaHQgPSAnMCUnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBTZXRQYXJhbWV0ZXJEaXYoYW5wOiBBcHBBbmRQcm9qZWN0LCBhZmVpOiBBRkVJLCBwYXJhbURpdjogSFRNTERpdkVsZW1lbnQsIHBhcmFtSW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHNjcmlwdEVkaXRvciA9IGFucC5wcm9qZWN0LnNjcmlwdEVkaXRvcjtcclxuXHJcbiAgICAgICAgcGFyYW1EaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2ZlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcImNvcHlcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJhbURpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgICAgIHBhcmFtRGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhcmFtRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBwYXJhbURpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICcnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYXJhbURpdi5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmIChzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRDb3B5ID0gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9ja0lzQ29weTtcclxuICAgICAgICAgICAgY29uc3QgZHJvcHBlZEJsb2NrID0gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jaztcclxuICAgICAgICAgICAgY29uc3QgbmV3SW5zdGFuY2UgPSBzaG91bGRDb3B5ID8gQUZIYW5kbGVyLkNvcHkoZHJvcHBlZEJsb2NrLmluc3RhbmNlKSA6IGRyb3BwZWRCbG9jay5pbnN0YW5jZTtcclxuICAgICAgICAgICAgYWZlaS5pbnN0YW5jZS5wYXJhbWV0ZXJzW3BhcmFtSW5kZXhdID0gbmV3SW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGlmICghKGRyb3BwZWRCbG9jay5wYXJlbnRFSSA9PT0gdW5kZWZpbmVkIHx8IHNob3VsZENvcHkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRFSSA9IGRyb3BwZWRCbG9jay5wYXJlbnRFSTtcclxuICAgICAgICAgICAgICAgIHBhcmVudEVJLlJlbW92ZVBhcmFtZXRlcihkcm9wcGVkQmxvY2suaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RUkuRGlzcGxheUJsb2NrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWZlaS5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jayA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFGUkkge1xyXG4gICAgdHlwZTogQUY7XHJcbiAgICBwYXJhbWV0ZXJzOiAoQVNJIHwgQUZSSSlbXTtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIGFic3RyYWN0IEV4ZWN1dGUoKTogUHJvbWlzZTxhbnk+O1xyXG4gICAgY29uc3RydWN0b3Iob2dGdW5jdGlvbjogQUZJLCBhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSBvZ0Z1bmN0aW9uLnR5cGU7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvZ0Z1bmN0aW9uLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2dQYXJhbSA9IG9nRnVuY3Rpb24ucGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgbGV0IGNvcHk7XHJcbiAgICAgICAgICAgIGlmIChvZ1BhcmFtIGluc3RhbmNlb2YgQVNJKSB7XHJcbiAgICAgICAgICAgICAgICBjb3B5ID0gQVNIYW5kbGVyLkNvcHkob2dQYXJhbSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3B5ID0gQUZIYW5kbGVyLkNyZWF0ZVJJKG9nUGFyYW0sIGFucCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goY29weSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBBYnN0cmFjdCBDbGFzc2VzXHJcblxyXG4vLyNyZWdpb24gRG8gTm90aGluZ1xyXG5leHBvcnQgY2xhc3MgQURvTm90aGluZ0kgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLm5vbmU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBRG9Ob3RoaW5nRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBRG9Ob3RoaW5nSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrJztcclxuICAgICAgICB0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBCR19DT0xPUl8zO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFEb05vdGhpbmdSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHt9XHJcbn1cclxuLy8jZW5kcmVnaW9uIERvIE5vdGhpbmdcclxuXHJcbi8vI3JlZ2lvbiBDaGFpblxyXG5leHBvcnQgY2xhc3MgQUNoYWluSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuY2hhaW47XHJcbiAgICBkZWZhdWx0UGFyYW1ldGVyczogQUZJW107XHJcbiAgICBwYXJhbWV0ZXJzOiBBRklbXTtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBRkkpW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGNvbnN0IGRvTm90aGluZyA9IG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMucHVzaChkb05vdGhpbmcpO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBRkhhbmRsZXIuQ29weShkb05vdGhpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQ2hhaW5FSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFDaGFpbkk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayB2Ym94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQkdfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMXZoJztcclxuICAgICAgICBkaXYuc3R5bGUuZ2FwID0gJzF2aCc7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckJsb2NrRGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrLWlubmVyLXNlY3Rpb24gaGJveCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gY3VyckJsb2NrRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICctJyB9ICk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGN1cnJCbG9ja0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1yZW1vdmUtYnV0dG9uJztcclxuICAgICAgICAgICAgYWRkQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLnNwbGljZShpbmRleCwgMCwgbmV3IEFEb05vdGhpbmdJKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5DcmVhdGVBRklQYXJhbWV0ZXJEaXYoaW5kZXgsIGN1cnJCbG9ja0Rpdi5jcmVhdGVEaXYoKSwgQkdfQ09MT1JfMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcblxyXG4gICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMuc3BsaWNlKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGgsIDAsIG5ldyBBRG9Ob3RoaW5nSSgpKTtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBSZW1vdmVQYXJhbWV0ZXIocGFyYW1ldGVyOiBBRkkpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldID09PSBwYXJhbWV0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9IEFGSGFuZGxlci5Db3B5KHRoaXMuaW5zdGFuY2UuZGVmYXVsdFBhcmFtZXRlcnNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUNoYWluUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFGUklbXTtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJhbWV0ZXJzW2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIENoYWluXHJcblxyXG4vLyNyZWdpb24gR2V0XHJcbmV4cG9ydCBjbGFzcyBBR2V0SSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuZ2V0O1xyXG4gICAgcGFyYW1ldGVyczogQVNJW107XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiBBU0lbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSBuZXcgQVN0cmluZ0koU2NvcGUuVmFsdWUsICdWYXJpYWJsZSBOYW1lJyk7XHJcbiAgICAgICAgb2JqSW5kZXgudmFsdWUgPSAwO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbdmFyTmFtZSwgb2JqSW5kZXhdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weSh2YXJOYW1lKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG9iakluZGV4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUdldEVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUdldEk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayBoYm94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8yO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzM7XHJcbiAgICAgICAgY29uc3QgYW5wID0gdGhpcy5hbnA7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSUQgPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV07XHJcblxyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnR2V0JyB9ICk7XHJcbiAgICAgICAgY29uc3QgdmFyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnZnJvbScgfSApO1xyXG4gICAgICAgIGNvbnN0IG9iakRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqSURJbnB1dCA9IG9iakRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZUlucHV0ID0gdmFyRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzM7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMCc7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcwJztcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb2JqSURJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBpICsgJzogJyArIG9iakFycltpXS5uYW1lLCB2YWx1ZTogaSArICc6ICcgKyBvYmpBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBHZXRBbGxWYXJOYW1lcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyTmFtZUlucHV0LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iakFyciA9IGFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzO1xyXG4gICAgICAgICAgICBjb25zdCB2YXJBcnIgPSBvYmpBcnJbdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdLnZhbHVlXS52YXJpYWJsZXM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXJOYW1lSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogdmFyQXJyW2ldLm5hbWUsIHZhbHVlOiB2YXJBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqSURJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdLnZhbHVlID0gcGFyc2VJbnQob2JqSURJbnB1dC52YWx1ZS5zcGxpdCgnOicpWzBdKTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKG9iaklESW5wdXQsIGRpdik7XHJcbiAgICAgICAgICAgIEdldEFsbFZhck5hbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhck5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdLnZhbHVlID0gdmFyTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodmFyTmFtZUlucHV0LCBkaXYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgR2V0QWxsVmFyTmFtZXMoKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC52YWx1ZSA9IG9iaklELnZhbHVlICsgJzogJyArIG9iakFycltvYmpJRC52YWx1ZV0ubmFtZTtcclxuICAgICAgICB2YXJOYW1lSW5wdXQudmFsdWUgPSB2YXJOYW1lLnZhbHVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0LCBkaXYpO1xyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBR2V0UkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFTSVtdO1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPEFTST4ge1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSW5kZXggPSB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5hbnAucHJvamVjdC5nYW1lVmlldy5vYmplY3RzW29iakluZGV4LnZhbHVlXTtcclxuICAgICAgICByZXR1cm4gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKG9iaiwgdmFyTmFtZS52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEdldFxyXG5cclxuLy8jcmVnaW9uIFNldFxyXG5leHBvcnQgY2xhc3MgQVNldEkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLnNldDtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ1ZhcmlhYmxlIE5hbWUnKTtcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIG9iakluZGV4LnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW3Zhck5hbWUsIG9iakluZGV4XTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFyTmFtZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShvYmpJbmRleCkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlZhbHVlLCAnJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTZXRFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFTZXRJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG4gICAgICAgIGNvbnN0IGFucCA9IHRoaXMuYW5wO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJOYW1lID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IG9iaklEID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1NldCcgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhckRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ2Zyb20nIH0gKTtcclxuICAgICAgICBjb25zdCBvYmpEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICd0bycgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpJRElucHV0ID0gb2JqRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCB2YXJOYW1lSW5wdXQgPSB2YXJEaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuICAgICAgICB2YXJOYW1lSW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcwJztcclxuICAgICAgICB2YXJOYW1lSW5wdXQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzAnO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpBcnIgPSBhbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iakFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvYmpJRElucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGkgKyAnOiAnICsgb2JqQXJyW2ldLm5hbWUsIHZhbHVlOiBpICsgJzogJyArIG9iakFycltpXS5uYW1lIH0gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IEdldEFsbFZhck5hbWVzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXJOYW1lSW5wdXQuZW1wdHkoKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhckFyciA9IG9iakFyclsoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdKS52YWx1ZV0udmFyaWFibGVzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhckFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyTmFtZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IHZhckFycltpXS5uYW1lLCB2YWx1ZTogdmFyQXJyW2ldLm5hbWUgfSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YWx1ZURpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzJdIGluc3RhbmNlb2YgQUZJKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdigyLCB2YWx1ZURpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3JlYXRlQVNJUGFyYW1ldGVyRGl2KDIsIHZhbHVlRGl2LCBDRU5UUkFMX0NPTE9SXzMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG9iaklESW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV0pLnZhbHVlID0gcGFyc2VJbnQob2JqSURJbnB1dC52YWx1ZS5zcGxpdCgnOicpWzBdKTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKG9iaklESW5wdXQsIGRpdik7XHJcbiAgICAgICAgICAgIEdldEFsbFZhck5hbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhck5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXSkudmFsdWUgPSB2YXJOYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBHZXRBbGxWYXJOYW1lcygpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnZhbHVlID0gb2JqSUQudmFsdWUgKyAnOiAnICsgb2JqQXJyW29iaklELnZhbHVlXS5uYW1lO1xyXG4gICAgICAgIHZhck5hbWVJbnB1dC52YWx1ZSA9IHZhck5hbWUudmFsdWU7XHJcblxyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0LCBkaXYpO1xyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Rpc3BsYXllZCBzZXQnKTtcclxuICAgIH1cclxuICAgIG92ZXJyaWRlIFJlbW92ZVBhcmFtZXRlcihwYXJhbWV0ZXI6IEFGSSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMl0gPT09IHBhcmFtZXRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UGFyYW0gPSBBU0hhbmRsZXIuQ3JlYXRlSSgoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdKS50eXBlLCBTY29wZS5WYWx1ZSwgJycpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMl0gPSBkZWZhdWx0UGFyYW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNldFJJIGV4dGVuZHMgQUZSSSB7XHJcbiAgICBhc3luYyBFeGVjdXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSA8QVNJPiB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSW5kZXggPSA8QVNJPiB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5wYXJhbWV0ZXJzWzJdO1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuYW5wLnByb2plY3QuZ2FtZVZpZXcub2JqZWN0c1tvYmpJbmRleC52YWx1ZV07XHJcbiAgICAgICAgY29uc3QgdmFyVG9TZXQgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUob2JqLCB2YXJOYW1lLnZhbHVlKTtcclxuICAgICAgICB2YXJUb1NldC52YWx1ZSA9IHZhbCBpbnN0YW5jZW9mIEFGUkkgPyAoYXdhaXQgdmFsLkV4ZWN1dGUoKSkudmFsdWUgOiB2YWwudmFsdWU7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIFNldFxyXG5cclxuLy8jcmVnaW9uIElmXHJcbmV4cG9ydCBjbGFzcyBBSWZJIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5pZjtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IEFCb29sZWFuSShTY29wZS5WYWx1ZSwgJ2NvbmRpdGlvbicpO1xyXG4gICAgICAgIGNvbnN0IGRvTm90aGluZyA9IG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgIGNvbmRpdGlvbi52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbY29uZGl0aW9uLCBkb05vdGhpbmddO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShjb25kaXRpb24pKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQUZIYW5kbGVyLkNvcHkoZG9Ob3RoaW5nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUlmRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBSWZJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgdmJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IEFDQ0VOVF9DT0xPUl8yO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzM7XHJcblxyXG4gICAgICAgIGNvbnN0IHRvcERpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jay1pbm5lci1zZWN0aW9uIGhib3gnKTtcclxuICAgICAgICB0b3BEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0lmJyB9ICk7XHJcbiAgICAgICAgY29uc3QgY29uZGl0aW9uRGl2ID0gdG9wRGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDAsIGNvbmRpdGlvbkRpdiwgQUNDRU5UX0NPTE9SXzMpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlQUZJUGFyYW1ldGVyRGl2KDEsIGZ1bmN0aW9uRGl2LCBBQ0NFTlRfQ09MT1JfMyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBSWZSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwYXJhbTEgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmFtMUlzQUZSSSA9IHBhcmFtMSBpbnN0YW5jZW9mIEFGUkk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IHBhcmFtMUlzQUZSSSA/IChhd2FpdCBwYXJhbTEuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbTIgPSA8QUZSST4gdGhpcy5wYXJhbWV0ZXJzWzFdO1xyXG4gICAgICAgICAgICBhd2FpdCBwYXJhbTIuRXhlY3V0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gSWZcclxuXHJcbi8vI3JlZ2lvbiBJZiBFbHNlXHJcbmV4cG9ydCBjbGFzcyBBSWZFbHNlSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuaWZlbHNlO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBjb25kaXRpb24gPSBuZXcgQUJvb2xlYW5JKFNjb3BlLlZhbHVlLCAnY29uZGl0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgZG9Ob3RoaW5nID0gbmV3IEFEb05vdGhpbmdJKCk7XHJcbiAgICAgICAgY29uc3QgZG9Ob3RoaW5nMiA9IG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgIGNvbmRpdGlvbi52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbY29uZGl0aW9uLCBkb05vdGhpbmcsIGRvTm90aGluZzJdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShjb25kaXRpb24pKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQUZIYW5kbGVyLkNvcHkoZG9Ob3RoaW5nKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFGSGFuZGxlci5Db3B5KGRvTm90aGluZzIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBSWZFbHNlRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBSWZFbHNlSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMuZGl2O1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrIHZib3gnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBjb25zdCB0b3BEaXYgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2staW5uZXItc2VjdGlvbiBoYm94Jyk7XHJcbiAgICAgICAgdG9wRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdJZicgfSApO1xyXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbkRpdiA9IHRvcERpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBjb25zdCBmdW5jdGlvbjFEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdFbHNlJyB9ICk7XHJcbiAgICAgICAgY29uc3QgZnVuY3Rpb24yRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDAsIGNvbmRpdGlvbkRpdiwgQUNDRU5UX0NPTE9SXzMpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlQUZJUGFyYW1ldGVyRGl2KDEsIGZ1bmN0aW9uMURpdiwgQUNDRU5UX0NPTE9SXzMpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlQUZJUGFyYW1ldGVyRGl2KDIsIGZ1bmN0aW9uMkRpdiwgQUNDRU5UX0NPTE9SXzMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUlmRWxzZVJJIGV4dGVuZHMgQUZSSSB7XHJcbiAgICBhc3luYyBFeGVjdXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMSA9IHRoaXMucGFyYW1ldGVyc1swXTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyYW0xSXNBRlJJID0gcGFyYW0xIGluc3RhbmNlb2YgQUZSSTtcclxuXHJcbiAgICAgICAgY29uc3QgY29uZGl0aW9uID0gcGFyYW0xSXNBRlJJID8gKGF3YWl0IHBhcmFtMS5FeGVjdXRlKCkpLnZhbHVlIDogcGFyYW0xLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtMiA9IDxBRlJJPiB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgICAgIGF3YWl0IHBhcmFtMi5FeGVjdXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW0zID0gPEFGUkk+IHRoaXMucGFyYW1ldGVyc1syXTtcclxuICAgICAgICAgICAgYXdhaXQgcGFyYW0zLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIElmIEVsc2VcclxuXHJcbi8vI3JlZ2lvbiBDb21wYXJlXHJcbmV4cG9ydCBjbGFzcyBBQ29tcGFyZUkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLmNvbXBhcmU7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IHZhbDEgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICd2YWwxJyk7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ2NvbXBhcmlzb24gdHlwZScpO1xyXG4gICAgICAgIGNvbnN0IHZhbDIgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICd2YWwyJyk7XHJcbiAgICAgICAgdmFsMS52YWx1ZSA9IDA7XHJcbiAgICAgICAgdHlwZS52YWx1ZSA9ICc9JztcclxuICAgICAgICB2YWwyLnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW3ZhbDEsIHR5cGUsIHZhbDJdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weSh2YWwxKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KHR5cGUpKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFsMikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFDb21wYXJlRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBQ29tcGFyZUk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayBoYm94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8xO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzM7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbDFEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgY29uc3QgdHlwZVNlbGVjdCA9IGRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgdmFsMkRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5DcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdigwLCB2YWwxRGl2LCBDRU5UUkFMX0NPTE9SXzMpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlQVNJT3JBRklQYXJhbWV0ZXJEaXYoMiwgdmFsMkRpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuXHJcbiAgICAgICAgdHlwZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiAnPScsIHZhbHVlOiAnPScgfSApO1xyXG4gICAgICAgIHR5cGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJyE9JywgdmFsdWU6ICchPScgfSApO1xyXG4gICAgICAgIHR5cGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJzwnLCB2YWx1ZTogJzwnIH0gKTtcclxuICAgICAgICB0eXBlU2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICc+JywgdmFsdWU6ICc+JyB9ICk7XHJcbiAgICAgICAgdHlwZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiAnPD0nLCB2YWx1ZTogJzw9JyB9ICk7XHJcbiAgICAgICAgdHlwZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiAnPj0nLCB2YWx1ZTogJz49JyB9ICk7XHJcblxyXG4gICAgICAgIHR5cGVTZWxlY3QudmFsdWUgPSAoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdKS52YWx1ZTtcclxuICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodHlwZVNlbGVjdCwgZGl2KTtcclxuXHJcbiAgICAgICAgdHlwZVNlbGVjdC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXSkudmFsdWUgPSB0eXBlU2VsZWN0LnZhbHVlO1xyXG4gICAgICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodHlwZVNlbGVjdCwgZGl2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHR5cGVTZWxlY3Quc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8zO1xyXG4gICAgICAgIHR5cGVTZWxlY3Quc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzAnO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUNvbXBhcmVSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPEFCb29sZWFuST4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMSA9IHRoaXMucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBwYXJhbTIgPSA8QVNJPiB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgY29uc3QgcGFyYW0zID0gdGhpcy5wYXJhbWV0ZXJzWzJdO1xyXG5cclxuICAgICAgICBjb25zdCBwYXJhbTFJc0FGUkkgPSBwYXJhbTEgaW5zdGFuY2VvZiBBRlJJO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtM0lzQUZSSSA9IHBhcmFtMyBpbnN0YW5jZW9mIEFGUkk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbDEgPSBwYXJhbTFJc0FGUkkgPyAoYXdhaXQgcGFyYW0xLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTEudmFsdWU7XHJcbiAgICAgICAgY29uc3QgdmFsMiA9IHBhcmFtM0lzQUZSSSA/IChhd2FpdCBwYXJhbTMuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMy52YWx1ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV3IEFCb29sZWFuSShTY29wZS5WYWx1ZSwgJ291dHB1dCcpO1xyXG4gICAgICAgIHN3aXRjaChwYXJhbTIudmFsdWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnPSc6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxID09PSB2YWwyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJyE9JzpcclxuICAgICAgICAgICAgICAgIG91dHB1dC52YWx1ZSA9IHZhbDEgIT09IHZhbDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnPCc6XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxIDwgdmFsMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgICAgIG91dHB1dC52YWx1ZSA9IHZhbDEgPiB2YWwyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzw9JzpcclxuICAgICAgICAgICAgICAgIG91dHB1dC52YWx1ZSA9IHZhbDEgPD0gdmFsMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICc+PSc6XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxID49IHZhbDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIENvbXBhcmVcclxuXHJcbi8vI3JlZ2lvbiBLZXlkb3duXHJcbmV4cG9ydCBjbGFzcyBBS2V5ZG93bkkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLmtleWRvd247XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IGtleSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ2tleScpO1xyXG4gICAgICAgIGtleS52YWx1ZSA9ICdBbnknO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBba2V5XTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkoa2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGtleWxpc3QgPSBbXHJcbiAgICAgICAgJ0FueScsXHJcbiAgICAgICAgJ1NwYWNlJyxcclxuICAgICAgICAnVXAgQXJyb3cnLFxyXG4gICAgICAgICdEb3duIEFycm93JyxcclxuICAgICAgICAnTGVmdCBBcnJvdycsXHJcbiAgICAgICAgJ1JpZ2h0IEFycm93JyxcclxuICAgICAgICAnQScsXHJcbiAgICAgICAgJ0InLFxyXG4gICAgICAgICdDJyxcclxuICAgICAgICAnRCcsXHJcbiAgICAgICAgJ0UnLFxyXG4gICAgICAgICdGJyxcclxuICAgICAgICAnRycsXHJcbiAgICAgICAgJ0gnLFxyXG4gICAgICAgICdJJyxcclxuICAgICAgICAnSicsXHJcbiAgICAgICAgJ0snLFxyXG4gICAgICAgICdMJyxcclxuICAgICAgICAnTScsXHJcbiAgICAgICAgJ04nLFxyXG4gICAgICAgICdPJyxcclxuICAgICAgICAnUCcsXHJcbiAgICAgICAgJ1EnLFxyXG4gICAgICAgICdSJyxcclxuICAgICAgICAnUycsXHJcbiAgICAgICAgJ1QnLFxyXG4gICAgICAgICdVJyxcclxuICAgICAgICAnVicsXHJcbiAgICAgICAgJ1cnLFxyXG4gICAgICAgICdYJyxcclxuICAgICAgICAnWScsXHJcbiAgICAgICAgJ1onXHJcbiAgICBdXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBS2V5ZG93bkVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUtleWRvd25JO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMTtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBjb25zdCBrZXlTZWxlY3QgPSBkaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnS2V5IERvd24/JyB9ICk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQUtleWRvd25JLmtleWxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycktleSA9IEFLZXlkb3duSS5rZXlsaXN0W2ldO1xyXG4gICAgICAgICAgICBrZXlTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogY3VycktleSwgdmFsdWU6IGN1cnJLZXkgfSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAga2V5U2VsZWN0LnZhbHVlID0gKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXSkudmFsdWU7XHJcbiAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKGtleVNlbGVjdCwgZGl2KTtcclxuXHJcbiAgICAgICAga2V5U2VsZWN0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdKS52YWx1ZSA9IGtleVNlbGVjdC52YWx1ZTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKGtleVNlbGVjdCwgZGl2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGtleVNlbGVjdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzM7XHJcbiAgICAgICAga2V5U2VsZWN0LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcwJztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFLZXlkb3duUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTxBQm9vbGVhbkk+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSA8QVNJPiB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV3IEFCb29sZWFuSShTY29wZS5WYWx1ZSwgJ291dHB1dCcpO1xyXG4gICAgICAgIGNvbnN0IGlzS2V5RG93biA9IHRoaXMuYW5wLnByb2plY3QuZ2FtZVZpZXcucHJlc3NlZEtleXMuZ2V0KGtleS52YWx1ZSk7XHJcbiAgICAgICAgb3V0cHV0LnZhbHVlID0gaXNLZXlEb3duID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGlzS2V5RG93bjtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coaXNLZXlEb3duKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gS2V5ZG93blxyXG5cclxuLy8jcmVnaW9uIEFkZFxyXG5leHBvcnQgY2xhc3MgQUFkZEkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLmFkZDtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgbnVtMSA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ251bTEnKTtcclxuICAgICAgICBjb25zdCBudW0yID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAnbnVtMicpO1xyXG4gICAgICAgIG51bTEudmFsdWUgPSAwO1xyXG4gICAgICAgIG51bTIudmFsdWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbbnVtMSwgbnVtMl07XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG51bTEpKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkobnVtMikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFBZGRFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFBZGRJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMTtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBjb25zdCBudW0xRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnKycgfSApO1xyXG4gICAgICAgIGNvbnN0IG51bTJEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcblxyXG4gICAgICAgIHRoaXMuQ3JlYXRlQVNJT3JBRklQYXJhbWV0ZXJEaXYoMCwgbnVtMURpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDEsIG51bTJEaXYsIENFTlRSQUxfQ09MT1JfMyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQWRkUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTxBTnVtYmVyST4ge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMSA9IHRoaXMucGFyYW1ldGVyc1swXTtcclxuICAgICAgICBjb25zdCBwYXJhbTIgPSB0aGlzLnBhcmFtZXRlcnNbMV07XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmFtMUlzQUZSSSA9IHBhcmFtMSBpbnN0YW5jZW9mIEFGUkk7XHJcbiAgICAgICAgY29uc3QgcGFyYW0ySXNBRlJJID0gcGFyYW0yIGluc3RhbmNlb2YgQUZSSTtcclxuXHJcbiAgICAgICAgY29uc3QgbnVtMSA9IHBhcmFtMUlzQUZSSSA/IChhd2FpdCBwYXJhbTEuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMS52YWx1ZTtcclxuICAgICAgICBjb25zdCBudW0yID0gcGFyYW0ySXNBRlJJID8gKGF3YWl0IHBhcmFtMi5FeGVjdXRlKCkpLnZhbHVlIDogcGFyYW0yLnZhbHVlO1xyXG5cclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICdzdW0nKTtcclxuICAgICAgICBvdXRwdXQudmFsdWUgPSBudW0xICsgbnVtMjtcclxuXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxufVxyXG4vLyNlbmRyZWdpb24gQWRkXHJcbiIsICJpbXBvcnQgeyBBS2V5ZG93bkkgfSBmcm9tIFwiY2xhc3Nlcy9mdW5jdGlvbnMvZnVuY3Rpb25cIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3RIYW5kbGVyLCBHRU9EM09iamVjdFJJIH0gZnJvbSBcIi4vZ2VvZDMtb2JqZWN0XCI7XHJcbmltcG9ydCB7IFRhYiB9IGZyb20gXCIuL3RhYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVWaWV3IGV4dGVuZHMgVGFiIHtcclxuICAgIHN0YXRpYyBvdmVycmlkZSBpY29uID0gJ1x1MjVCNlx1RkUwRic7XHJcbiAgICBnYW1lRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHN0aWxsUnVubmluZzogYm9vbGVhbjtcclxuICAgIG9iamVjdHM6IEdFT0QzT2JqZWN0UklbXTtcclxuICAgIHByZXNzZWRLZXlzOiBNYXA8c3RyaW5nLCBib29sZWFuPjtcclxuICAgIGdldCBwcmVzc2VkS2V5c0FycmF5KCk6IFtzdHJpbmcsIGJvb2xlYW5dW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucHJlc3NlZEtleXMuZW50cmllcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBGb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1nYW1lLXZpZXctbWFpbi1kaXYgZ2VvZDMtdGFiLWNvbnRhaW5lcic7XHJcbiAgICAgICAgY29uc3QgZ2FtZVdyYXBwZXIgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1nYW1lLXdyYXBwZXInKTtcclxuICAgICAgICB0aGlzLmdhbWVEaXYgPSBnYW1lV3JhcHBlci5jcmVhdGVEaXYoJ2dlb2QzLWdhbWUnKTtcclxuICAgICAgICB0aGlzLnN0aWxsUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzID0gW107XHJcbiAgICAgICAgdGhpcy5wcmVzc2VkS2V5cyA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy5MaXN0ZW5Gb3JLZXlQcmVzc2VzKCk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuT25TdGFydCgpO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLnN0aWxsUnVubmluZykge1xyXG4gICAgICAgICAgICB0aGlzLk9uTmV3RnJhbWUoKTtcclxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMTUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG92ZXJyaWRlIFVuRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLnN0aWxsUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgTGlzdGVuRm9yS2V5UHJlc3NlcygpIHtcclxuICAgICAgICB0aGlzLmdhbWVEaXYudGFiSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmdhbWVEaXYuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBBS2V5ZG93bkkua2V5bGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyS2V5ID0gQUtleWRvd25JLmtleWxpc3RbaV07XHJcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KGN1cnJLZXksIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZURpdi5vbmtleWRvd24gPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcclxuICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0FueScsIHRydWUpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1NwYWNlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1VwIEFycm93JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRG93biBBcnJvdycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0xlZnQgQXJyb3cnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUmlnaHQgQXJyb3cnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdBJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdiJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnQicsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0MnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0MnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdEJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdEJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0YnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0YnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdHJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2cnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdHJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnSCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnSCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0knOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0knLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdKJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2onOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdKJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnSyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnSycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0wnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0wnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ20nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdNJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICduJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnTicsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ08nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ08nLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3AnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdQJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdxJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1InOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1InLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdTJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd0JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnVCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1UnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1UnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdWJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3YnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdWJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnVycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1gnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAneCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1gnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdZJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3knOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdZJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnWic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd6JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnWicsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdhbWVEaXYub25rZXl1cCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1NwYWNlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1VwIEFycm93JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRG93biBBcnJvdycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0xlZnQgQXJyb3cnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUmlnaHQgQXJyb3cnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2EnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdBJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdiJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnQicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0MnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0MnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdEJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2QnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdEJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdlJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0YnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0YnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdHJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2cnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdHJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnSCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnSCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0knOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0knLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdKJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2onOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdKJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnSyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnSycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0wnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0wnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ20nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdNJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICduJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnTicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ08nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ08nLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3AnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdQJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdxJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1InOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1InLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdTJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd0JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnVCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1UnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1UnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdWJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3YnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdWJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd3JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnVycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1gnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAneCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1gnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdZJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3knOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdZJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnWic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd6JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnWicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBwcmVzc2VkS2V5c0FycmF5ID0gdGhpcy5wcmVzc2VkS2V5c0FycmF5O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByZXNzZWRLZXlzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzc2VkS2V5c0FycmF5W2ldWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdBbnknLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgT25TdGFydCgpIHtcclxuICAgICAgICBjb25zdCBvYmpJbnN0YW5jZXMgPSB0aGlzLmFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKEdFT0QzT2JqZWN0SGFuZGxlci5DcmVhdGVSSShvYmpJbnN0YW5jZXNbaV0sIHRoaXMuYW5wLCB0aGlzLmdhbWVEaXYuY3JlYXRlRGl2KCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzW2ldLk9uU3RhcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBPbk5ld0ZyYW1lKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZURpdi5mb2N1cygpO1xyXG4gICAgICAgIGNvbnN0IHJlbmRlcmluZ09yZGVyOiBHRU9EM09iamVjdFJJW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyT2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgICAgICBjdXJyT2JqLlJlbmRlcigpO1xyXG4gICAgICAgICAgICB0aGlzLlBsYWNlSW50b1Nwcml0ZUFycmF5KHJlbmRlcmluZ09yZGVyLCBjdXJyT2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJpbmdPcmRlci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyU3ByaXRlID0gcmVuZGVyaW5nT3JkZXJbaV07XHJcbiAgICAgICAgICAgIGN1cnJTcHJpdGUub2JqRGl2LnN0eWxlLnpJbmRleCA9IGkgKyAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzW2ldLk9uTmV3RnJhbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBQbGFjZUludG9TcHJpdGVBcnJheShhcnI6IEdFT0QzT2JqZWN0UklbXSwgbmV3SXRlbTogR0VPRDNPYmplY3RSSSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsb3cgPSAwO1xyXG4gICAgICAgIGxldCBoaWdoID0gYXJyLmxlbmd0aDtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3WiA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZShuZXdJdGVtLCAneicpO1xyXG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pZFogPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUoYXJyW21pZF0sICd6Jyk7XHJcbiAgICAgICAgICAgIGlmIChtaWRaIDwgbmV3Wikge1xyXG4gICAgICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFyci5zcGxpY2UobG93LCAwLCBuZXdJdGVtKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3QsIEdFT0QzT2JqZWN0SGFuZGxlciB9IGZyb20gXCIuL2dlb2QzLW9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjZW5lVmlldyBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdUQ4M0NcdURGMTAnO1xyXG4gICAgb2JqZWN0czogR0VPRDNPYmplY3RbXTtcclxuICAgIGhpZXJhcmNoeURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBzY2VuZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBpbnNwZWN0b3JEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICBzdXBlcihhbnApO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy10YWItY29udGFpbmVyIGhib3gnO1xyXG5cclxuICAgICAgICB0aGlzLmhpZXJhcmNoeURpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLW9iamVjdC1saXN0IHZib3gnKTtcclxuICAgICAgICBjb25zdCBzY2VuZVNjcm9sbFdyYXBwZXIgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1zY2VuZS1zY3JvbGwtd3JhcHBlcicpO1xyXG4gICAgICAgIGNvbnN0IHNjZW5lV3JhcHBlciA9IHNjZW5lU2Nyb2xsV3JhcHBlci5jcmVhdGVEaXYoJ2dlb2QzLXNjZW5lLXdyYXBwZXInKTtcclxuICAgICAgICB0aGlzLnNjZW5lRGl2ID0gc2NlbmVXcmFwcGVyLmNyZWF0ZURpdignZ2VvZDMtc2NlbmUnKTtcclxuICAgICAgICB0aGlzLmluc3BlY3RvckRpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3RvciB2Ym94Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSB0aGlzLmhpZXJhcmNoeURpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RGl2ID0gbGlzdERpdi5jcmVhdGVEaXYoJ2dlb2QzLW9iamVjdC1pbi1saXN0IGhib3ggcG9pbnRlci1ob3ZlcicpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyT2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgICAgICBvYmplY3REaXYudGV4dENvbnRlbnQgPSBjdXJyT2JqLmlkSW5TY2VuZSArICc6ICcgKyBjdXJyT2JqLm5hbWU7XHJcbiAgICAgICAgICAgIG9iamVjdERpdi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgR0VPRDNPYmplY3RIYW5kbGVyLkNyZWF0ZUlJKGN1cnJPYmosIHRoaXMuYW5wLCB0aGlzLmluc3BlY3RvckRpdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYnV0dG9uc0RpdiA9IHRoaXMuaGllcmFyY2h5RGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgIGNvbnN0IHJlZnJlc2hCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTI3RjMnIH0gKTtcclxuICAgICAgICBjb25zdCBhZGRPYmpCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcbiAgICAgICAgcmVmcmVzaEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtc2Vjb25kYXJ5LWJ1dHRvbic7XHJcbiAgICAgICAgYWRkT2JqQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuICAgICAgICByZWZyZXNoQnV0dG9uLnN0eWxlLndpZHRoID0gJzUwJSc7XHJcbiAgICAgICAgYWRkT2JqQnV0dG9uLnN0eWxlLndpZHRoID0gJzUwJSc7XHJcbiAgICAgICAgcmVmcmVzaEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyT2JqID0gR0VPRDNPYmplY3RIYW5kbGVyLkNyZWF0ZVJJKHRoaXMub2JqZWN0c1tpXSwgdGhpcy5hbnAsIHRoaXMuc2NlbmVEaXYuY3JlYXRlRGl2KCkpO1xyXG4gICAgICAgICAgICAgICAgY3Vyck9iai5SZW5kZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhZGRPYmpCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm9iamVjdHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdPYmogPSBuZXcgR0VPRDNPYmplY3QoaW5kZXgpO1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3REaXYgPSBsaXN0RGl2LmNyZWF0ZURpdignZ2VvZDMtb2JqZWN0LWluLWxpc3QgaGJveCBwb2ludGVyLWhvdmVyJyk7XHJcbiAgICAgICAgICAgIG9iamVjdERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBuZXdPYmouaWRJblNjZW5lICsgJzogJyArIG5ld09iai5uYW1lIH0gKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzLnB1c2gobmV3T2JqKTtcclxuICAgICAgICAgICAgb2JqZWN0RGl2Lm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBHRU9EM09iamVjdEhhbmRsZXIuQ3JlYXRlSUkobmV3T2JqLCB0aGlzLmFucCwgdGhpcy5pbnNwZWN0b3JEaXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIFVuRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3QgfSBmcm9tIFwiLi9nZW9kMy1vYmplY3RcIjtcclxuaW1wb3J0IHsgQUNoYWluSSwgQURvTm90aGluZ0ksIEFGLCBBRkVJLCBBRkhhbmRsZXIgfSBmcm9tIFwiY2xhc3Nlcy9mdW5jdGlvbnMvZnVuY3Rpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JpcHRFZGl0b3IgZXh0ZW5kcyBUYWIge1xyXG4gICAgc3RhdGljIG92ZXJyaWRlIGljb24gPSAnXHVEODNEXHVEQ0RDJztcclxuICAgIHNjcmlwdERpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBibG9ja3NEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgZGVsRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGN1cnJlbnRPYmplY3Q6IEdFT0QzT2JqZWN0O1xyXG4gICAgY3VycmVudGx5RHJhZ2dlZEJsb2NrOiBBRkVJIHwgdW5kZWZpbmVkO1xyXG4gICAgY3VycmVudGx5RHJhZ2dlZEJsb2NrSXNDb3B5OiBib29sZWFuO1xyXG5cclxuICAgIG92ZXJyaWRlIGFzeW5jIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqcyA9IHRoaXMuYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmpzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE9iamVjdCA9IG9ianNbMF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXYuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnQ3JlYXRlIE9iamVjdHMgaW4gdGhlIFNjZW5lIFZpZXcgZmlyc3QhJyB9ICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWNvbnRhaW5lciBoYm94JztcclxuICAgICAgICBjb25zdCBsZWZ0U2lkZSA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC13cmFwcGVyIHZib3gnKTtcclxuICAgICAgICBjb25zdCB0b3BEaXYgPSBsZWZ0U2lkZS5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1uYXZpZ2F0b3IgaGJveCcpO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpJRElucHV0ID0gdG9wRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBjbHVzdGVyVHlwZUlucHV0ID0gdG9wRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBjbHVzdGVyTnVtYmVySW5wdXQgPSB0b3BEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnbnVtYmVyJywgdmFsdWU6ICcwJyB9ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJPYmogPSBvYmpzW2ldO1xyXG4gICAgICAgICAgICBvYmpJRElucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJPYmouaWRJblNjZW5lICsgJzogJyArIGN1cnJPYmoubmFtZSwgdmFsdWU6IGkgKyAnJyB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9iaklESW5wdXQudmFsdWUgPSB0aGlzLmN1cnJlbnRPYmplY3QuaWRJblNjZW5lICsgJyc7XHJcblxyXG4gICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJ09uIFN0YXJ0JywgdmFsdWU6ICdPbiBTdGFydCcgfSApO1xyXG4gICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJ09uIE5ldyBGcmFtZScsIHZhbHVlOiAnT24gTmV3IEZyYW1lJyB9ICk7XHJcbiAgICAgICAgY2x1c3RlclR5cGVJbnB1dC52YWx1ZSA9ICdPbiBTdGFydCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2x1c3Rlck51bWJlcklucHV0Lm1pbiA9ICcwJztcclxuXHJcbiAgICAgICAgdGhpcy5zY3JpcHREaXYgPSBsZWZ0U2lkZS5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdCcpO1xyXG4gICAgICAgIGNvbnN0IGJsb2NrUG9vbCA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWJsb2NrLXBvb2wnKTtcclxuICAgICAgICB0aGlzLmJsb2Nrc0RpdiA9IGJsb2NrUG9vbC5jcmVhdGVEaXYoJ2dlb2QzLWJsb2Nrcy1saXN0IHZib3gnKTtcclxuICAgICAgICB0aGlzLmRlbERpdiA9IGJsb2NrUG9vbC5jcmVhdGVEaXYoJ2dlb2QzLWJsb2NrLWRlbGV0ZS1kaXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgTG9hZFNjcmlwdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY3JpcHREaXYuZW1wdHkoKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5jdXJyZW50T2JqZWN0O1xyXG4gICAgICAgICAgICBjb25zdCBzY3JpcHRUeXBlID0gY2x1c3RlclR5cGVJbnB1dC52YWx1ZSA9PT0gJ09uIFN0YXJ0JyA/IG9iai5vblN0YXJ0IDogb2JqLm9uTmV3RnJhbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoY2x1c3Rlck51bWJlcklucHV0LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSBzY3JpcHRUeXBlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc2NyaXB0VHlwZS5wdXNoKG5ldyBBQ2hhaW5JKFtuZXcgQURvTm90aGluZ0koKV0pKTtcclxuICAgICAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEFGSGFuZGxlci5DcmVhdGVFSShzY3JpcHRUeXBlW2luZGV4XSwgdGhpcy5zY3JpcHREaXYuY3JlYXRlRGl2KCksIHRoaXMuYW5wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5DcmVhdGVCbG9ja1Bvb2woKTtcclxuICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqSURJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqZWN0ID0gb2Jqc1twYXJzZUludChvYmpJRElucHV0LnZhbHVlKV07XHJcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuY3VycmVudE9iamVjdDtcclxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0VHlwZSA9IGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPT09ICdPbiBTdGFydCcgPyBvYmoub25TdGFydCA6IG9iai5vbk5ld0ZyYW1lO1xyXG4gICAgICAgICAgICBjbHVzdGVyTnVtYmVySW5wdXQudmFsdWUgPSAnMCc7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuY3VycmVudE9iamVjdDtcclxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0VHlwZSA9IGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPT09ICdPbiBTdGFydCcgPyBvYmoub25TdGFydCA6IG9iai5vbk5ld0ZyYW1lO1xyXG4gICAgICAgICAgICBjbHVzdGVyTnVtYmVySW5wdXQudmFsdWUgPSAnMCc7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgTG9hZFNjcmlwdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZUJsb2NrUG9vbCgpIHtcclxuICAgICAgICB0aGlzLmJsb2Nrc0Rpdi5lbXB0eSgpO1xyXG5cclxuICAgICAgICB0aGlzLmRlbERpdi5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZWxEaXYuY2xhc3NOYW1lID0gJ2dlb2QzLWJsb2NrLWRlbGV0ZS1kaXYtaG92ZXInO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRlbERpdi5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmRlbERpdi5jbGFzc05hbWUgPSAnZ2VvZDMtYmxvY2stZGVsZXRlLWRpdic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISh0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9jayA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrSXNDb3B5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50bHlEcmFnZ2VkQmxvY2suZGl2LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50RUkgPSB0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9jay5wYXJlbnRFSTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRFSSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RUkuUmVtb3ZlUGFyYW1ldGVyKHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFSS5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNoYWluSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmNoYWluLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IGdldEkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5nZXQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3Qgc2V0SSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLnNldCwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBpZkkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5pZiwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBpZkVsc2VJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuaWZlbHNlLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmVJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuY29tcGFyZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBrZXlkb3duSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmtleWRvd24sIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgYWRkSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmFkZCwgdW5kZWZpbmVkKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hhaW5CbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShjaGFpbkksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuICAgICAgICBjb25zdCBnZXRCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShnZXRJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3Qgc2V0QmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoc2V0SSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGlmQmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoaWZJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3QgaWZFbHNlQmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoaWZFbHNlSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmVCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShjb21wYXJlSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGtleWRvd25CbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShrZXlkb3duSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGFkZEJsb2NrID0gQUZIYW5kbGVyLkNyZWF0ZUVJKGFkZEksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuXHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoY2hhaW5CbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKGdldEJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoc2V0QmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShpZkJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoaWZFbHNlQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShjb21wYXJlQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShrZXlkb3duQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShhZGRCbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUNBQSxJQUFBQSxtQkFBdUQ7OztBQ0F2RCxJQUFBQyxtQkFBbUM7OztBQ0FuQyxJQUFBQyxtQkFBK0I7OztBQ0V4QixJQUFlLE1BQWYsTUFBbUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU10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QUksWUFBWSxJQUFJO0FBQ3JDO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksY0FBYyxJQUFJO0FBQ3ZDO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksY0FBYyxJQUFJO0FBQ3ZDO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksZUFBZSxJQUFJO0FBQ3hDO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxJQUFJO0FBQzlCO0FBQUEsTUFDUjtBQUFBLElBQ0o7QUFDQSxTQUFLLFFBQVEsVUFBVSxDQUFDLFVBQVU7QUFDOUIsY0FBUSxNQUFNLEtBQUs7QUFBQSxRQUNmLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxTQUFTLEtBQUs7QUFDbkM7QUFBQSxRQUNKLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxZQUFZLEtBQUs7QUFDdEM7QUFBQSxRQUNKLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxjQUFjLEtBQUs7QUFDeEM7QUFBQSxRQUNKLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxjQUFjLEtBQUs7QUFDeEM7QUFBQSxRQUNKLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxlQUFlLEtBQUs7QUFDekM7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7QUFBQSxRQUNKLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDRCxlQUFLLFlBQVksSUFBSSxLQUFLLEtBQUs7QUFDL0I7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TSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFBQSxFQUVBLGFBQWEsV0FBbUI7QUFDL0IsUUFBSSxPQUE2QjtBQUVqQyxXQUFPLEtBQUssSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN2QyxRQUFJLFNBQVMsTUFBTTtBQUNsQixVQUFJLHdCQUFPLGdEQUFnRDtBQUMzRDtBQUFBLElBQ0Q7QUFDQSxTQUFLLGFBQWEsRUFBRSxNQUFNLFdBQVcsUUFBUSxLQUFLLENBQUM7QUFBQSxFQUNwRDtBQUNEO0FBRUEsSUFBTSxtQkFBTixjQUErQixrQ0FBaUI7QUFBQSxFQUcvQyxZQUFZLEtBQVUsUUFBZTtBQUNwQyxVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBQyxZQUFXLElBQUk7QUFFdEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSx3QkFBd0IsRUFDaEMsUUFBUSw4REFBOEQsRUFDdEUsUUFBUSxVQUFRLEtBQ2YsZUFBZSxxQkFBcUIsRUFDcEMsU0FBUyxLQUFLLE9BQU8sU0FBUyxXQUFXLEVBQ3pDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLGNBQWM7QUFDbkMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUFBLEVBQ0w7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIkFTIiwgIkFGSSIsICJBRlJJIiwgImFkZEJ1dHRvbiIsICJvYmpBcnIiLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=
