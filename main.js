/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GEOD3
});
module.exports = __toCommonJS(main_exports);

// classes/geod3-view.ts
var import_obsidian5 = require("obsidian");

// classes/project.ts
var import_obsidian4 = require("obsidian");

// classes/tabs/file-manager.ts
var import_obsidian3 = require("obsidian");

// classes/tabs/tab.ts
var Tab = class {
  /**
   * @param anp a reference to the obsidian app to read and write files as well as the geod3 project this tab should look at
   */
  constructor(anp) {
    this.anp = anp;
  }
};

// classes/tabs/file-types/geod3-file.ts
var import_obsidian = require("obsidian");
var GEOD3File = class {
  getParent(manager) {
    return manager.GetFile(this.parentPath);
  }
  get name() {
    const pathParts = this.path.valueOf().split("/");
    if (this.path.valueOf() === "/") {
      return "root";
    }
    return pathParts[pathParts.length - 1];
  }
  constructor(path, parentPath) {
    this.parentPath = parentPath;
    this.path = path;
  }
  async GrabDependencies(anp) {
  }
  async DisplayThumbnail(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    thumbnailDiv.empty();
    thumbnailDiv.onclick = async () => {
      this.getParent(manager).SelectFile(anp, this, thumbnailDiv);
    };
    thumbnailDiv.createEl("div", { text: this.name });
    thumbnailDiv.createEl("div", { text: "Type: " + this.type });
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    manager.fileDiv.empty();
    manager.fileDiv.className = "vbox";
    const backButton = manager.fileDiv.createEl("button", { text: "Go back to " + this.getParent(manager).name });
    backButton.onclick = async () => {
      this.getParent(manager).Open(anp);
    };
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath + ".md");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
  async Save(anp) {
    const path = (0, import_obsidian.normalizePath)(anp.project.pathToProject + this.path + ".md");
    anp.app.vault.adapter.write(path, JSON.stringify(this.data));
  }
};

// classes/tabs/file-types/geod3-folder.ts
var GEOD3Folder = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.type = "\u{1F4C1}Folder";
    this.files = [];
  }
  get data() {
    return this.files;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    const vault = anp.app.vault;
    const project = anp.project;
    const createDiv = manager.fileDiv.createDiv("hbox");
    const typeDropdown = createDiv.createEl("select");
    for (let i = 0; i < GEOD3FileManager.KNOWN_FILE_TYPES.length; i++) {
      const currType = GEOD3FileManager.KNOWN_FILE_TYPES[i];
      typeDropdown.createEl("option", { text: currType, value: currType });
    }
    typeDropdown.value = GEOD3FileManager.KNOWN_FILE_TYPES[0];
    const nameInput = createDiv.createEl("input", { type: "text", value: "Unnamed" });
    const addButton = createDiv.createEl("button", { text: "+" });
    addButton.onclick = async () => {
      const newRelPath = this.path + (this.path.valueOf() === "/" ? "" : "/") + nameInput.value;
      const newPath = project.pathToProject + newRelPath;
      const newGEOD3File = GEOD3FileManager.CreateFileOfType(newRelPath, this.path, typeDropdown.value);
      if (typeDropdown.value === "\u{1F4C1}Folder") {
        vault.createFolder(newPath);
      } else {
        vault.create(newPath + ".md", JSON.stringify(newGEOD3File));
      }
      manager.files.push(newGEOD3File);
      this.files.push(newGEOD3File);
      this.Open(anp);
    };
    this.selectedThumbnail = void 0;
    const folderDiv = manager.fileDiv.createDiv("geod3-folder");
    for (let i = 0; i < this.files.length; i++) {
      this.files[i].DisplayThumbnail(anp, folderDiv.createDiv("geod3-file-thumbnail pointer-hover"));
    }
  }
  SelectFile(anp, newSelectedFile, thumbnailDiv) {
    if (this.selectedThumbnail !== void 0 && this.selectedThumbnail[0] === newSelectedFile && this.selectedThumbnail[1] === thumbnailDiv) {
      this.selectedThumbnail[0].Open(anp);
    } else {
      if (this.selectedThumbnail !== void 0) {
        this.selectedThumbnail[1].className = "geod3-file-thumbnail pointer-hover";
      }
      this.selectedThumbnail = [newSelectedFile, thumbnailDiv];
      this.selectedThumbnail[1].className = "geod3-file-thumbnail selected pointer-hover";
      this.selectedThumbnail[0].DisplayProperties(anp, thumbnailDiv);
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile = vault.getFolderByPath(project.pathToProject + originalPath);
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile !== null) {
        vault.rename(tFile, project.pathToProject + newPath);
      }
      this.path = newPath;
      const folderStack = [];
      const GFindex = 0;
      const CFindex = 1;
      folderStack.push([this, 0]);
      let depth = 0;
      while (folderStack[0][CFindex] < this.files.length) {
        const currFolder = folderStack[depth];
        const currIndex = currFolder[CFindex];
        const currFile = currFolder[GFindex].files[currIndex];
        currFile.path = currFile.path.replace(originalPath.valueOf(), newPath);
        if (currFile instanceof GEOD3Folder) {
          folderStack.push([currFile, 0]);
          depth++;
        } else {
          currFolder[CFindex]++;
        }
        if (folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
          while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][GFindex].files.length) {
            depth--;
            folderStack.pop();
            if (depth >= 0) {
              folderStack[depth][CFindex]++;
            }
          }
        }
      }
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
  }
};

// classes/tabs/file-types/real-file.ts
var import_obsidian2 = require("obsidian");
var RealFile = class extends GEOD3File {
  constructor(path, parentPath) {
    super(path, parentPath);
    this.src = "";
  }
  get data() {
    return this.src;
  }
  async Open(anp) {
    const manager = anp.project.fileManager;
    super.Open(anp);
    this.DisplayActualFile(manager.fileDiv);
  }
  async GrabDependencies(anp) {
    try {
      const app = anp.app;
      const vault = app.vault;
      const project = anp.project;
      const pathToActualFile = project.pathToProject + this.path + ".actual-file";
      const tFile = vault.getFileByPath(pathToActualFile);
      if (tFile === null) {
        throw new Error("");
      }
      const arrayBuffer = await vault.readBinary(tFile);
      const blob = new Blob([arrayBuffer]);
      this.src = URL.createObjectURL(blob);
    } catch (e) {
    }
  }
  async DisplayProperties(anp, thumbnailDiv) {
    const manager = anp.project.fileManager;
    manager.propertiesDiv.empty();
    const nameInput = manager.propertiesDiv.createEl("input", { type: "text", value: this.name });
    manager.propertiesDiv.createEl("div", { text: "Type: " + this.type });
    const currFileDiv = manager.propertiesDiv.createDiv();
    this.DisplayActualFile(currFileDiv);
    const fileInput = manager.propertiesDiv.createEl("input", { type: "file" });
    const vault = anp.app.vault;
    const project = anp.project;
    nameInput.onchange = async () => {
      const originalPath = this.path;
      const tFile1 = vault.getFileByPath(project.pathToProject + originalPath + ".md");
      const tFile2 = vault.getFileByPath(project.pathToProject + originalPath + ".actual-file");
      const currName = this.name;
      const newPath = this.path.slice(0, -currName.length) + nameInput.value;
      if (tFile1 !== null) {
        vault.rename(tFile1, project.pathToProject + newPath + ".md");
      }
      if (tFile2 !== null) {
        vault.rename(tFile2, project.pathToProject + newPath + ".actual-file");
      }
      this.path = newPath;
      this.DisplayThumbnail(anp, thumbnailDiv);
    };
    fileInput.onchange = async () => {
      const fileArray = fileInput.files;
      if (fileArray !== null) {
        const arrayBuffer = await fileArray[0].arrayBuffer();
        const blob = new Blob([arrayBuffer]);
        this.src = URL.createObjectURL(blob);
        const pathToMDFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".md");
        const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
        await anp.app.vault.adapter.write(pathToMDFile, JSON.stringify(this));
        await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
      }
      currFileDiv.empty();
      this.DisplayActualFile(currFileDiv);
    };
  }
  async Save(anp) {
    await super.Save(anp);
    try {
      const response = await fetch(this.data);
      const arrayBuffer = await response.arrayBuffer();
      const pathToActualFile = (0, import_obsidian2.normalizePath)(anp.project.pathToProject + this.path + ".actual-file");
      await anp.app.vault.adapter.writeBinary(pathToActualFile, arrayBuffer);
    } catch (e) {
      console.log("Error converting " + this.path.valueOf() + " to an actual file");
    }
  }
};
var ImageFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F5BC}\uFE0FImage";
  }
  async DisplayActualFile(div) {
    const img = div.createEl("img");
    img.style.objectFit = "contain";
    img.src = this.src;
    return img;
  }
};
var SoundFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F50A}Sound";
  }
  async DisplayActualFile(div) {
    const el = div.createEl("audio");
    el.src = this.src;
    return el;
  }
};
var VideoFile = class extends RealFile {
  constructor() {
    super(...arguments);
    this.type = "\u{1F39E}\uFE0FVideo";
  }
  async DisplayActualFile(div) {
    const vid = div.createEl("video");
    vid.style.objectFit = "contain";
    vid.src = this.src;
    return vid;
  }
};

// classes/tabs/file-manager.ts
var GEOD3FileManager = class extends Tab {
  constructor(anp) {
    super(anp);
    this.files = [];
  }
  get imageFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof ImageFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get soundFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof SoundFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  get videoFiles() {
    const output = [];
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i] instanceof VideoFile) {
        output.push(this.files[i]);
      }
    }
    return output;
  }
  GetFile(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  GetFileByPrimitivePath(path) {
    for (let i = 0; i < this.files.length; i++) {
      if (this.files[i].path.valueOf() === path) {
        return this.files[i];
      }
    }
    throw new Error("Path " + path + " not found");
  }
  AssignObjectFromFileType(plainObj, path, parentPath) {
    plainObj.path = path;
    plainObj.parentPath = parentPath;
    switch (plainObj.type) {
      case "\u{1F4C1}Folder":
      default:
        return Object.assign(new GEOD3Folder(path, parentPath), plainObj);
      case "\u{1F5BC}\uFE0FImage":
        return Object.assign(new ImageFile(path, parentPath), plainObj);
      case "\u{1F50A}Sound":
        return Object.assign(new SoundFile(path, parentPath), plainObj);
      case "\u{1F39E}\uFE0FVideo":
        return Object.assign(new VideoFile(path, parentPath), plainObj);
    }
  }
  static CreateFileOfType(path, parentPath, type) {
    switch (type) {
      case "\u{1F4C1}Folder":
      default:
        return new GEOD3Folder(path, parentPath);
      case "\u{1F5BC}\uFE0FImage":
        return new ImageFile(path, parentPath);
      case "\u{1F50A}Sound":
        return new SoundFile(path, parentPath);
      case "\u{1F39E}\uFE0FVideo":
        return new VideoFile(path, parentPath);
    }
  }
  async LoadFiles(anp) {
    this.files = [];
    const app = anp.app;
    const vault = app.vault;
    const project = anp.project;
    const projectFolder = vault.getFolderByPath(project.pathToProject);
    if (projectFolder === null) {
      throw new Error("Project folder does not exist");
    }
    const folderStack = [];
    const TFindex = 0;
    const GFindex = 1;
    const CFindex = 2;
    const rootPath = new String("/");
    const root = new GEOD3Folder(rootPath, rootPath);
    folderStack.push([projectFolder, root, 0]);
    this.files.push(root);
    let depth = 0;
    while (folderStack[0][CFindex] < projectFolder.children.length) {
      const currFolder = folderStack[depth];
      const currIndex = currFolder[CFindex];
      const currFile = currFolder[TFindex].children[currIndex];
      const relativePath = currFile.path.replace(project.pathToProject, "");
      if (currFile.name !== "RESERVED FOLDER DO NOT RENAME") {
        if (currFile instanceof import_obsidian3.TFolder) {
          const newGEOD3Folder = new GEOD3Folder(relativePath, currFolder[GFindex].path);
          this.files.push(newGEOD3Folder);
          currFolder[GFindex].files.push(newGEOD3Folder);
          folderStack.push([currFile, newGEOD3Folder, 0]);
          depth++;
        } else if (currFile instanceof import_obsidian3.TFile) {
          if (currFile.extension === "md") {
            const data = await vault.cachedRead(currFile);
            const plainObj = JSON.parse(data);
            const newFile = this.AssignObjectFromFileType(plainObj, relativePath.slice(0, -3), currFolder[GFindex].path);
            currFolder[GFindex].files.push(newFile);
            this.files.push(newFile);
          }
          currFolder[CFindex]++;
        }
      } else {
        currFolder[CFindex]++;
      }
      if (folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
        while (depth > 0 && folderStack[depth][CFindex] >= folderStack[depth][TFindex].children.length) {
          depth--;
          folderStack.pop();
          if (depth >= 0) {
            folderStack[depth][CFindex]++;
          }
        }
      }
    }
  }
  async Focus(div) {
    div.empty();
    this.mainDiv = div;
    this.mainDiv.className = "geod3-tab-container hbox";
    this.fileDiv = div.createDiv("vbox");
    this.propertiesDiv = div.createDiv("vbox");
    this.fileDiv.style.width = "70%";
    this.propertiesDiv.style.width = "30%";
    this.files[0].Open(this.anp);
  }
  UnFocus(div) {
    div.empty();
  }
};
GEOD3FileManager.icon = "\u{1F4C1}";
GEOD3FileManager.KNOWN_FILE_TYPES = [
  "\u{1F4C1}Folder",
  "\u{1F5BC}\uFE0FImage",
  "\u{1F50A}Sound",
  "\u{1F39E}\uFE0FVideo"
];

// colors.ts
var BG_COLOR_2 = "rgb(18, 18, 24)";
var BG_COLOR_3 = "rgb(5, 5, 8)";
var ACCENT_COLOR_1 = "rgb(223, 236, 255)";
var ACCENT_COLOR_2 = "rgb(160, 169, 184)";
var ACCENT_COLOR_3 = "rgb(100, 109, 123)";
var CENTRAL_COLOR_1 = "rgb(111, 46, 169)";
var CENTRAL_COLOR_2 = "rgb(78, 17, 131)";
var CENTRAL_COLOR_3 = "rgb(29, 0, 54)";

// classes/structs/struct.ts
var AS = /* @__PURE__ */ ((AS2) => {
  AS2[AS2["none"] = 0] = "none";
  AS2[AS2["boolean"] = 1] = "boolean";
  AS2[AS2["number"] = 2] = "number";
  AS2[AS2["string"] = 3] = "string";
  return AS2;
})(AS || {});
var ASHandler = class {
  static Copy(obj) {
    let newObj;
    switch (obj.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        newObj = new ABooleanI(obj.scope, obj.name);
        break;
      case 2 /* number */:
        newObj = new ANumberI(obj.scope, obj.name);
        break;
      case 3 /* string */:
        newObj = new AStringI(obj.scope, obj.name);
        break;
    }
    newObj.value = obj.value;
    return newObj;
  }
  static CreateI(type, scope, name) {
    switch (type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanI(scope, name);
      case 2 /* number */:
        return new ANumberI(scope, name);
      case 3 /* string */:
        return new AStringI(scope, name);
    }
  }
  static CreateII(struct, inspectorDiv, color = void 0) {
    switch (struct.type) {
      case 0 /* none */:
      case 1 /* boolean */:
      default:
        return new ABooleanII(struct, inspectorDiv, color);
      case 2 /* number */:
        return new ANumberII(struct, inspectorDiv, color);
      case 3 /* string */:
        return new AStringII(struct, inspectorDiv, color);
    }
  }
};
var ASI = class {
  constructor(scope, name = "") {
    this.name = name;
    this.scope = scope;
  }
};
var ASII = class {
  static AdjustInputWidth(input, div) {
    const tempEl = div.createEl("div", { text: input.value });
    tempEl.style.position = "absolute";
    tempEl.style.visibility = "hidden";
    tempEl.style.whiteSpace = "nowrap";
    tempEl.style.font = "inherit";
    tempEl.style.padding = input instanceof HTMLInputElement ? "1vh" : "2vh";
    input.style.width = tempEl.getBoundingClientRect().width + "px";
    tempEl.remove();
  }
};
var ABooleanI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 1 /* boolean */;
    this.value = false;
  }
};
var ABooleanII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "checkbox" });
    input.checked = this.instance.value;
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.onclick = () => {
      this.instance.value = input.checked;
      input.style.backgroundColor = input.checked ? CENTRAL_COLOR_1 : CENTRAL_COLOR_3;
    };
  }
};
var ANumberI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 2 /* number */;
    this.value = 0;
  }
};
var ANumberII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    ASII.AdjustInputWidth(input, div);
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.oninput = () => {
      ASII.AdjustInputWidth(input, div);
    };
    input.onchange = () => {
      this.instance.value = parseFloat(input.value);
    };
  }
};
var AStringI = class extends ASI {
  constructor(scope, name = "") {
    super(scope, name);
    this.type = 3 /* string */;
    this.value = "";
  }
};
var AStringII = class extends ASII {
  constructor(instance, div, color = void 0) {
    super();
    this.instance = instance;
    const input = div.createEl("input", { type: "text", value: this.instance.value + "" });
    ASII.AdjustInputWidth(input, div);
    input.style.backgroundColor = color === void 0 ? CENTRAL_COLOR_3 : color;
    input.oninput = () => {
      ASII.AdjustInputWidth(input, div);
    };
    input.onchange = () => {
      this.instance.value = input.value;
    };
  }
};

// classes/tabs/geod3-object.ts
var GEOD3ObjectHandler = class {
  static GetVariable(obj, name) {
    for (let i = 0; i < obj.variables.length; i++) {
      if (obj.variables[i].name === name) {
        return obj.variables[i];
      }
    }
    throw new Error("Variable " + name + " not found on object " + obj.idInScene + ": " + obj.name);
  }
  static CreateII(obj, anp, inspectorDiv) {
    return new GEOD3ObjectII(obj, anp, inspectorDiv);
  }
  static CreateRI(obj, anp, objDiv) {
    return new GEOD3ObjectRI(obj, anp, objDiv);
  }
};
var GEOD3Object = class {
  constructor(id) {
    this.idInScene = id;
    this.name = "object";
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    this.variables.push(ASHandler.CreateI(3 /* string */, 1 /* Public */, "Sprite Path"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Sprite Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "z"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Speed z"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration x"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration y"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Acceleration z"));
    this.variables.push(ASHandler.CreateI(1 /* boolean */, 1 /* Public */, "Do Rectangular Hitbox"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Radius/Half Width"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Half Height"));
    this.variables.push(ASHandler.CreateI(2 /* number */, 1 /* Public */, "Hitbox Half Thickness"));
    this.variables[1].value = 100;
    this.variables[2].value = 100;
  }
};
var GEOD3ObjectII = class {
  constructor(instance, anp, div) {
    this.instance = instance;
    this.anp = anp;
    div.empty();
    const nameDiv = div.createDiv("geod3-inspector-top-bar hbox");
    nameDiv.createEl("div", { text: this.instance.idInScene + ":" });
    const nameInput = nameDiv.createEl("input", { type: "text", value: this.instance.name });
    const editScriptsButton = nameDiv.createEl("button", { text: "Edit Scripts\u{1F4DC}" });
    editScriptsButton.className = "geod3-secondary-button";
    nameInput.onchange = () => {
      this.instance.name = nameInput.value;
    };
    editScriptsButton.onclick = () => {
      anp.project.scriptEditor.currentObject = this.instance;
      anp.project.SwitchToTab(anp.project.scriptEditorTabID);
    };
    const variablesDiv = div.createDiv("geod3-inspector-variable-list vbox");
    for (let i = 0; i < this.instance.variables.length; i++) {
      const asI = this.instance.variables[i];
      const varDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      varDiv.createEl("div", { text: asI.name });
      ASHandler.CreateII(asI, varDiv.createDiv());
    }
    const addNewDiv = div.createDiv("geod3-inspector-new-var hbox");
    const variableNameInput = addNewDiv.createEl("input", { type: "text", value: "unnamed" });
    const variableTypeInput = addNewDiv.createEl("select");
    const addVariableButton = addNewDiv.createEl("button", { text: "+" });
    addVariableButton.className = "geod3-add-button";
    for (let i = 1; i < 4; i++) {
      const type = AS[i];
      variableTypeInput.createEl("option", { text: type, value: i + "" });
    }
    variableTypeInput.value = "1";
    addVariableButton.onclick = () => {
      const name = variableNameInput.value;
      for (let i = 0; i < this.instance.variables.length; i++) {
        if (this.instance.variables[i].name === name) {
          return;
        }
      }
      const newVar = ASHandler.CreateI(parseInt(variableTypeInput.value), 1 /* Public */, name);
      this.instance.variables.push(newVar);
      const newVarDiv = variablesDiv.createDiv("geod3-inspector-variable hbox");
      newVarDiv.createEl("div", { text: newVar.name });
      ASHandler.CreateII(newVar, newVarDiv);
    };
  }
};
var GEOD3ObjectRI = class {
  constructor(obj, anp, objDiv) {
    this.idInScene = obj.idInScene;
    this.name = obj.name;
    this.variables = [];
    this.onStart = [];
    this.onNewFrame = [];
    for (let i = 0; i < obj.variables.length; i++) {
      this.variables.push(ASHandler.Copy(obj.variables[i]));
    }
    for (let i = 0; i < obj.onStart.length; i++) {
      this.onStart.push(AFHandler.CreateRI(obj.onStart[i], anp));
    }
    for (let i = 0; i < obj.onNewFrame.length; i++) {
      this.onNewFrame.push(AFHandler.CreateRI(obj.onNewFrame[i], anp));
    }
    this.objDiv = objDiv;
    this.anp = anp;
    this.prevSpritePath = "";
    this.SetObjDivCSSProperties();
  }
  SetObjDivCSSProperties() {
    this.objDiv.style.transform = "translate(-50%, 50%)";
    this.objDiv.style.position = "absolute";
  }
  RefreshSprite() {
    const spritePath = GEOD3ObjectHandler.GetVariable(this, "Sprite Path").value;
    if (this.prevSpritePath !== spritePath) {
      try {
        const mediaFile = this.anp.project.fileManager.GetFileByPrimitivePath(spritePath);
        const spriteSrc = mediaFile.data;
        let mediaEl;
        this.objDiv.empty();
        if (mediaFile instanceof ImageFile) {
          mediaEl = this.objDiv.createEl("img");
        } else {
          mediaEl = this.objDiv.createEl("video");
          mediaEl.controls = false;
          mediaEl.loop = true;
        }
        mediaEl.src = spriteSrc;
        mediaEl.style.width = "100%";
        mediaEl.style.height = "100%";
        this.prevSpritePath = spritePath;
      } catch (e) {
        console.log("failed to find image/video path");
      }
    }
  }
  SetLocationAndWidth() {
    const width = GEOD3ObjectHandler.GetVariable(this, "Sprite Width");
    const height = GEOD3ObjectHandler.GetVariable(this, "Sprite Height");
    const x = GEOD3ObjectHandler.GetVariable(this, "x");
    const y = GEOD3ObjectHandler.GetVariable(this, "y");
    const z = GEOD3ObjectHandler.GetVariable(this, "z");
    const xVel = GEOD3ObjectHandler.GetVariable(this, "Speed x");
    const yVel = GEOD3ObjectHandler.GetVariable(this, "Speed y");
    const zVel = GEOD3ObjectHandler.GetVariable(this, "Speed z");
    const xAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration x");
    const yAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration y");
    const zAccel = GEOD3ObjectHandler.GetVariable(this, "Acceleration z");
    this.objDiv.style.width = width.value + "px";
    this.objDiv.style.height = height.value + "px";
    xVel.value += xAccel.value;
    yVel.value += yAccel.value;
    zVel.value += zAccel.value;
    x.value += xVel.value;
    y.value += yVel.value;
    z.value += zVel.value;
    this.objDiv.style.left = x.value + "px";
    this.objDiv.style.bottom = y.value + "px";
  }
  Render() {
    this.RefreshSprite();
    this.SetLocationAndWidth();
  }
  OnStart() {
    for (let i = 0; i < this.onStart.length; i++) {
      this.onStart[i].Execute();
    }
  }
  OnNewFrame() {
    for (let i = 0; i < this.onNewFrame.length; i++) {
      this.onNewFrame[i].Execute();
    }
  }
};

// classes/functions/function.ts
var AFHandler = class {
  static Copy(obj) {
    const newParams = [];
    for (let i = 0; i < obj.parameters.length; i++) {
      const currParam = obj.parameters[i];
      if (currParam instanceof AFI2) {
        newParams.push(this.Copy(currParam));
      } else {
        newParams.push(ASHandler.Copy(currParam));
      }
    }
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(newParams);
      case 2 /* get */:
        return new AGetI(newParams);
      case 3 /* set */:
        return new ASetI(newParams);
      case 4 /* if */:
        return new AIfI(newParams);
      case 5 /* ifelse */:
        return new AIfElseI(newParams);
      case 6 /* compare */:
        return new ACompareI(newParams);
      case 7 /* keydown */:
        return new AKeydownI(newParams);
      case 8 /* add */:
        return new AAddI(newParams);
    }
  }
  static CreateI(type, parameters) {
    switch (type) {
      case 0 /* none */:
      default:
        return new ADoNothingI();
      case 1 /* chain */:
        return new AChainI(parameters);
      case 2 /* get */:
        return new AGetI(parameters);
      case 3 /* set */:
        return new ASetI(parameters);
      case 4 /* if */:
        return new AIfI(parameters);
      case 5 /* ifelse */:
        return new AIfElseI(parameters);
      case 6 /* compare */:
        return new ACompareI(parameters);
      case 7 /* keydown */:
        return new AKeydownI(parameters);
      case 8 /* add */:
        return new AAddI(parameters);
    }
  }
  static CreateEI(obj, blockDiv, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingEI(obj, blockDiv, anp);
      case 1 /* chain */:
        return new AChainEI(obj, blockDiv, anp);
      case 2 /* get */:
        return new AGetEI(obj, blockDiv, anp);
      case 3 /* set */:
        return new ASetEI(obj, blockDiv, anp);
      case 4 /* if */:
        return new AIfEI(obj, blockDiv, anp);
      case 5 /* ifelse */:
        return new AIfElseEI(obj, blockDiv, anp);
      case 6 /* compare */:
        return new ACompareEI(obj, blockDiv, anp);
      case 7 /* keydown */:
        return new AKeydownEI(obj, blockDiv, anp);
      case 8 /* add */:
        return new AAddEI(obj, blockDiv, anp);
    }
  }
  static CreateRI(obj, anp) {
    switch (obj.type) {
      case 0 /* none */:
      default:
        return new ADoNothingRI(obj, anp);
      case 1 /* chain */:
        return new AChainRI(obj, anp);
      case 2 /* get */:
        return new AGetRI(obj, anp);
      case 3 /* set */:
        return new ASetRI(obj, anp);
      case 4 /* if */:
        return new AIfRI(obj, anp);
      case 5 /* ifelse */:
        return new AIfElseRI(obj, anp);
      case 6 /* compare */:
        return new ACompareRI(obj, anp);
      case 7 /* keydown */:
        return new AKeydownRI(obj, anp);
      case 8 /* add */:
        return new AAddRI(obj, anp);
    }
  }
};
var AFI2 = class {
  constructor() {
    this.defaultParameters = [];
    this.parameters = [];
  }
};
var AFEI = class {
  constructor(instance, blockDiv, anp) {
    this.instance = instance;
    this.div = blockDiv;
    this.anp = anp;
    this.DisplayBlock();
  }
  static AdjustInputWidth(input, div) {
    const tempEl = div.createEl("div", { text: input.value });
    tempEl.style.position = "absolute";
    tempEl.style.visibility = "hidden";
    tempEl.style.whiteSpace = "nowrap";
    tempEl.style.font = "inherit";
    tempEl.style.padding = "1vh";
    input.style.width = tempEl.getBoundingClientRect().width + "px";
    tempEl.remove();
  }
  CreateASIOrAFIParameterDiv(index, paramDiv, backgroundColor) {
    const param = this.instance.parameters[index];
    if (param instanceof ASI) {
      return this.CreateASIParameterDiv(index, paramDiv, backgroundColor);
    } else {
      return this.CreateAFIParameterDiv(index, paramDiv, backgroundColor);
    }
  }
  CreateASIParameterDiv(index, paramDiv, backgroundColor) {
    AFEI.SetParameterDiv(this.anp, this, paramDiv, index);
    const param = this.instance.parameters[index];
    ASHandler.CreateII(param, paramDiv, backgroundColor);
  }
  CreateAFIParameterDiv(index, paramDiv, backgroundColor) {
    AFEI.SetParameterDiv(this.anp, this, paramDiv, index);
    const param = this.instance.parameters[index];
    const paramEI = AFHandler.CreateEI(param, paramDiv, this.anp);
    paramEI.parentEI = this;
    if (paramEI.instance.type === 0 /* none */) {
      paramEI.div.style.backgroundColor = backgroundColor;
    } else {
      AFEI.MakeBlockDraggable(paramEI, this.anp, false);
    }
    return paramEI;
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        const currDefaultParam = this.instance.defaultParameters[i];
        this.instance.parameters[i] = currDefaultParam instanceof ASI ? ASHandler.Copy(currDefaultParam) : AFHandler.Copy(currDefaultParam);
      }
    }
  }
  static MakeBlockDraggable(block, anp, isCopy) {
    const scriptEditor = anp.project.scriptEditor;
    block.div.draggable = true;
    block.div.addEventListener("dragstart", (event) => {
      event.stopPropagation();
      if (event.dataTransfer !== null) {
        event.dataTransfer.effectAllowed = "copy";
      }
      scriptEditor.currentlyDraggedBlockIsCopy = isCopy;
      scriptEditor.currentlyDraggedBlock = block;
      scriptEditor.blocksDiv.style.height = "90%";
      scriptEditor.delDiv.style.height = "10%";
    });
    block.div.addEventListener("dragend", (event) => {
      event.stopPropagation();
      event.preventDefault();
      scriptEditor.blocksDiv.style.height = "100%";
      scriptEditor.delDiv.style.height = "0%";
    });
  }
  static SetParameterDiv(anp, afei, paramDiv, paramIndex) {
    const scriptEditor = anp.project.scriptEditor;
    paramDiv.addEventListener("dragover", (event) => {
      event.stopPropagation();
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      paramDiv.style.borderStyle = "solid";
      paramDiv.style.borderColor = ACCENT_COLOR_1;
    });
    paramDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      paramDiv.style.borderStyle = "";
    });
    paramDiv.addEventListener("drop", (event) => {
      event.stopPropagation();
      if (scriptEditor.currentlyDraggedBlock === void 0) {
        return;
      }
      let newBlock;
      let newBlockDiv;
      if (scriptEditor.currentlyDraggedBlockIsCopy) {
        const newBlockInstance = AFHandler.Copy(scriptEditor.currentlyDraggedBlock.instance);
        newBlockDiv = scriptEditor.currentlyDraggedBlock.div.cloneNode(true);
        newBlock = AFHandler.CreateEI(newBlockInstance, newBlockDiv, anp);
      } else {
        if (scriptEditor.currentlyDraggedBlock.parentEI !== void 0) {
          const parentEI = scriptEditor.currentlyDraggedBlock.parentEI;
          parentEI.RemoveParameter(scriptEditor.currentlyDraggedBlock.instance);
          parentEI.DisplayBlock();
        }
        newBlockDiv = scriptEditor.currentlyDraggedBlock.div;
        newBlock = scriptEditor.currentlyDraggedBlock;
        newBlockDiv.detach();
      }
      afei.instance.parameters[paramIndex] = newBlock.instance;
      afei.DisplayBlock();
      event.preventDefault();
      scriptEditor.currentlyDraggedBlock = void 0;
    });
  }
};
var AFRI2 = class {
  constructor(ogFunction, anp) {
    this.type = ogFunction.type;
    this.parameters = [];
    this.anp = anp;
    for (let i = 0; i < ogFunction.parameters.length; i++) {
      const ogParam = ogFunction.parameters[i];
      let copy;
      if (ogParam instanceof ASI) {
        copy = ASHandler.Copy(ogParam);
      } else {
        copy = AFHandler.CreateRI(ogParam, anp);
      }
      this.parameters.push(copy);
    }
  }
};
var ADoNothingI = class extends AFI2 {
  constructor() {
    super(...arguments);
    this.type = 0 /* none */;
  }
};
var ADoNothingEI = class extends AFEI {
  DisplayBlock() {
    this.div.className = "geod3-script-block";
    this.div.style.backgroundColor = BG_COLOR_3;
  }
  RemoveParameter(parameter) {
  }
};
var ADoNothingRI = class extends AFRI2 {
  async Execute() {
  }
};
var AChainI = class extends AFI2 {
  constructor(parameters = void 0) {
    super();
    this.type = 1 /* chain */;
    const doNothing = new ADoNothingI();
    this.defaultParameters.push(doNothing);
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AChainEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = BG_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    div.style.width = "fit-content";
    div.style.padding = "1vh";
    div.style.gap = "1vh";
    for (let i = 0; i < this.instance.parameters.length; i++) {
      const index = i;
      const currBlockDiv = div.createDiv("geod3-script-block-inner-section hbox");
      const deleteButton = currBlockDiv.createEl("button", { text: "-" });
      const addButton2 = currBlockDiv.createEl("button", { text: "+" });
      deleteButton.className = "geod3-remove-button";
      addButton2.className = "geod3-add-button";
      deleteButton.onclick = () => {
        this.instance.parameters.splice(index, 1);
        this.DisplayBlock();
      };
      addButton2.onclick = () => {
        this.instance.parameters.splice(index, 0, new ADoNothingI());
        this.DisplayBlock();
      };
      this.CreateAFIParameterDiv(index, currBlockDiv.createDiv(), BG_COLOR_3);
    }
    const addButton = div.createEl("button", { text: "+" });
    addButton.className = "geod3-add-button";
    addButton.onclick = () => {
      this.instance.parameters.splice(this.instance.parameters.length, 0, new ADoNothingI());
      this.DisplayBlock();
    };
  }
  RemoveParameter(parameter) {
    for (let i = 0; i < this.instance.parameters.length; i++) {
      if (this.instance.parameters[i] === parameter) {
        this.instance.parameters[i] = AFHandler.Copy(this.instance.defaultParameters[0]);
      }
    }
  }
};
var AChainRI = class extends AFRI2 {
  async Execute() {
    for (let i = 0; i < this.parameters.length; i++) {
      await this.parameters[i].Execute();
    }
  }
};
var AGetI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 2 /* get */;
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    const varName = new AStringI(0 /* Value */, "Variable Name");
    objIndex.value = 0;
    varName.value = "Sprite Path";
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
    }
  }
};
var AGetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Get" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = CENTRAL_COLOR_3;
    varNameInput.style.backgroundColor = CENTRAL_COLOR_3;
    objIDInput.style.paddingRight = "0";
    varNameInput.style.paddingRight = "0";
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      AFEI.AdjustInputWidth(objIDInput, div);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      AFEI.AdjustInputWidth(varNameInput, div);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    AFEI.AdjustInputWidth(objIDInput, div);
    AFEI.AdjustInputWidth(varNameInput, div);
  }
};
var AGetRI = class extends AFRI2 {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    return GEOD3ObjectHandler.GetVariable(obj, varName.value);
  }
};
var ASetI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 3 /* set */;
    const varName = new AStringI(0 /* Value */, "Variable Name");
    const objIndex = new ANumberI(0 /* Value */, "Object Index");
    varName.value = "Sprite Path";
    objIndex.value = 0;
    this.defaultParameters = [varName, objIndex];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(varName));
      this.parameters.push(ASHandler.Copy(objIndex));
      this.parameters.push(ASHandler.CreateI(2 /* number */, 0 /* Value */, ""));
    }
  }
};
var ASetEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const anp = this.anp;
    const varName = this.instance.parameters[0];
    const objID = this.instance.parameters[1];
    div.createEl("div", { text: "Set" });
    const varDiv = div.createDiv();
    div.createEl("div", { text: "from" });
    const objDiv = div.createDiv();
    div.createEl("div", { text: "to" });
    const valueDiv = div.createDiv();
    const objIDInput = objDiv.createEl("select");
    const varNameInput = varDiv.createEl("select");
    objIDInput.style.backgroundColor = CENTRAL_COLOR_3;
    varNameInput.style.backgroundColor = CENTRAL_COLOR_3;
    objIDInput.style.paddingRight = "0";
    varNameInput.style.paddingRight = "0";
    const objArr = anp.project.sceneView.objects;
    for (let i = 0; i < objArr.length; i++) {
      objIDInput.createEl("option", { text: i + ": " + objArr[i].name, value: i + ": " + objArr[i].name });
    }
    const GetAllVarNames = () => {
      varNameInput.empty();
      const objArr2 = anp.project.sceneView.objects;
      const varArr = objArr2[this.instance.parameters[1].value].variables;
      for (let i = 0; i < varArr.length; i++) {
        varNameInput.createEl("option", { text: varArr[i].name, value: varArr[i].name });
      }
      valueDiv.empty();
      if (this.instance.parameters[2] instanceof AFI2) {
        this.CreateAFIParameterDiv(2, valueDiv, CENTRAL_COLOR_3);
      } else {
        this.CreateASIParameterDiv(2, valueDiv, CENTRAL_COLOR_3);
      }
    };
    objIDInput.onchange = () => {
      this.instance.parameters[1].value = parseInt(objIDInput.value.split(":")[0]);
      AFEI.AdjustInputWidth(objIDInput, div);
      GetAllVarNames();
    };
    varNameInput.onchange = () => {
      this.instance.parameters[0].value = varNameInput.value;
      AFEI.AdjustInputWidth(varNameInput, div);
    };
    GetAllVarNames();
    objIDInput.value = objID.value + ": " + objArr[objID.value].name;
    varNameInput.value = varName.value;
    AFEI.AdjustInputWidth(objIDInput, div);
    AFEI.AdjustInputWidth(varNameInput, div);
  }
  RemoveParameter(parameter) {
    if (this.instance.parameters[2] === parameter) {
      const defaultParam = ASHandler.CreateI(this.instance.parameters[0].type, 0 /* Value */, "");
      this.instance.parameters[2] = defaultParam;
    }
  }
};
var ASetRI = class extends AFRI2 {
  async Execute() {
    const varName = this.parameters[0];
    const objIndex = this.parameters[1];
    const val = this.parameters[2];
    const obj = this.anp.project.gameView.objects[objIndex.value];
    const varToSet = GEOD3ObjectHandler.GetVariable(obj, varName.value);
    varToSet.value = val instanceof AFRI2 ? (await val.Execute()).value : val.value;
  }
};
var AIfI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 4 /* if */;
    const condition = new ABooleanI(0 /* Value */, "condition");
    const doNothing = new ADoNothingI();
    condition.value = false;
    this.defaultParameters = [condition, doNothing];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(condition));
      this.parameters.push(AFHandler.Copy(doNothing));
    }
  }
};
var AIfEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = ACCENT_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const topDiv = div.createDiv("geod3-script-block-inner-section hbox");
    topDiv.createEl("div", { text: "If" });
    const conditionDiv = topDiv.createDiv();
    const functionDiv = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, conditionDiv, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(1, functionDiv, ACCENT_COLOR_3);
  }
};
var AIfRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param1IsAFRI = param1 instanceof AFRI2;
    const condition = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    if (condition) {
      const param2 = this.parameters[1];
      await param2.Execute();
    }
  }
};
var AIfElseI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 5 /* ifelse */;
    const condition = new ABooleanI(0 /* Value */, "condition");
    const doNothing = new ADoNothingI();
    const doNothing2 = new ADoNothingI();
    condition.value = false;
    this.defaultParameters = [condition, doNothing, doNothing2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(condition));
      this.parameters.push(AFHandler.Copy(doNothing));
      this.parameters.push(AFHandler.Copy(doNothing2));
    }
  }
};
var AIfElseEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block vbox";
    div.style.backgroundColor = ACCENT_COLOR_2;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const topDiv = div.createDiv("geod3-script-block-inner-section hbox");
    topDiv.createEl("div", { text: "If" });
    const conditionDiv = topDiv.createDiv();
    const function1Div = div.createDiv();
    div.createEl("div", { text: "Else" });
    const function2Div = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, conditionDiv, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(1, function1Div, ACCENT_COLOR_3);
    this.CreateAFIParameterDiv(2, function2Div, ACCENT_COLOR_3);
  }
};
var AIfElseRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param1IsAFRI = param1 instanceof AFRI2;
    const condition = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    if (condition) {
      const param2 = this.parameters[1];
      await param2.Execute();
    } else {
      const param3 = this.parameters[2];
      await param3.Execute();
    }
  }
};
var ACompareI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 6 /* compare */;
    const val1 = new ANumberI(0 /* Value */, "val1");
    const type = new AStringI(0 /* Value */, "comparison type");
    const val2 = new ANumberI(0 /* Value */, "val2");
    val1.value = 0;
    type.value = "=";
    val2.value = 0;
    this.defaultParameters = [val1, type, val2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(val1));
      this.parameters.push(ASHandler.Copy(type));
      this.parameters.push(ASHandler.Copy(val2));
    }
  }
};
var ACompareEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const val1Div = div.createDiv();
    const typeSelect = div.createEl("select");
    const val2Div = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, val1Div, CENTRAL_COLOR_3);
    this.CreateASIOrAFIParameterDiv(2, val2Div, CENTRAL_COLOR_3);
    typeSelect.createEl("option", { text: "=", value: "=" });
    typeSelect.createEl("option", { text: "!=", value: "!=" });
    typeSelect.createEl("option", { text: "<", value: "<" });
    typeSelect.createEl("option", { text: ">", value: ">" });
    typeSelect.createEl("option", { text: "<=", value: "<=" });
    typeSelect.createEl("option", { text: ">=", value: ">=" });
    typeSelect.value = this.instance.parameters[1].value;
    AFEI.AdjustInputWidth(typeSelect, div);
    typeSelect.onchange = () => {
      this.instance.parameters[1].value = typeSelect.value;
      AFEI.AdjustInputWidth(typeSelect, div);
    };
    typeSelect.style.backgroundColor = CENTRAL_COLOR_3;
    typeSelect.style.paddingRight = "0";
  }
};
var ACompareRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param3 = this.parameters[2];
    const param1IsAFRI = param1 instanceof AFRI2;
    const param3IsAFRI = param3 instanceof AFRI2;
    const val1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const val2 = param3IsAFRI ? (await param3.Execute()).value : param3.value;
    const output = new ABooleanI(0 /* Value */, "output");
    switch (param2.value) {
      case "=":
      default:
        output.value = val1 === val2;
        break;
      case "!=":
        output.value = val1 !== val2;
        break;
      case "<":
        output.value = val1 < val2;
        break;
      case ">":
        output.value = val1 > val2;
        break;
      case "<=":
        output.value = val1 <= val2;
        break;
      case ">=":
        output.value = val1 >= val2;
        break;
    }
    return output;
  }
};
var AKeydownI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 7 /* keydown */;
    const key = new AStringI(0 /* Value */, "key");
    key.value = "Any";
    this.defaultParameters = [key];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(key));
    }
  }
};
AKeydownI.keylist = [
  "Any",
  "Space",
  "Up Arrow",
  "Down Arrow",
  "Left Arrow",
  "Right Arrow",
  "A",
  "B",
  "C",
  "D",
  "E",
  "F",
  "G",
  "H",
  "I",
  "J",
  "K",
  "L",
  "M",
  "N",
  "O",
  "P",
  "Q",
  "R",
  "S",
  "T",
  "U",
  "V",
  "W",
  "X",
  "Y",
  "Z"
];
var AKeydownEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const keySelect = div.createEl("select");
    div.createEl("div", { text: "Key Down?" });
    for (let i = 0; i < AKeydownI.keylist.length; i++) {
      const currKey = AKeydownI.keylist[i];
      keySelect.createEl("option", { text: currKey, value: currKey });
    }
    keySelect.value = this.instance.parameters[0].value;
    AFEI.AdjustInputWidth(keySelect, div);
    keySelect.onchange = () => {
      this.instance.parameters[0].value = keySelect.value;
      AFEI.AdjustInputWidth(keySelect, div);
    };
    keySelect.style.backgroundColor = CENTRAL_COLOR_3;
    keySelect.style.paddingRight = "0";
  }
};
var AKeydownRI = class extends AFRI2 {
  async Execute() {
    const key = this.parameters[0];
    const output = new ABooleanI(0 /* Value */, "output");
    const isKeyDown = this.anp.project.gameView.pressedKeys.get(key.value);
    output.value = isKeyDown === void 0 ? false : isKeyDown;
    console.log(isKeyDown);
    return output;
  }
};
var AAddI = class extends AFI2 {
  constructor(parameters) {
    super();
    this.type = 8 /* add */;
    const num1 = new ANumberI(0 /* Value */, "num1");
    const num2 = new ANumberI(0 /* Value */, "num2");
    num1.value = 0;
    num2.value = 0;
    this.defaultParameters = [num1, num2];
    if (parameters !== void 0) {
      this.parameters = parameters;
    } else {
      this.parameters.push(ASHandler.Copy(num1));
      this.parameters.push(ASHandler.Copy(num2));
    }
  }
};
var AAddEI = class extends AFEI {
  DisplayBlock() {
    this.div.empty();
    const div = this.div;
    div.className = "geod3-script-block hbox";
    div.style.backgroundColor = CENTRAL_COLOR_1;
    div.style.borderStyle = "solid";
    div.style.borderColor = ACCENT_COLOR_3;
    const num1Div = div.createDiv();
    div.createEl("div", { text: "+" });
    const num2Div = div.createDiv();
    this.CreateASIOrAFIParameterDiv(0, num1Div, CENTRAL_COLOR_3);
    this.CreateASIOrAFIParameterDiv(1, num2Div, CENTRAL_COLOR_3);
  }
};
var AAddRI = class extends AFRI2 {
  async Execute() {
    const param1 = this.parameters[0];
    const param2 = this.parameters[1];
    const param1IsAFRI = param1 instanceof AFRI2;
    const param2IsAFRI = param2 instanceof AFRI2;
    const num1 = param1IsAFRI ? (await param1.Execute()).value : param1.value;
    const num2 = param2IsAFRI ? (await param2.Execute()).value : param2.value;
    const output = new ANumberI(0 /* Value */, "sum");
    output.value = num1 + num2;
    return output;
  }
};

// classes/tabs/game-view.ts
var GameView = class extends Tab {
  get pressedKeysArray() {
    return Array.from(this.pressedKeys.entries());
  }
  async Focus(div) {
    div.empty();
    div.className = "geod3-game-view-main-div geod3-tab-container";
    const gameWrapper = div.createDiv("geod3-game-wrapper");
    this.gameDiv = gameWrapper.createDiv("geod3-game");
    this.stillRunning = true;
    this.objects = [];
    this.pressedKeys = /* @__PURE__ */ new Map();
    this.ListenForKeyPresses();
    await this.OnStart();
    while (this.stillRunning) {
      this.OnNewFrame();
      await sleep(15);
    }
  }
  UnFocus(div) {
    div.empty();
    this.stillRunning = false;
  }
  ListenForKeyPresses() {
    this.gameDiv.tabIndex = -1;
    this.gameDiv.focus();
    for (let i = 0; i < AKeydownI.keylist.length; i++) {
      const currKey = AKeydownI.keylist[i];
      this.pressedKeys.set(currKey, false);
    }
    this.gameDiv.onkeydown = (event) => {
      console.log(event.key);
      this.pressedKeys.set("Any", true);
      switch (event.key) {
        case " ":
          this.pressedKeys.set("Space", true);
          return;
        case "ArrowUp":
          this.pressedKeys.set("Up Arrow", true);
          return;
        case "ArrowDown":
          this.pressedKeys.set("Down Arrow", true);
          return;
        case "ArrowLeft":
          this.pressedKeys.set("Left Arrow", true);
          return;
        case "ArrowRight":
          this.pressedKeys.set("Right Arrow", true);
          return;
        case "A":
        case "a":
          this.pressedKeys.set("A", true);
          return;
        case "B":
        case "b":
          this.pressedKeys.set("B", true);
          return;
        case "C":
        case "c":
          this.pressedKeys.set("C", true);
          return;
        case "D":
        case "d":
          this.pressedKeys.set("D", true);
          return;
        case "E":
        case "e":
          this.pressedKeys.set("E", true);
          return;
        case "F":
        case "f":
          this.pressedKeys.set("F", true);
          return;
        case "G":
        case "g":
          this.pressedKeys.set("G", true);
          return;
        case "H":
        case "h":
          this.pressedKeys.set("H", true);
          return;
        case "I":
        case "i":
          this.pressedKeys.set("I", true);
          return;
        case "J":
        case "j":
          this.pressedKeys.set("J", true);
          return;
        case "K":
        case "k":
          this.pressedKeys.set("K", true);
          return;
        case "L":
        case "l":
          this.pressedKeys.set("L", true);
          return;
        case "M":
        case "m":
          this.pressedKeys.set("M", true);
          return;
        case "N":
        case "n":
          this.pressedKeys.set("N", true);
          return;
        case "O":
        case "o":
          this.pressedKeys.set("O", true);
          return;
        case "P":
        case "p":
          this.pressedKeys.set("P", true);
          return;
        case "Q":
        case "q":
          this.pressedKeys.set("Q", true);
          return;
        case "R":
        case "r":
          this.pressedKeys.set("R", true);
          return;
        case "S":
        case "s":
          this.pressedKeys.set("S", true);
          return;
        case "T":
        case "t":
          this.pressedKeys.set("T", true);
          return;
        case "U":
        case "u":
          this.pressedKeys.set("U", true);
          return;
        case "V":
        case "v":
          this.pressedKeys.set("V", true);
          return;
        case "W":
        case "w":
          this.pressedKeys.set("W", true);
          return;
        case "X":
        case "x":
          this.pressedKeys.set("X", true);
          return;
        case "Y":
        case "y":
          this.pressedKeys.set("Y", true);
          return;
        case "Z":
        case "z":
          this.pressedKeys.set("Z", true);
          return;
      }
    };
    this.gameDiv.onkeyup = (event) => {
      switch (event.key) {
        case " ":
          this.pressedKeys.set("Space", false);
          break;
        case "ArrowUp":
          this.pressedKeys.set("Up Arrow", false);
          break;
        case "ArrowDown":
          this.pressedKeys.set("Down Arrow", false);
          break;
        case "ArrowLeft":
          this.pressedKeys.set("Left Arrow", false);
          break;
        case "ArrowRight":
          this.pressedKeys.set("Right Arrow", false);
          break;
        case "A":
        case "a":
          this.pressedKeys.set("A", false);
          break;
        case "B":
        case "b":
          this.pressedKeys.set("B", false);
          break;
        case "C":
        case "c":
          this.pressedKeys.set("C", false);
          break;
        case "D":
        case "d":
          this.pressedKeys.set("D", false);
          break;
        case "E":
        case "e":
          this.pressedKeys.set("E", false);
          break;
        case "F":
        case "f":
          this.pressedKeys.set("F", false);
          break;
        case "G":
        case "g":
          this.pressedKeys.set("G", false);
          break;
        case "H":
        case "h":
          this.pressedKeys.set("H", false);
          break;
        case "I":
        case "i":
          this.pressedKeys.set("I", false);
          break;
        case "J":
        case "j":
          this.pressedKeys.set("J", false);
          break;
        case "K":
        case "k":
          this.pressedKeys.set("K", false);
          break;
        case "L":
        case "l":
          this.pressedKeys.set("L", false);
          break;
        case "M":
        case "m":
          this.pressedKeys.set("M", false);
          break;
        case "N":
        case "n":
          this.pressedKeys.set("N", false);
          break;
        case "O":
        case "o":
          this.pressedKeys.set("O", false);
          break;
        case "P":
        case "p":
          this.pressedKeys.set("P", false);
          break;
        case "Q":
        case "q":
          this.pressedKeys.set("Q", false);
          break;
        case "R":
        case "r":
          this.pressedKeys.set("R", false);
          break;
        case "S":
        case "s":
          this.pressedKeys.set("S", false);
          break;
        case "T":
        case "t":
          this.pressedKeys.set("T", false);
          break;
        case "U":
        case "u":
          this.pressedKeys.set("U", false);
          break;
        case "V":
        case "v":
          this.pressedKeys.set("V", false);
          break;
        case "W":
        case "w":
          this.pressedKeys.set("W", false);
          break;
        case "X":
        case "x":
          this.pressedKeys.set("X", false);
          break;
        case "Y":
        case "y":
          this.pressedKeys.set("Y", false);
          break;
        case "Z":
        case "z":
          this.pressedKeys.set("Z", false);
          break;
      }
      const pressedKeysArray = this.pressedKeysArray;
      for (let i = 1; i < pressedKeysArray.length; i++) {
        if (pressedKeysArray[i][1]) {
          return;
        }
      }
      this.pressedKeys.set("Any", false);
    };
  }
  async OnStart() {
    const objInstances = this.anp.project.sceneView.objects;
    for (let i = 0; i < objInstances.length; i++) {
      this.objects.push(GEOD3ObjectHandler.CreateRI(objInstances[i], this.anp, this.gameDiv.createDiv()));
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnStart();
    }
  }
  async OnNewFrame() {
    this.gameDiv.focus();
    const renderingOrder = [];
    for (let i = 0; i < this.objects.length; i++) {
      const currObj = this.objects[i];
      currObj.Render();
      this.PlaceIntoSpriteArray(renderingOrder, currObj);
    }
    for (let i = 0; i < renderingOrder.length; i++) {
      const currSprite = renderingOrder[i];
      currSprite.objDiv.style.zIndex = i + "";
    }
    for (let i = 0; i < this.objects.length; i++) {
      this.objects[i].OnNewFrame();
    }
  }
  PlaceIntoSpriteArray(arr, newItem) {
    let low = 0;
    let high = arr.length;
    const newZ = GEOD3ObjectHandler.GetVariable(newItem, "z");
    while (low < high) {
      const mid = Math.floor((low + high) / 2);
      const midZ = GEOD3ObjectHandler.GetVariable(arr[mid], "z");
      if (midZ < newZ) {
        low = mid + 1;
      } else {
        high = mid;
      }
    }
    arr.splice(low, 0, newItem);
  }
};
GameView.icon = "\u25B6\uFE0F";

// classes/tabs/scene-view.ts
var SceneView = class extends Tab {
  constructor(anp) {
    super(anp);
    this.objects = [];
  }
  Focus(div) {
    div.empty();
    div.className = "geod3-tab-container hbox";
    this.hierarchyDiv = div.createDiv("geod3-object-list vbox");
    const sceneScrollWrapper = div.createDiv("geod3-scene-scroll-wrapper");
    const sceneWrapper = sceneScrollWrapper.createDiv("geod3-scene-wrapper");
    this.sceneDiv = sceneWrapper.createDiv("geod3-scene");
    this.inspectorDiv = div.createDiv("geod3-inspector vbox");
    const listDiv = this.hierarchyDiv.createDiv("vbox");
    for (let i = 0; i < this.objects.length; i++) {
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      const currObj = this.objects[i];
      objectDiv.textContent = currObj.idInScene + ": " + currObj.name;
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(currObj, this.anp, this.inspectorDiv);
      };
    }
    const buttonsDiv = this.hierarchyDiv.createDiv("hbox");
    const refreshButton = buttonsDiv.createEl("button", { text: "\u27F3" });
    const addObjButton = buttonsDiv.createEl("button", { text: "+" });
    refreshButton.className = "geod3-secondary-button";
    addObjButton.className = "geod3-add-button";
    refreshButton.style.width = "50%";
    addObjButton.style.width = "50%";
    refreshButton.onclick = () => {
      this.sceneDiv.empty();
      for (let i = 0; i < this.objects.length; i++) {
        const currObj = GEOD3ObjectHandler.CreateRI(this.objects[i], this.anp, this.sceneDiv.createDiv());
        currObj.Render();
      }
    };
    addObjButton.onclick = () => {
      const index = this.objects.length;
      const newObj = new GEOD3Object(index);
      const objectDiv = listDiv.createDiv("geod3-object-in-list hbox pointer-hover");
      objectDiv.createEl("div", { text: newObj.idInScene + ": " + newObj.name });
      this.objects.push(newObj);
      objectDiv.onclick = () => {
        GEOD3ObjectHandler.CreateII(newObj, this.anp, this.inspectorDiv);
      };
    };
  }
  UnFocus(div) {
    div.empty();
  }
};
SceneView.icon = "\u{1F310}";

// classes/tabs/script-editor.ts
var ScriptEditor = class extends Tab {
  async Focus(div) {
    div.empty();
    const objs = this.anp.project.sceneView.objects;
    if (this.currentObject === void 0) {
      if (objs.length > 0) {
        this.currentObject = objs[0];
      } else {
        div.createEl("h1", { text: "Create Objects in the Scene View first!" });
        return;
      }
    }
    div.className = "geod3-tab-container hbox";
    const leftSide = div.createDiv("geod3-script-wrapper vbox");
    const topDiv = leftSide.createDiv("geod3-script-navigator hbox");
    const objIDInput = topDiv.createEl("select");
    const clusterTypeInput = topDiv.createEl("select");
    const clusterNumberInput = topDiv.createEl("input", { type: "number", value: "0" });
    for (let i = 0; i < objs.length; i++) {
      const currObj = objs[i];
      objIDInput.createEl("option", { text: currObj.idInScene + ": " + currObj.name, value: i + "" });
    }
    objIDInput.value = this.currentObject.idInScene + "";
    clusterTypeInput.createEl("option", { text: "On Start", value: "On Start" });
    clusterTypeInput.createEl("option", { text: "On New Frame", value: "On New Frame" });
    clusterTypeInput.value = "On Start";
    clusterNumberInput.min = "0";
    this.scriptDiv = leftSide.createDiv("geod3-script");
    const blockPool = div.createDiv("geod3-block-pool");
    this.blocksDiv = blockPool.createDiv("geod3-blocks-list vbox");
    this.delDiv = blockPool.createDiv("geod3-block-delete-div");
    const LoadScript = () => {
      this.scriptDiv.empty();
      const obj = this.currentObject;
      const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
      const index = parseInt(clusterNumberInput.value);
      if (index >= scriptType.length) {
        scriptType.push(new AChainI([new ADoNothingI()]));
        clusterNumberInput.max = scriptType.length + "";
      }
      AFHandler.CreateEI(scriptType[index], this.scriptDiv.createDiv(), this.anp);
    };
    this.CreateBlockPool();
    LoadScript();
    objIDInput.onchange = () => {
      this.currentObject = objs[parseInt(objIDInput.value)];
      const obj = this.currentObject;
      const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
      clusterNumberInput.value = "0";
      clusterNumberInput.max = scriptType.length + "";
      LoadScript();
    };
    clusterTypeInput.onchange = () => {
      const obj = this.currentObject;
      const scriptType = clusterTypeInput.value === "On Start" ? obj.onStart : obj.onNewFrame;
      clusterNumberInput.value = "0";
      clusterNumberInput.max = scriptType.length + "";
      LoadScript();
    };
    clusterNumberInput.onchange = () => {
      LoadScript();
    };
  }
  CreateBlockPool() {
    this.blocksDiv.empty();
    this.delDiv.addEventListener("dragover", (event) => {
      event.preventDefault();
      if (event.dataTransfer !== null) {
        event.dataTransfer.dropEffect = "copy";
      }
      this.delDiv.className = "geod3-block-delete-div-hover";
    });
    this.delDiv.addEventListener("dragleave", (event) => {
      event.stopPropagation();
      this.delDiv.className = "geod3-block-delete-div";
    });
    this.delDiv.addEventListener("drop", (event) => {
      if (!(this.currentlyDraggedBlock === void 0 || this.currentlyDraggedBlockIsCopy)) {
        this.currentlyDraggedBlock.div.remove();
        const parentEI = this.currentlyDraggedBlock.parentEI;
        if (parentEI !== void 0) {
          parentEI.RemoveParameter(this.currentlyDraggedBlock.instance);
          parentEI.DisplayBlock();
        }
      }
    });
    const chainI = AFHandler.CreateI(1 /* chain */, void 0);
    const getI = AFHandler.CreateI(2 /* get */, void 0);
    const setI = AFHandler.CreateI(3 /* set */, void 0);
    const ifI = AFHandler.CreateI(4 /* if */, void 0);
    const ifElseI = AFHandler.CreateI(5 /* ifelse */, void 0);
    const compareI = AFHandler.CreateI(6 /* compare */, void 0);
    const keydownI = AFHandler.CreateI(7 /* keydown */, void 0);
    const addI = AFHandler.CreateI(8 /* add */, void 0);
    const chainBlock = AFHandler.CreateEI(chainI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const getBlock = AFHandler.CreateEI(getI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const setBlock = AFHandler.CreateEI(setI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const ifBlock = AFHandler.CreateEI(ifI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const ifElseBlock = AFHandler.CreateEI(ifElseI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const compareBlock = AFHandler.CreateEI(compareI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const keydownBlock = AFHandler.CreateEI(keydownI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    const addBlock = AFHandler.CreateEI(addI, this.blocksDiv.createDiv("geod3-script-block"), this.anp);
    AFEI.MakeBlockDraggable(chainBlock, this.anp, true);
    AFEI.MakeBlockDraggable(getBlock, this.anp, true);
    AFEI.MakeBlockDraggable(setBlock, this.anp, true);
    AFEI.MakeBlockDraggable(ifBlock, this.anp, true);
    AFEI.MakeBlockDraggable(ifElseBlock, this.anp, true);
    AFEI.MakeBlockDraggable(compareBlock, this.anp, true);
    AFEI.MakeBlockDraggable(keydownBlock, this.anp, true);
    AFEI.MakeBlockDraggable(addBlock, this.anp, true);
  }
  UnFocus(div) {
    div.empty();
  }
};
ScriptEditor.icon = "\u{1F4DC}";

// classes/project.ts
var Project = class {
  get fileManager() {
    return this.tabs[0];
  }
  get sceneView() {
    return this.tabs[1];
  }
  get scriptEditor() {
    return this.tabs[2];
  }
  get gameView() {
    return this.tabs[3];
  }
  get fileManagerTabID() {
    return 0;
  }
  get sceneViewTabID() {
    return 1;
  }
  get scriptEditorTabID() {
    return 2;
  }
  get gameViewTabID() {
    return 3;
  }
  constructor(app) {
    this.anp = new AppAndProject(app, this);
    this.tabs = [];
    this.tabs.push(new GEOD3FileManager(this.anp));
    this.tabs.push(new SceneView(this.anp));
    this.tabs.push(new ScriptEditor(this.anp));
    this.tabs.push(new GameView(this.anp));
    this.activeTabID = 0;
  }
  async Load() {
    await this.LoadFiles();
    await this.GrabFileDependencies();
    await this.LoadObjects();
  }
  async LoadFiles() {
    await this.fileManager.LoadFiles(this.anp);
  }
  async GrabFileDependencies() {
    const fm = this.fileManager;
    for (let i = 0; i < fm.files.length; i++) {
      await fm.files[i].GrabDependencies(this.anp);
    }
  }
  async LoadObjects() {
    const sv = this.sceneView;
    const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
    const tFile = this.anp.app.vault.getFileByPath(path);
    if (tFile === null) {
      return;
    }
    const data = await this.anp.app.vault.cachedRead(tFile);
    const plainObj = JSON.parse(data);
    sv.objects = plainObj.objects;
    const loadFunction = (plainFunct) => {
      const newFunct = Object.assign(AFHandler.CreateI(plainFunct.type, plainFunct.parameters), plainFunct);
      for (let i = 0; i < newFunct.defaultParameters.length; i++) {
        const isStruct = plainFunct.defaultParameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.defaultParameters[i];
          newFunct.defaultParameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.defaultParameters[i] = loadFunction(plainFunct.defaultParameters[i]);
        }
      }
      for (let i = 0; i < newFunct.parameters.length; i++) {
        const isStruct = plainFunct.parameters[i].name !== void 0;
        if (isStruct) {
          const plainStruct = plainFunct.parameters[i];
          newFunct.parameters[i] = Object.assign(ASHandler.CreateI(plainStruct.type, plainStruct.scope, plainStruct.name), plainStruct);
        } else {
          newFunct.parameters[i] = loadFunction(plainFunct.parameters[i]);
        }
      }
      return newFunct;
    };
    for (let i = 0; i < plainObj.objects.length; i++) {
      const newObj = Object.assign(new GEOD3Object(i), plainObj.objects[i]);
      sv.objects[i] = newObj;
      for (let j = 0; j < newObj.variables.length; j++) {
        const plainVar = sv.objects[i].variables[j];
        const newVar = Object.assign(ASHandler.CreateI(plainVar.type, plainVar.scope, plainVar.name), plainVar);
        sv.objects[i].variables[j] = newVar;
      }
      for (let j = 0; j < newObj.onStart.length; j++) {
        const plainFunct = sv.objects[i].onStart[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onStart[j] = newFunct;
      }
      for (let j = 0; j < newObj.onNewFrame.length; j++) {
        const plainFunct = sv.objects[i].onNewFrame[j];
        const newFunct = loadFunction(plainFunct);
        sv.objects[i].onNewFrame[j] = newFunct;
      }
    }
  }
  async Display(div) {
    div.empty();
    const tabBar = div.createDiv("geod3-tab-bar hbox");
    const tabContainer = div.createDiv("geod3-tab-container");
    const tabIcons = [];
    const filesTab = tabBar.createEl("button", { text: GEOD3FileManager.icon });
    const sceneViewTab = tabBar.createEl("button", { text: SceneView.icon });
    const scriptEditorTab = tabBar.createEl("button", { text: ScriptEditor.icon });
    const gameTab = tabBar.createEl("button", { text: GameView.icon });
    const saveButton = tabBar.createEl("button", { text: "\u{1F4BE}Save" });
    saveButton.className = "geod3-secondary-button";
    saveButton.onclick = async () => {
      saveButton.disabled = true;
      saveButton.textContent = "\u27F3Saving...";
      const path = (0, import_obsidian4.normalizePath)(this.anp.project.pathToProject + "/RESERVED FOLDER DO NOT RENAME/Objects.md");
      const data = JSON.stringify(new SceneDTO(this.anp.project.sceneView.objects));
      await this.anp.app.vault.adapter.write(path, data);
      saveButton.disabled = false;
      saveButton.textContent = "\u{1F4BE}Save";
    };
    filesTab.className = "geod3-tab-icon";
    sceneViewTab.className = "geod3-tab-icon";
    scriptEditorTab.className = "geod3-tab-icon";
    gameTab.className = "geod3-tab-icon";
    tabIcons.push(filesTab);
    tabIcons.push(sceneViewTab);
    tabIcons.push(scriptEditorTab);
    tabIcons.push(gameTab);
    tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
    this.tabs[this.activeTabID].Focus(tabContainer);
    const switchToTab = async (index) => {
      tabIcons[this.activeTabID].className = "geod3-tab-icon";
      await this.tabs[this.activeTabID].UnFocus(tabContainer);
      this.activeTabID = index;
      tabIcons[this.activeTabID].className = "geod3-tab-icon-opened";
      this.tabs[this.activeTabID].Focus(tabContainer);
    };
    this.SwitchToTab = switchToTab;
    filesTab.onclick = () => {
      switchToTab(0);
    };
    sceneViewTab.onclick = () => {
      switchToTab(1);
    };
    scriptEditorTab.onclick = () => {
      switchToTab(2);
    };
    gameTab.onclick = () => {
      switchToTab(3);
    };
  }
};
var AppAndProject = class {
  constructor(app, project) {
    this.app = app;
    this.project = project;
  }
};
var SceneDTO = class {
  constructor(objects = []) {
    this.objects = objects;
  }
};

// classes/geod3-view.ts
var VIEW_TYPE_GEOD3_PROJECT = "geod3-view";
var GEOD3View = class extends import_obsidian5.ItemView {
  constructor(leaf, defaultPath) {
    super(leaf);
    this.defaultPath = defaultPath;
  }
  getViewType() {
    return VIEW_TYPE_GEOD3_PROJECT;
  }
  getDisplayText() {
    return "GEO:D3";
  }
  async onOpen() {
    const mainEl = this.containerEl.children[1];
    mainEl.empty();
    const mainDiv = mainEl.createDiv("geod3-main-div");
    const mainDivTemp = mainDiv.createDiv("geod3-main-div");
    mainDivTemp.tabIndex = -1;
    mainDivTemp.focus();
    mainDivTemp.createEl("h1", { text: "Path to project:" });
    const pathInput = mainDivTemp.createEl("input", { type: "text", value: this.defaultPath });
    const submitButton = mainDivTemp.createEl("button", { text: "Open" });
    const onSubmit = async () => {
      const folderPath = (0, import_obsidian5.normalizePath)(pathInput.value);
      const dataPath = folderPath + "/RESERVED FOLDER DO NOT RENAME/Objects.md";
      this.project = new Project(this.app);
      this.project.pathToProject = folderPath;
      if (!await this.app.vault.adapter.exists(dataPath)) {
        const newDTO = new SceneDTO();
        const pathParts = dataPath.split("/");
        let pathSoFar = "";
        for (let i = 0; !await this.app.vault.adapter.exists(dataPath) && i < pathParts.length; i++) {
          const isLast = i === pathParts.length - 1;
          pathSoFar += pathParts[i] + (isLast ? "" : "/");
          if (isLast) {
            await this.app.vault.create(pathSoFar, JSON.stringify(newDTO));
          } else {
            await this.app.vault.createFolder(pathSoFar);
          }
        }
      }
      await this.project.Load();
      await this.project.Display(mainDiv);
    };
    submitButton.onclick = onSubmit;
    mainDivTemp.onkeydown = (e) => {
      if (e.key === "Enter") {
        mainDivTemp.blur();
        mainDivTemp.onkeydown = () => {
        };
        onSubmit();
      }
    };
  }
  async onClose() {
    this.project.gameView.stillRunning = false;
  }
};

// main.ts
var import_obsidian6 = require("obsidian");
var DEFAULT_SETTINGS = {
  projectPath: "New GEOD3 Project"
};
var GEOD3 = class extends import_obsidian6.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_GEOD3_PROJECT,
      (leaf) => new GEOD3View(leaf, this.settings.projectPath)
    );
    this.addRibbonIcon("boxes", "Open GEOD3", () => {
      this.activateView(VIEW_TYPE_GEOD3_PROJECT);
    });
    this.addCommand({
      id: "open-geod3-view",
      name: "Open GEOD3",
      callback: () => {
        this.activateView(VIEW_TYPE_GEOD3_PROJECT);
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  activateView(view_type) {
    let leaf = null;
    leaf = this.app.workspace.getLeaf("tab");
    if (leaf === null) {
      new import_obsidian6.Notice("Failed to create view: workspace leaf was null");
      return;
    }
    leaf.setViewState({ type: view_type, active: true });
  }
};
var SampleSettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).setName("Default Source Path").setDesc("The vault path to automatically fill in for the source path").addText((text) => text.setPlaceholder("Default Source Path").setValue(this.plugin.settings.projectPath).onChange(async (value) => {
      this.plugin.settings.projectPath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjbGFzc2VzL2dlb2QzLXZpZXcudHMiLCAiY2xhc3Nlcy9wcm9qZWN0LnRzIiwgImNsYXNzZXMvdGFicy9maWxlLW1hbmFnZXIudHMiLCAiY2xhc3Nlcy90YWJzL3RhYi50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9nZW9kMy1maWxlLnRzIiwgImNsYXNzZXMvdGFicy9maWxlLXR5cGVzL2dlb2QzLWZvbGRlci50cyIsICJjbGFzc2VzL3RhYnMvZmlsZS10eXBlcy9yZWFsLWZpbGUudHMiLCAiY29sb3JzLnRzIiwgImNsYXNzZXMvc3RydWN0cy9zdHJ1Y3QudHMiLCAiY2xhc3Nlcy90YWJzL2dlb2QzLW9iamVjdC50cyIsICJjbGFzc2VzL2Z1bmN0aW9ucy9mdW5jdGlvbi50cyIsICJjbGFzc2VzL3RhYnMvZ2FtZS12aWV3LnRzIiwgImNsYXNzZXMvdGFicy9zY2VuZS12aWV3LnRzIiwgImNsYXNzZXMvdGFicy9zY3JpcHQtZWRpdG9yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBHRU9EM1ZpZXcsIFZJRVdfVFlQRV9HRU9EM19QUk9KRUNUIH0gZnJvbSAnY2xhc3Nlcy9nZW9kMy12aWV3JztcclxuaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8qKlxyXG4gKiBHRU86RDMgc3RhbmRzIGZvciBHYW1lIEVuZ2luZSBpbiBPYnNpZGlhbjogRGV2ZWxvcGVkIGJ5IDNyZC1wYXJ0eS5cclxuICovXHJcbmludGVyZmFjZSBHRU9EM1NldHRpbmdzIHtcclxuXHRwcm9qZWN0UGF0aDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHRU9EM1NldHRpbmdzID0ge1xyXG5cdHByb2plY3RQYXRoOiAnTmV3IEdFT0QzIFByb2plY3QnXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdFT0QzIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogR0VPRDNTZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0VklFV19UWVBFX0dFT0QzX1BST0pFQ1QsXHJcblx0XHRcdChsZWFmKSA9PiBuZXcgR0VPRDNWaWV3KGxlYWYsIHRoaXMuc2V0dGluZ3MucHJvamVjdFBhdGgpXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignYm94ZXMnLCAnT3BlbiBHRU9EMycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0dFT0QzX1BST0pFQ1QpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdvcGVuLWdlb2QzLXZpZXcnLFxyXG5cdFx0XHRuYW1lOiAnT3BlbiBHRU9EMycsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoVklFV19UWVBFX0dFT0QzX1BST0pFQ1QpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhY3RpdmF0ZVZpZXcodmlld190eXBlOiBzdHJpbmcpIHtcclxuXHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcclxuXHRcdGlmIChsZWFmID09PSBudWxsKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIHZpZXc6IHdvcmtzcGFjZSBsZWFmIHdhcyBudWxsXCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IHZpZXdfdHlwZSwgYWN0aXZlOiB0cnVlIH0pO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogR0VPRDM7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEdFT0QzKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnRGVmYXVsdCBTb3VyY2UgUGF0aCcpXHJcblx0XHRcdC5zZXREZXNjKCdUaGUgdmF1bHQgcGF0aCB0byBhdXRvbWF0aWNhbGx5IGZpbGwgaW4gZm9yIHRoZSBzb3VyY2UgcGF0aCcpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRGVmYXVsdCBTb3VyY2UgUGF0aCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2plY3RQYXRoKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2plY3RQYXRoID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBJdGVtVmlldywgbm9ybWFsaXplUGF0aCwgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgUHJvamVjdCwgU2NlbmVEVE8gfSBmcm9tICcuL3Byb2plY3QnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9HRU9EM19QUk9KRUNUID0gJ2dlb2QzLXZpZXcnO1xyXG5cclxuLyoqXHJcbiAqIE9wZW5zIGEgcHJvamVjdFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdFT0QzVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICAgIGRlZmF1bHRQYXRoOiBzdHJpbmc7XHJcbiAgICBwcm9qZWN0OiBQcm9qZWN0O1xyXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgZGVmYXVsdFBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGxlYWYpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhdGggPSBkZWZhdWx0UGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gVklFV19UWVBFX0dFT0QzX1BST0pFQ1Q7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlzcGxheVRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICdHRU86RDMnO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9uT3BlbigpIHtcclxuICAgICAgICBjb25zdCBtYWluRWwgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xyXG4gICAgICAgIG1haW5FbC5lbXB0eSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1haW5EaXYgPSBtYWluRWwuY3JlYXRlRGl2KCdnZW9kMy1tYWluLWRpdicpO1xyXG4gICAgICAgIGNvbnN0IG1haW5EaXZUZW1wID0gbWFpbkRpdi5jcmVhdGVEaXYoJ2dlb2QzLW1haW4tZGl2Jyk7XHJcblxyXG4gICAgICAgIG1haW5EaXZUZW1wLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgbWFpbkRpdlRlbXAuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgbWFpbkRpdlRlbXAuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnUGF0aCB0byBwcm9qZWN0OicgfSApO1xyXG4gICAgICAgIGNvbnN0IHBhdGhJbnB1dCA9IG1haW5EaXZUZW1wLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5kZWZhdWx0UGF0aCB9ICk7XHJcbiAgICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gbWFpbkRpdlRlbXAuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ09wZW4nIH0gKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aElucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YVBhdGggPSBmb2xkZXJQYXRoICsgJy9SRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRS9PYmplY3RzLm1kJztcclxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0ID0gbmV3IFByb2plY3QodGhpcy5hcHApO1xyXG4gICAgICAgICAgICB0aGlzLnByb2plY3QucGF0aFRvUHJvamVjdCA9IGZvbGRlclBhdGg7XHJcbiAgICAgICAgICAgIGlmICghYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZGF0YVBhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdEVE8gPSBuZXcgU2NlbmVEVE8oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBkYXRhUGF0aC5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdGhTb0ZhciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7ICEoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZGF0YVBhdGgpKSAmJiBpIDwgcGF0aFBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gcGF0aFBhcnRzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aFNvRmFyICs9IHBhdGhQYXJ0c1tpXSArIChpc0xhc3QgPyAnJyA6ICcvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGFzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUocGF0aFNvRmFyLCBKU09OLnN0cmluZ2lmeShuZXdEVE8pKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIocGF0aFNvRmFyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9qZWN0LkxvYWQoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9qZWN0LkRpc3BsYXkobWFpbkRpdik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gb25TdWJtaXQ7XHJcbiAgICAgICAgbWFpbkRpdlRlbXAub25rZXlkb3duID0gKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBtYWluRGl2VGVtcC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICBtYWluRGl2VGVtcC5vbmtleWRvd24gPSAoKSA9PiB7fTtcclxuICAgICAgICAgICAgICAgIG9uU3VibWl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcclxuICAgICAgICB0aGlzLnByb2plY3QuZ2FtZVZpZXcuc3RpbGxSdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGVNYW5hZ2VyIH0gZnJvbSBcIi4vdGFicy9maWxlLW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgR2FtZVZpZXcgfSBmcm9tIFwiLi90YWJzL2dhbWUtdmlld1wiO1xyXG5pbXBvcnQgeyBTY2VuZVZpZXcgfSBmcm9tIFwiLi90YWJzL3NjZW5lLXZpZXdcIjtcclxuaW1wb3J0IHsgU2NyaXB0RWRpdG9yIH0gZnJvbSBcIi4vdGFicy9zY3JpcHQtZWRpdG9yXCI7XHJcbmltcG9ydCB7IFRhYiB9IGZyb20gXCIuL3RhYnMvdGFiXCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0IH0gZnJvbSBcIi4vdGFicy9nZW9kMy1vYmplY3RcIjtcclxuaW1wb3J0IHsgQVNIYW5kbGVyIH0gZnJvbSBcIi4vc3RydWN0cy9zdHJ1Y3RcIjtcclxuaW1wb3J0IHsgQUYsIEFGSGFuZGxlciwgQUZJIH0gZnJvbSBcIi4vZnVuY3Rpb25zL2Z1bmN0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdCB7XHJcbiAgICBwYXRoVG9Qcm9qZWN0OiBzdHJpbmc7XHJcbiAgICB0YWJzOiBUYWJbXTtcclxuXHJcbiAgICBnZXQgZmlsZU1hbmFnZXIoKTogR0VPRDNGaWxlTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIDxHRU9EM0ZpbGVNYW5hZ2VyPiB0aGlzLnRhYnNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjZW5lVmlldygpOiBTY2VuZVZpZXcge1xyXG4gICAgICAgIHJldHVybiA8U2NlbmVWaWV3PiB0aGlzLnRhYnNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjcmlwdEVkaXRvcigpOiBTY3JpcHRFZGl0b3Ige1xyXG4gICAgICAgIHJldHVybiA8U2NyaXB0RWRpdG9yPiB0aGlzLnRhYnNbMl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGdhbWVWaWV3KCk6IEdhbWVWaWV3IHtcclxuICAgICAgICByZXR1cm4gPEdhbWVWaWV3PiB0aGlzLnRhYnNbM107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZpbGVNYW5hZ2VyVGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NlbmVWaWV3VGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NyaXB0RWRpdG9yVGFiSUQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZ2FtZVZpZXdUYWJJRCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAzO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGl2ZVRhYklEOiBudW1iZXI7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3RcclxuXHJcbiAgICBTd2l0Y2hUb1RhYjogKGluZGV4OiBudW1iZXIpID0+IFByb21pc2U8dm9pZD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuICAgICAgICB0aGlzLmFucCA9IG5ldyBBcHBBbmRQcm9qZWN0KGFwcCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy50YWJzID0gW107XHJcbiAgICAgICAgdGhpcy50YWJzLnB1c2gobmV3IEdFT0QzRmlsZU1hbmFnZXIodGhpcy5hbnApKTtcclxuICAgICAgICB0aGlzLnRhYnMucHVzaChuZXcgU2NlbmVWaWV3KHRoaXMuYW5wKSk7XHJcbiAgICAgICAgdGhpcy50YWJzLnB1c2gobmV3IFNjcmlwdEVkaXRvcih0aGlzLmFucCkpO1xyXG4gICAgICAgIHRoaXMudGFicy5wdXNoKG5ldyBHYW1lVmlldyh0aGlzLmFucCkpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlVGFiSUQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIExvYWQoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5Mb2FkRmlsZXMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLkdyYWJGaWxlRGVwZW5kZW5jaWVzKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5Mb2FkT2JqZWN0cygpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgTG9hZEZpbGVzKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZmlsZU1hbmFnZXIuTG9hZEZpbGVzKHRoaXMuYW5wKTtcclxuICAgIH1cclxuICAgIGFzeW5jIEdyYWJGaWxlRGVwZW5kZW5jaWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGZtID0gdGhpcy5maWxlTWFuYWdlcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZtLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZtLmZpbGVzW2ldLkdyYWJEZXBlbmRlbmNpZXModGhpcy5hbnApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIExvYWRPYmplY3RzKCkge1xyXG4gICAgICAgIGNvbnN0IHN2ID0gdGhpcy5zY2VuZVZpZXc7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgodGhpcy5hbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgJy9SRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRS9PYmplY3RzLm1kJyk7XHJcbiAgICAgICAgY29uc3QgdEZpbGUgPSB0aGlzLmFucC5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChwYXRoKTtcclxuICAgICAgICBpZiAodEZpbGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hbnAuYXBwLnZhdWx0LmNhY2hlZFJlYWQodEZpbGUpO1xyXG4gICAgICAgIGNvbnN0IHBsYWluT2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICBzdi5vYmplY3RzID0gcGxhaW5PYmoub2JqZWN0cztcclxuICAgICAgICBjb25zdCBsb2FkRnVuY3Rpb24gPSAocGxhaW5GdW5jdDogYW55KTogQUZJID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3RnVuY3QgPSBPYmplY3QuYXNzaWduKEFGSGFuZGxlci5DcmVhdGVJKHBsYWluRnVuY3QudHlwZSwgcGxhaW5GdW5jdC5wYXJhbWV0ZXJzKSwgcGxhaW5GdW5jdCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RnVuY3QuZGVmYXVsdFBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU3RydWN0ID0gcGxhaW5GdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXS5uYW1lICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFpblN0cnVjdCA9IHBsYWluRnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RnVuY3QuZGVmYXVsdFBhcmFtZXRlcnNbaV0gPSBPYmplY3QuYXNzaWduKEFTSGFuZGxlci5DcmVhdGVJKHBsYWluU3RydWN0LnR5cGUsIHBsYWluU3RydWN0LnNjb3BlLCBwbGFpblN0cnVjdC5uYW1lKSwgcGxhaW5TdHJ1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdGdW5jdC5kZWZhdWx0UGFyYW1ldGVyc1tpXSA9IGxvYWRGdW5jdGlvbihwbGFpbkZ1bmN0LmRlZmF1bHRQYXJhbWV0ZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0Z1bmN0LnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU3RydWN0ID0gcGxhaW5GdW5jdC5wYXJhbWV0ZXJzW2ldLm5hbWUgIT09IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGlmIChpc1N0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluU3RydWN0ID0gcGxhaW5GdW5jdC5wYXJhbWV0ZXJzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0Z1bmN0LnBhcmFtZXRlcnNbaV0gPSBPYmplY3QuYXNzaWduKEFTSGFuZGxlci5DcmVhdGVJKHBsYWluU3RydWN0LnR5cGUsIHBsYWluU3RydWN0LnNjb3BlLCBwbGFpblN0cnVjdC5uYW1lKSwgcGxhaW5TdHJ1Y3QpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdGdW5jdC5wYXJhbWV0ZXJzW2ldID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QucGFyYW1ldGVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ld0Z1bmN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYWluT2JqLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3T2JqID0gT2JqZWN0LmFzc2lnbihuZXcgR0VPRDNPYmplY3QoaSksIHBsYWluT2JqLm9iamVjdHNbaV0pO1xyXG4gICAgICAgICAgICBzdi5vYmplY3RzW2ldID0gbmV3T2JqO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5ld09iai52YXJpYWJsZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWluVmFyID0gc3Yub2JqZWN0c1tpXS52YXJpYWJsZXNbal07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYXIgPSBPYmplY3QuYXNzaWduKEFTSGFuZGxlci5DcmVhdGVJKHBsYWluVmFyLnR5cGUsIHBsYWluVmFyLnNjb3BlLCBwbGFpblZhci5uYW1lKSwgcGxhaW5WYXIpO1xyXG4gICAgICAgICAgICAgICAgc3Yub2JqZWN0c1tpXS52YXJpYWJsZXNbal0gPSBuZXdWYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdPYmoub25TdGFydC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhaW5GdW5jdCA9IHN2Lm9iamVjdHNbaV0ub25TdGFydFtqXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Z1bmN0ID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QpO1xyXG4gICAgICAgICAgICAgICAgc3Yub2JqZWN0c1tpXS5vblN0YXJ0W2pdID0gbmV3RnVuY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZXdPYmoub25OZXdGcmFtZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhaW5GdW5jdCA9IHN2Lm9iamVjdHNbaV0ub25OZXdGcmFtZVtqXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Z1bmN0ID0gbG9hZEZ1bmN0aW9uKHBsYWluRnVuY3QpO1xyXG4gICAgICAgICAgICAgICAgc3Yub2JqZWN0c1tpXS5vbk5ld0ZyYW1lW2pdID0gbmV3RnVuY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgRGlzcGxheShkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhYkJhciA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXRhYi1iYXIgaGJveCcpO1xyXG4gICAgICAgIGNvbnN0IHRhYkNvbnRhaW5lciA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXRhYi1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFiSWNvbnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlsZXNUYWIgPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogR0VPRDNGaWxlTWFuYWdlci5pY29uIH0gKTtcclxuICAgICAgICBjb25zdCBzY2VuZVZpZXdUYWIgPSB0YWJCYXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogU2NlbmVWaWV3Lmljb24gfSApO1xyXG4gICAgICAgIGNvbnN0IHNjcmlwdEVkaXRvclRhYiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBTY3JpcHRFZGl0b3IuaWNvbiB9ICk7XHJcbiAgICAgICAgY29uc3QgZ2FtZVRhYiA9IHRhYkJhci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiBHYW1lVmlldy5pY29uIH0gKTtcclxuICAgICAgICBjb25zdCBzYXZlQnV0dG9uID0gdGFiQmFyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdUQ4M0RcdURDQkVTYXZlJyB9ICk7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtc2Vjb25kYXJ5LWJ1dHRvbic7XHJcbiAgICAgICAgc2F2ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdcdTI3RjNTYXZpbmcuLi4nO1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbm9ybWFsaXplUGF0aCh0aGlzLmFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyAnL1JFU0VSVkVEIEZPTERFUiBETyBOT1QgUkVOQU1FL09iamVjdHMubWQnKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG5ldyBTY2VuZURUTyh0aGlzLmFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzKSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGgsIGRhdGEpO1xyXG4gICAgICAgICAgICBzYXZlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNhdmVCdXR0b24udGV4dENvbnRlbnQgPSAnXHVEODNEXHVEQ0JFU2F2ZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmaWxlc1RhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgIHNjZW5lVmlld1RhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgIHNjcmlwdEVkaXRvclRhYi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgIGdhbWVUYWIuY2xhc3NOYW1lID0gJ2dlb2QzLXRhYi1pY29uJztcclxuXHJcbiAgICAgICAgdGFiSWNvbnMucHVzaChmaWxlc1RhYik7XHJcbiAgICAgICAgdGFiSWNvbnMucHVzaChzY2VuZVZpZXdUYWIpO1xyXG4gICAgICAgIHRhYkljb25zLnB1c2goc2NyaXB0RWRpdG9yVGFiKTtcclxuICAgICAgICB0YWJJY29ucy5wdXNoKGdhbWVUYWIpO1xyXG5cclxuICAgICAgICB0YWJJY29uc1t0aGlzLmFjdGl2ZVRhYklEXS5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24tb3BlbmVkJztcclxuICAgICAgICB0aGlzLnRhYnNbdGhpcy5hY3RpdmVUYWJJRF0uRm9jdXModGFiQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3dpdGNoVG9UYWIgPSBhc3luYyAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICB0YWJJY29uc1t0aGlzLmFjdGl2ZVRhYklEXS5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWljb24nO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRhYnNbdGhpcy5hY3RpdmVUYWJJRF0uVW5Gb2N1cyh0YWJDb250YWluZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYklEID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHRhYkljb25zW3RoaXMuYWN0aXZlVGFiSURdLmNsYXNzTmFtZSA9ICdnZW9kMy10YWItaWNvbi1vcGVuZWQnO1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNbdGhpcy5hY3RpdmVUYWJJRF0uRm9jdXModGFiQ29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuU3dpdGNoVG9UYWIgPSBzd2l0Y2hUb1RhYjtcclxuXHJcbiAgICAgICAgZmlsZXNUYWIub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoVG9UYWIoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjZW5lVmlld1RhYi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2hUb1RhYigxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2NyaXB0RWRpdG9yVGFiLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaFRvVGFiKDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnYW1lVGFiLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaFRvVGFiKDMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcEFuZFByb2plY3Qge1xyXG4gICAgYXBwOiBBcHA7XHJcbiAgICBwcm9qZWN0OiBQcm9qZWN0O1xyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHByb2plY3Q6IFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2NlbmVEVE8ge1xyXG4gICAgb2JqZWN0czogR0VPRDNPYmplY3RbXTtcclxuICAgIGNvbnN0cnVjdG9yKG9iamVjdHM6IEdFT0QzT2JqZWN0W10gPSBbXSkge1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IG9iamVjdHM7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgVGFiIH0gZnJvbSBcIi4vdGFiXCI7XHJcbmltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZSB9IGZyb20gXCIuL2ZpbGUtdHlwZXMvZ2VvZDMtZmlsZVwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZvbGRlciB9IGZyb20gXCIuL2ZpbGUtdHlwZXMvZ2VvZDMtZm9sZGVyXCI7XHJcbmltcG9ydCB7IEltYWdlRmlsZSwgU291bmRGaWxlLCBWaWRlb0ZpbGUgfSBmcm9tIFwiLi9maWxlLXR5cGVzL3JlYWwtZmlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzRmlsZU1hbmFnZXIgZXh0ZW5kcyBUYWIge1xyXG4gICAgc3RhdGljIG92ZXJyaWRlIGljb24gPSAnXHVEODNEXHVEQ0MxJztcclxuICAgIGZpbGVzOiBHRU9EM0ZpbGVbXTtcclxuICAgIG1haW5EaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgZmlsZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcm9wZXJ0aWVzRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIFxyXG4gICAgZ2V0IGltYWdlRmlsZXMoKTogSW1hZ2VGaWxlW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXSBpbnN0YW5jZW9mIEltYWdlRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goPEltYWdlRmlsZT4gdGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHNvdW5kRmlsZXMoKTogU291bmRGaWxlW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXSBpbnN0YW5jZW9mIFNvdW5kRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goPFNvdW5kRmlsZT4gdGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHZpZGVvRmlsZXMoKTogVmlkZW9GaWxlW10ge1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXSBpbnN0YW5jZW9mIFZpZGVvRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goPFZpZGVvRmlsZT4gdGhpcy5maWxlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRGaWxlKHBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tpXS5wYXRoID09PSBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWxlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggJyArIHBhdGggKyAnIG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIEdldEZpbGVCeVByaW1pdGl2ZVBhdGgocGF0aDogc3RyaW5nKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVzW2ldLnBhdGgudmFsdWVPZigpID09PSBwYXRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWxlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggJyArIHBhdGggKyAnIG5vdCBmb3VuZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHN1cGVyKGFucCk7XHJcbiAgICAgICAgdGhpcy5maWxlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBLTk9XTl9GSUxFX1RZUEVTID0gW1xyXG4gICAgICAgICdcdUQ4M0RcdURDQzFGb2xkZXInLFxyXG4gICAgICAgICdcdUQ4M0RcdUREQkNcdUZFMEZJbWFnZScsXHJcbiAgICAgICAgJ1x1RDgzRFx1REQwQVNvdW5kJyxcclxuICAgICAgICAnXHVEODNDXHVERjlFXHVGRTBGVmlkZW8nXHJcbiAgICBdXHJcblxyXG4gICAgcHJpdmF0ZSBBc3NpZ25PYmplY3RGcm9tRmlsZVR5cGUocGxhaW5PYmo6IGFueSwgcGF0aDogc3RyaW5nLCBwYXJlbnRQYXRoOiBTdHJpbmcpOiBHRU9EM0ZpbGUge1xyXG4gICAgICAgIHBsYWluT2JqLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHBsYWluT2JqLnBhcmVudFBhdGggPSBwYXJlbnRQYXRoO1xyXG4gICAgICAgIHN3aXRjaChwbGFpbk9iai50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1RENDMUZvbGRlcic6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgR0VPRDNGb2xkZXIocGF0aCwgcGFyZW50UGF0aCksIHBsYWluT2JqKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVEREJDXHVGRTBGSW1hZ2UnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEltYWdlRmlsZShwYXRoLCBwYXJlbnRQYXRoKSwgcGxhaW5PYmopO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdUREMEFTb3VuZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgU291bmRGaWxlKHBhdGgsIHBhcmVudFBhdGgpLCBwbGFpbk9iaik7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzQ1x1REY5RVx1RkUwRlZpZGVvJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBWaWRlb0ZpbGUocGF0aCwgcGFyZW50UGF0aCksIHBsYWluT2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIENyZWF0ZUZpbGVPZlR5cGUocGF0aDogc3RyaW5nLCBwYXJlbnRQYXRoOiBTdHJpbmcsIHR5cGU6IHN0cmluZyk6IEdFT0QzRmlsZSB7XHJcbiAgICAgICAgc3dpdGNoKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNEXHVEQ0MxRm9sZGVyJzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR0VPRDNGb2xkZXIocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgICAgIGNhc2UgJ1x1RDgzRFx1RERCQ1x1RkUwRkltYWdlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW1hZ2VGaWxlKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgICAgICBjYXNlICdcdUQ4M0RcdUREMEFTb3VuZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvdW5kRmlsZShwYXRoLCBwYXJlbnRQYXRoKTtcclxuICAgICAgICAgICAgY2FzZSAnXHVEODNDXHVERjlFXHVGRTBGVmlkZW8nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWRlb0ZpbGUocGF0aCwgcGFyZW50UGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIExvYWRGaWxlcyhhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLmZpbGVzID0gW107XHJcbiAgICAgICAgY29uc3QgYXBwID0gYW5wLmFwcDtcclxuICAgICAgICBjb25zdCB2YXVsdCA9IGFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2plY3RGb2xkZXIgPSB2YXVsdC5nZXRGb2xkZXJCeVBhdGgocHJvamVjdC5wYXRoVG9Qcm9qZWN0KTtcclxuICAgICAgICBpZiAocHJvamVjdEZvbGRlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2plY3QgZm9sZGVyIGRvZXMgbm90IGV4aXN0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmb2xkZXJTdGFjazogW1RGb2xkZXIsIEdFT0QzRm9sZGVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgICAgICBjb25zdCBURmluZGV4ID0gMDtcclxuICAgICAgICBjb25zdCBHRmluZGV4ID0gMTtcclxuICAgICAgICBjb25zdCBDRmluZGV4ID0gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgcm9vdFBhdGggPSBuZXcgU3RyaW5nKCcvJyk7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IG5ldyBHRU9EM0ZvbGRlcihyb290UGF0aCwgcm9vdFBhdGgpO1xyXG4gICAgICAgIGZvbGRlclN0YWNrLnB1c2goW3Byb2plY3RGb2xkZXIsIHJvb3QsIDBdKTtcclxuICAgICAgICB0aGlzLmZpbGVzLnB1c2gocm9vdCk7XHJcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKGZvbGRlclN0YWNrWzBdW0NGaW5kZXhdIDwgcHJvamVjdEZvbGRlci5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyckZvbGRlciA9IGZvbGRlclN0YWNrW2RlcHRoXTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckluZGV4ID0gY3VyckZvbGRlcltDRmluZGV4XTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckZpbGUgPSBjdXJyRm9sZGVyW1RGaW5kZXhdLmNoaWxkcmVuW2N1cnJJbmRleF07XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGN1cnJGaWxlLnBhdGgucmVwbGFjZShwcm9qZWN0LnBhdGhUb1Byb2plY3QsICcnKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJGaWxlLm5hbWUgIT09ICdSRVNFUlZFRCBGT0xERVIgRE8gTk9UIFJFTkFNRScpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyRmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdHRU9EM0ZvbGRlciA9IG5ldyBHRU9EM0ZvbGRlcihyZWxhdGl2ZVBhdGgsIGN1cnJGb2xkZXJbR0ZpbmRleF0ucGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKG5ld0dFT0QzRm9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyRm9sZGVyW0dGaW5kZXhdLmZpbGVzLnB1c2gobmV3R0VPRDNGb2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnB1c2goW2N1cnJGaWxlLCBuZXdHRU9EM0ZvbGRlciwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyckZpbGUuZXh0ZW5zaW9uID09PSAnbWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB2YXVsdC5jYWNoZWRSZWFkKDxURmlsZT4gY3VyckZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFpbk9iaiA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGUgPSB0aGlzLkFzc2lnbk9iamVjdEZyb21GaWxlVHlwZShwbGFpbk9iaiwgcmVsYXRpdmVQYXRoLnNsaWNlKDAsIC0zKSwgY3VyckZvbGRlcltHRmluZGV4XS5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyckZvbGRlcltHRmluZGV4XS5maWxlcy5wdXNoKG5ld0ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2gobmV3RmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJGb2xkZXJbQ0ZpbmRleF0rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJGb2xkZXJbQ0ZpbmRleF0rKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdID49IGZvbGRlclN0YWNrW2RlcHRoXVtURmluZGV4XS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChkZXB0aCA+IDAgJiYgZm9sZGVyU3RhY2tbZGVwdGhdW0NGaW5kZXhdID49IGZvbGRlclN0YWNrW2RlcHRoXVtURmluZGV4XS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBGb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5tYWluRGl2ID0gZGl2O1xyXG4gICAgICAgIHRoaXMubWFpbkRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWNvbnRhaW5lciBoYm94JztcclxuICAgICAgICB0aGlzLmZpbGVEaXYgPSBkaXYuY3JlYXRlRGl2KCd2Ym94Jyk7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzRGl2ID0gZGl2LmNyZWF0ZURpdigndmJveCcpO1xyXG4gICAgICAgIHRoaXMuZmlsZURpdi5zdHlsZS53aWR0aCA9ICc3MCUnO1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllc0Rpdi5zdHlsZS53aWR0aCA9ICczMCUnO1xyXG4gICAgICAgIHRoaXMuZmlsZXNbMF0uT3Blbih0aGlzLmFucCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgVW5Gb2N1cyhkaXY6IEhUTUxEaXZFbGVtZW50KTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGFiIHtcclxuICAgIHN0YXRpYyBpY29uOiBzdHJpbmc7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3Q7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBhbnAgYSByZWZlcmVuY2UgdG8gdGhlIG9ic2lkaWFuIGFwcCB0byByZWFkIGFuZCB3cml0ZSBmaWxlcyBhcyB3ZWxsIGFzIHRoZSBnZW9kMyBwcm9qZWN0IHRoaXMgdGFiIHNob3VsZCBsb29rIGF0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGFucDogQXBwQW5kUHJvamVjdCkge1xyXG4gICAgICAgIHRoaXMuYW5wID0gYW5wO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiAoZm9jdXMgb24pIHRoZSB0YWJcclxuICAgICAqIEBwYXJhbSBkaXYgdGhlIG1haW4gZGl2IG9mIHRoZSB2aWV3XHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0IEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmZvY3VzIHRoaXMgdGFiIGJlZm9yZSBmb2N1c2luZyBvbiBhbm90aGVyIG9uZS5cclxuICAgICAqIFRoaXMgcHJldmVudHMgdGhpbmdzIGhhcHBlbmluZyBpbiB0aGUgYmFja2dyb3VuZCB3aGlsZSB0aGUgdXNlciBpc24ndCBsb29raW5nLFxyXG4gICAgICogb3IganVzdCBwYXVzaW5nIGxvb3BzXHJcbiAgICAgKiBAcGFyYW0gZGl2IHRoZSBtYWluIGRpdiBvZiB0aGUgdmlld1xyXG4gICAgICovXHJcbiAgICBhYnN0cmFjdCBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcclxufSIsICJpbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSAnY2xhc3Nlcy9wcm9qZWN0JztcclxuaW1wb3J0IHsgR0VPRDNGaWxlTWFuYWdlciB9IGZyb20gJy4uL2ZpbGUtbWFuYWdlcic7XHJcbmltcG9ydCB7IEdFT0QzRm9sZGVyIH0gZnJvbSAnLi9nZW9kMy1mb2xkZXInO1xyXG5pbXBvcnQgeyBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdFT0QzRmlsZSB7XHJcbiAgICBwYXJlbnRQYXRoOiBTdHJpbmc7XHJcbiAgICBnZXRQYXJlbnQobWFuYWdlcjogR0VPRDNGaWxlTWFuYWdlcik6IEdFT0QzRm9sZGVyIHtcclxuICAgICAgICByZXR1cm4gPEdFT0QzRm9sZGVyPiBtYW5hZ2VyLkdldEZpbGUodGhpcy5wYXJlbnRQYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBwYXRoIHRvIHRoaXMgZmlsZSBSRUxBVElWRSBUTyBUSEUgUFJPSkVDVCBGT0xERVIsIE5PVCBUSEUgVkFVTFRcclxuICAgICAqL1xyXG4gICAgcGF0aDogU3RyaW5nO1xyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBwYXRoUGFydHMgPSB0aGlzLnBhdGgudmFsdWVPZigpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgaWYgKHRoaXMucGF0aC52YWx1ZU9mKCkgPT09ICcvJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3Jvb3QnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBhYnN0cmFjdCBnZXQgZGF0YSgpOiBhbnk7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBTdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIHRoaXMucGFyZW50UGF0aCA9IHBhcmVudFBhdGg7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgIH1cclxuICAgIGFzeW5jIEdyYWJEZXBlbmRlbmNpZXMoYW5wOiBBcHBBbmRQcm9qZWN0KTogUHJvbWlzZTx2b2lkPiB7fVxyXG4gICAgYXN5bmMgRGlzcGxheVRodW1ibmFpbChhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgdGh1bWJuYWlsRGl2LmVtcHR5KCk7XHJcblx0XHR0aHVtYm5haWxEaXYub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZXRQYXJlbnQobWFuYWdlcikuU2VsZWN0RmlsZShhbnAsIHRoaXMsIHRodW1ibmFpbERpdik7XHJcblx0XHR9XHJcblx0XHR0aHVtYm5haWxEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdGhpcy5uYW1lIH0gKTtcclxuXHRcdHRodW1ibmFpbERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVHlwZTogJyArIHRoaXMudHlwZSB9ICk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBPcGVuKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBtYW5hZ2VyLmZpbGVEaXYuZW1wdHkoKTtcclxuICAgICAgICBtYW5hZ2VyLmZpbGVEaXYuY2xhc3NOYW1lID0gJ3Zib3gnO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gbWFuYWdlci5maWxlRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdHbyBiYWNrIHRvICcgKyB0aGlzLmdldFBhcmVudChtYW5hZ2VyKS5uYW1lIH0gKTtcclxuXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldFBhcmVudChtYW5hZ2VyKS5PcGVuKGFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgRGlzcGxheVByb3BlcnRpZXMoYW5wOiBBcHBBbmRQcm9qZWN0LCB0aHVtYm5haWxEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIG1hbmFnZXIucHJvcGVydGllc0Rpdi5lbXB0eSgpO1xyXG5cdFx0Y29uc3QgbmFtZUlucHV0ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5uYW1lIH0gKTtcclxuXHRcdG1hbmFnZXIucHJvcGVydGllc0Rpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnVHlwZTogJyArIHRoaXMudHlwZSB9ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdmF1bHQgPSBhbnAuYXBwLnZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBhbnAucHJvamVjdDtcclxuXHJcbiAgICAgICAgbmFtZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSB0aGlzLnBhdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBvcmlnaW5hbFBhdGggKyAnLm1kJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJOYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gdGhpcy5wYXRoLnNsaWNlKDAsIC1jdXJyTmFtZS5sZW5ndGgpICsgbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodEZpbGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LnJlbmFtZSh0RmlsZSwgcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgbmV3UGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBuZXdQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlUaHVtYm5haWwoYW5wLCB0aHVtYm5haWxEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIFNhdmUoYW5wOiBBcHBBbmRQcm9qZWN0KSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgoYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArIHRoaXMucGF0aCArICcubWQnKTtcclxuICAgICAgICBhbnAuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUocGF0aCwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcEFuZFByb2plY3QgfSBmcm9tIFwiY2xhc3Nlcy9wcm9qZWN0XCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZU1hbmFnZXIgfSBmcm9tIFwiLi4vZmlsZS1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZSB9IGZyb20gXCIuL2dlb2QzLWZpbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHRU9EM0ZvbGRlciBleHRlbmRzIEdFT0QzRmlsZSB7XHJcbiAgICBvdmVycmlkZSB0eXBlID0gJ1x1RDgzRFx1RENDMUZvbGRlcic7XHJcbiAgICBmaWxlczogR0VPRDNGaWxlW107XHJcbiAgICBzZWxlY3RlZFRodW1ibmFpbDogW0dFT0QzRmlsZSwgSFRNTERpdkVsZW1lbnRdIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIG92ZXJyaWRlIGdldCBkYXRhKCk6IEdFT0QzRmlsZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWxlcztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBTdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgIHRoaXMuZmlsZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVycmlkZSBhc3luYyBPcGVuKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBzdXBlci5PcGVuKGFucCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYW5wLmFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlRGl2ID0gbWFuYWdlci5maWxlRGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVEcm9wZG93biA9IGNyZWF0ZURpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHRU9EM0ZpbGVNYW5hZ2VyLktOT1dOX0ZJTEVfVFlQRVMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclR5cGUgPSBHRU9EM0ZpbGVNYW5hZ2VyLktOT1dOX0ZJTEVfVFlQRVNbaV07XHJcbiAgICAgICAgICAgIHR5cGVEcm9wZG93bi5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBjdXJyVHlwZSwgdmFsdWU6IGN1cnJUeXBlIH0gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHlwZURyb3Bkb3duLnZhbHVlID0gR0VPRDNGaWxlTWFuYWdlci5LTk9XTl9GSUxFX1RZUEVTWzBdO1xyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IGNyZWF0ZURpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICdVbm5hbWVkJyB9ICk7XHJcbiAgICAgICAgY29uc3QgYWRkQnV0dG9uID0gY3JlYXRlRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcbiAgICAgICAgYWRkQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1JlbFBhdGggPSB0aGlzLnBhdGggKyAodGhpcy5wYXRoLnZhbHVlT2YoKSA9PT0gJy8nID8gJycgOiAnLycpICsgbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgbmV3UmVsUGF0aDtcclxuICAgICAgICAgICAgY29uc3QgbmV3R0VPRDNGaWxlID0gR0VPRDNGaWxlTWFuYWdlci5DcmVhdGVGaWxlT2ZUeXBlKG5ld1JlbFBhdGgsIHRoaXMucGF0aCwgdHlwZURyb3Bkb3duLnZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVEcm9wZG93bi52YWx1ZSA9PT0gJ1x1RDgzRFx1RENDMUZvbGRlcicpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LmNyZWF0ZUZvbGRlcihuZXdQYXRoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LmNyZWF0ZShuZXdQYXRoICsgJy5tZCcsIEpTT04uc3RyaW5naWZ5KG5ld0dFT0QzRmlsZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hbmFnZXIuZmlsZXMucHVzaChuZXdHRU9EM0ZpbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGVzLnB1c2gobmV3R0VPRDNGaWxlKTtcclxuICAgICAgICAgICAgdGhpcy5PcGVuKGFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWwgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbGRlckRpdiA9IG1hbmFnZXIuZmlsZURpdi5jcmVhdGVEaXYoJ2dlb2QzLWZvbGRlcicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGVzW2ldLkRpc3BsYXlUaHVtYm5haWwoYW5wLCBmb2xkZXJEaXYuY3JlYXRlRGl2KCdnZW9kMy1maWxlLXRodW1ibmFpbCBwb2ludGVyLWhvdmVyJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBTZWxlY3RGaWxlKGFucDogQXBwQW5kUHJvamVjdCwgbmV3U2VsZWN0ZWRGaWxlOiBHRU9EM0ZpbGUsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRodW1ibmFpbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMF0gPT09IG5ld1NlbGVjdGVkRmlsZSAmJiB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzFdID09PSB0aHVtYm5haWxEaXYpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFswXS5PcGVuKGFucCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUaHVtYm5haWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbFsxXS5jbGFzc05hbWUgPSAnZ2VvZDMtZmlsZS10aHVtYm5haWwgcG9pbnRlci1ob3Zlcic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRodW1ibmFpbCA9IFtuZXdTZWxlY3RlZEZpbGUsIHRodW1ibmFpbERpdl07XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUaHVtYm5haWxbMV0uY2xhc3NOYW1lID0gJ2dlb2QzLWZpbGUtdGh1bWJuYWlsIHNlbGVjdGVkIHBvaW50ZXItaG92ZXInO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGh1bWJuYWlsWzBdLkRpc3BsYXlQcm9wZXJ0aWVzKGFucCwgdGh1bWJuYWlsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgRGlzcGxheVByb3BlcnRpZXMoYW5wOiBBcHBBbmRQcm9qZWN0LCB0aHVtYm5haWxEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IGFucC5wcm9qZWN0LmZpbGVNYW5hZ2VyO1xyXG4gICAgICAgIG1hbmFnZXIucHJvcGVydGllc0Rpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IG1hbmFnZXIucHJvcGVydGllc0Rpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IHRoaXMubmFtZSB9ICk7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2YXVsdCA9IGFucC5hcHAudmF1bHQ7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG5cclxuICAgICAgICBuYW1lSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUgPSB2YXVsdC5nZXRGb2xkZXJCeVBhdGgocHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgb3JpZ2luYWxQYXRoKTtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck5hbWUgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSB0aGlzLnBhdGguc2xpY2UoMCwgLWN1cnJOYW1lLmxlbmd0aCkgKyBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh0RmlsZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmF1bHQucmVuYW1lKHRGaWxlLCBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBuZXdQYXRoO1xyXG4gICAgICAgICAgICBjb25zdCBmb2xkZXJTdGFjazogW0dFT0QzRm9sZGVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgR0ZpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IENGaW5kZXggPSAxO1xyXG4gICAgICAgICAgICBmb2xkZXJTdGFjay5wdXNoKFt0aGlzLCAwXSk7XHJcbiAgICAgICAgICAgIGxldCBkZXB0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAoZm9sZGVyU3RhY2tbMF1bQ0ZpbmRleF0gPCB0aGlzLmZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckZvbGRlciA9IGZvbGRlclN0YWNrW2RlcHRoXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJJbmRleCA9IGN1cnJGb2xkZXJbQ0ZpbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyRmlsZSA9IGN1cnJGb2xkZXJbR0ZpbmRleF0uZmlsZXNbY3VyckluZGV4XTtcclxuICAgICAgICAgICAgICAgIGN1cnJGaWxlLnBhdGggPSBjdXJyRmlsZS5wYXRoLnJlcGxhY2Uob3JpZ2luYWxQYXRoLnZhbHVlT2YoKSwgbmV3UGF0aCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyckZpbGUgaW5zdGFuY2VvZiBHRU9EM0ZvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrLnB1c2goW2N1cnJGaWxlLCAwXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyckZvbGRlcltDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSA+PSBmb2xkZXJTdGFja1tkZXB0aF1bR0ZpbmRleF0uZmlsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRlcHRoID4gMCAmJiBmb2xkZXJTdGFja1tkZXB0aF1bQ0ZpbmRleF0gPj0gZm9sZGVyU3RhY2tbZGVwdGhdW0dGaW5kZXhdLmZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJTdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclN0YWNrW2RlcHRoXVtDRmluZGV4XSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheVRodW1ibmFpbChhbnAsIHRodW1ibmFpbERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBHRU9EM0ZpbGUgfSBmcm9tIFwiLi9nZW9kMy1maWxlXCI7XHJcbmltcG9ydCB7IEdFT0QzRmlsZU1hbmFnZXIgfSBmcm9tIFwiLi4vZmlsZS1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFsRmlsZSBleHRlbmRzIEdFT0QzRmlsZSB7XHJcbiAgICBwcm90ZWN0ZWQgc3JjOiBzdHJpbmc7XHJcbiAgICBvdmVycmlkZSBnZXQgZGF0YSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNyYztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBTdHJpbmcsIHBhcmVudFBhdGg6IFN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhdGgsIHBhcmVudFBhdGgpO1xyXG4gICAgICAgIHRoaXMuc3JjID0gJyc7XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBhc3luYyBPcGVuKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1hbmFnZXIgPSBhbnAucHJvamVjdC5maWxlTWFuYWdlcjtcclxuICAgICAgICBzdXBlci5PcGVuKGFucCk7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5QWN0dWFsRmlsZShtYW5hZ2VyLmZpbGVEaXYpO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgR3JhYkRlcGVuZGVuY2llcyhhbnA6IEFwcEFuZFByb2plY3QpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhcHAgPSBhbnAuYXBwO1xyXG4gICAgICAgICAgICBjb25zdCB2YXVsdCA9IGFwcC52YXVsdDtcclxuICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IGFucC5wcm9qZWN0O1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoVG9BY3R1YWxGaWxlID0gcHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5hY3R1YWwtZmlsZSc7XHJcbiAgICAgICAgICAgIGNvbnN0IHRGaWxlID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChwYXRoVG9BY3R1YWxGaWxlKTtcclxuICAgICAgICAgICAgaWYgKHRGaWxlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgdmF1bHQucmVhZEJpbmFyeSh0RmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcclxuICAgICAgICAgICAgdGhpcy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5UHJvcGVydGllcyhhbnA6IEFwcEFuZFByb2plY3QsIHRodW1ibmFpbERpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYW5wLnByb2plY3QuZmlsZU1hbmFnZXI7XHJcbiAgICAgICAgbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmVtcHR5KCk7XHJcblx0XHRjb25zdCBuYW1lSW5wdXQgPSBtYW5hZ2VyLnByb3BlcnRpZXNEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLm5hbWUgfSApO1xyXG5cdFx0bWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUeXBlOiAnICsgdGhpcy50eXBlIH0gKTtcclxuXHRcdGNvbnN0IGN1cnJGaWxlRGl2ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheUFjdHVhbEZpbGUoY3VyckZpbGVEaXYpO1xyXG5cdFx0Y29uc3QgZmlsZUlucHV0ID0gbWFuYWdlci5wcm9wZXJ0aWVzRGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2ZpbGUnIH0gKTtcclxuXHRcdFxyXG4gICAgICAgIGNvbnN0IHZhdWx0ID0gYW5wLmFwcC52YXVsdDtcclxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYW5wLnByb2plY3Q7XHJcblxyXG4gICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgICBjb25zdCB0RmlsZTEgPSB2YXVsdC5nZXRGaWxlQnlQYXRoKHByb2plY3QucGF0aFRvUHJvamVjdCArIG9yaWdpbmFsUGF0aCArICcubWQnKTtcclxuICAgICAgICAgICAgY29uc3QgdEZpbGUyID0gdmF1bHQuZ2V0RmlsZUJ5UGF0aChwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBvcmlnaW5hbFBhdGggKyAnLmFjdHVhbC1maWxlJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJOYW1lID0gdGhpcy5uYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gdGhpcy5wYXRoLnNsaWNlKDAsIC1jdXJyTmFtZS5sZW5ndGgpICsgbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodEZpbGUxICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXVsdC5yZW5hbWUodEZpbGUxLCBwcm9qZWN0LnBhdGhUb1Byb2plY3QgKyBuZXdQYXRoICsgJy5tZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0RmlsZTIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhdWx0LnJlbmFtZSh0RmlsZTIsIHByb2plY3QucGF0aFRvUHJvamVjdCArIG5ld1BhdGggKyAnLmFjdHVhbC1maWxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXRoID0gbmV3UGF0aDtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5VGh1bWJuYWlsKGFucCwgdGh1bWJuYWlsRGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmlsZUlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlQXJyYXkgPSBmaWxlSW5wdXQuZmlsZXM7XHJcbiAgICAgICAgICAgIGlmIChmaWxlQXJyYXkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgZmlsZUFycmF5WzBdLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9NREZpbGUgPSBub3JtYWxpemVQYXRoKGFucC5wcm9qZWN0LnBhdGhUb1Byb2plY3QgKyB0aGlzLnBhdGggKyAnLm1kJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9BY3R1YWxGaWxlID0gbm9ybWFsaXplUGF0aChhbnAucHJvamVjdC5wYXRoVG9Qcm9qZWN0ICsgdGhpcy5wYXRoICsgJy5hY3R1YWwtZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlKHBhdGhUb01ERmlsZSwgSlNPTi5zdHJpbmdpZnkodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KHBhdGhUb0FjdHVhbEZpbGUsIGFycmF5QnVmZmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyRmlsZURpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlBY3R1YWxGaWxlKGN1cnJGaWxlRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhYnN0cmFjdCBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MRWxlbWVudD47XHJcbiAgICBhc3luYyBTYXZlKGFucDogQXBwQW5kUHJvamVjdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGF3YWl0IHN1cGVyLlNhdmUoYW5wKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgcGF0aFRvQWN0dWFsRmlsZSA9IG5vcm1hbGl6ZVBhdGgoYW5wLnByb2plY3QucGF0aFRvUHJvamVjdCArIHRoaXMucGF0aCArICcuYWN0dWFsLWZpbGUnKTtcclxuICAgICAgICAgICAgYXdhaXQgYW5wLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KHBhdGhUb0FjdHVhbEZpbGUsIGFycmF5QnVmZmVyKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGNvbnZlcnRpbmcgJyArIHRoaXMucGF0aC52YWx1ZU9mKCkgKyAnIHRvIGFuIGFjdHVhbCBmaWxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG4gICAgb3ZlcnJpZGUgdHlwZSA9ICdcdUQ4M0RcdUREQkNcdUZFMEZJbWFnZSc7XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgaW1nID0gZGl2LmNyZWF0ZUVsKCdpbWcnKTtcclxuICAgICAgICBpbWcuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xyXG4gICAgICAgIGltZy5zcmMgPSB0aGlzLnNyYztcclxuICAgICAgICByZXR1cm4gaW1nO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU291bmRGaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG4gICAgb3ZlcnJpZGUgdHlwZSA9ICdcdUQ4M0RcdUREMEFTb3VuZCc7XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MQXVkaW9FbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkaXYuY3JlYXRlRWwoJ2F1ZGlvJyk7XHJcbiAgICAgICAgZWwuc3JjID0gdGhpcy5zcmM7XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9GaWxlIGV4dGVuZHMgUmVhbEZpbGUge1xyXG4gICAgb3ZlcnJpZGUgdHlwZSA9ICdcdUQ4M0NcdURGOUVcdUZFMEZWaWRlbyc7XHJcbiAgICBvdmVycmlkZSBhc3luYyBEaXNwbGF5QWN0dWFsRmlsZShkaXY6IEhUTUxEaXZFbGVtZW50KTogUHJvbWlzZTxIVE1MVmlkZW9FbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgdmlkID0gZGl2LmNyZWF0ZUVsKCd2aWRlbycpO1xyXG4gICAgICAgIHZpZC5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XHJcbiAgICAgICAgdmlkLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgICAgIHJldHVybiB2aWQ7XHJcbiAgICB9XHJcbn1cclxuIiwgImV4cG9ydCBjb25zdCBCR19DT0xPUl8xID0gJ3JnYigzNywgMzcsIDQ0KSc7XHJcbmV4cG9ydCBjb25zdCBCR19DT0xPUl8yID0gJ3JnYigxOCwgMTgsIDI0KSc7XHJcbmV4cG9ydCBjb25zdCBCR19DT0xPUl8zID0gJ3JnYig1LCA1LCA4KSc7XHJcbmV4cG9ydCBjb25zdCBBQ0NFTlRfQ09MT1JfMSA9ICdyZ2IoMjIzLCAyMzYsIDI1NSknO1xyXG5leHBvcnQgY29uc3QgQUNDRU5UX0NPTE9SXzIgPSAncmdiKDE2MCwgMTY5LCAxODQpJztcclxuZXhwb3J0IGNvbnN0IEFDQ0VOVF9DT0xPUl8zID0gJ3JnYigxMDAsIDEwOSwgMTIzKSc7XHJcbmV4cG9ydCBjb25zdCBDRU5UUkFMX0NPTE9SXzEgPSAncmdiKDExMSwgNDYsIDE2OSknO1xyXG5leHBvcnQgY29uc3QgQ0VOVFJBTF9DT0xPUl8yID0gJ3JnYig3OCwgMTcsIDEzMSknO1xyXG5leHBvcnQgY29uc3QgQ0VOVFJBTF9DT0xPUl8zID0gJ3JnYigyOSwgMCwgNTQpJztcclxuZXhwb3J0IGNvbnN0IFJFTU9WRV9DT0xPUl8xID0gJ3JnYigxOTgsIDY4LCA2OCknO1xyXG5leHBvcnQgY29uc3QgUkVNT1ZFX0NPTE9SXzIgPSAncmdiKDEzOCwgMCwgMCknOyIsICJpbXBvcnQgeyBTY29wZSB9IGZyb20gXCJjbGFzc2VzL3Njb3BlXCI7XHJcbmltcG9ydCB7IEJHX0NPTE9SXzEsIEJHX0NPTE9SXzIsIEJHX0NPTE9SXzMsIEFDQ0VOVF9DT0xPUl8xLCBBQ0NFTlRfQ09MT1JfMiwgQUNDRU5UX0NPTE9SXzMsIENFTlRSQUxfQ09MT1JfMSwgQ0VOVFJBTF9DT0xPUl8yLCBDRU5UUkFMX0NPTE9SXzMsIFJFTU9WRV9DT0xPUl8xLCBSRU1PVkVfQ09MT1JfMiB9IGZyb20gXCJjb2xvcnNcIjtcclxuXHJcbmV4cG9ydCBlbnVtIEFTIHtcclxuICAgICdub25lJyxcclxuICAgICdib29sZWFuJyxcclxuICAgICdudW1iZXInLFxyXG4gICAgJ3N0cmluZydcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTSGFuZGxlciB7XHJcbiAgICBzdGF0aWMgQ29weShvYmo6IEFTSSk6IEFTSSB7XHJcbiAgICAgICAgbGV0IG5ld09iajtcclxuICAgICAgICBzd2l0Y2gob2JqLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBUy5ub25lOlxyXG4gICAgICAgICAgICBjYXNlIEFTLmJvb2xlYW46XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBuZXdPYmogPSBuZXcgQUJvb2xlYW5JKG9iai5zY29wZSwgb2JqLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQVMubnVtYmVyOlxyXG4gICAgICAgICAgICAgICAgbmV3T2JqID0gbmV3IEFOdW1iZXJJKG9iai5zY29wZSwgb2JqLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQVMuc3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgbmV3T2JqID0gbmV3IEFTdHJpbmdJKG9iai5zY29wZSwgb2JqLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld09iai52YWx1ZSA9IG9iai52YWx1ZTtcclxuICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUkodHlwZTogQVMsIHNjb3BlOiBTY29wZSwgbmFtZTogc3RyaW5nKTogQVNJIHtcclxuICAgICAgICBzd2l0Y2godHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTLm5vbmU6XHJcbiAgICAgICAgICAgIGNhc2UgQVMuYm9vbGVhbjpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUJvb2xlYW5JKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFOdW1iZXJJKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICAgICAgY2FzZSBBUy5zdHJpbmc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTdHJpbmdJKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSUkoc3RydWN0OiBBU0ksIGluc3BlY3RvckRpdjogSFRNTERpdkVsZW1lbnQsIGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBBU0lJIHtcclxuICAgICAgICBzd2l0Y2goc3RydWN0LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBUy5ub25lOlxyXG4gICAgICAgICAgICBjYXNlIEFTLmJvb2xlYW46XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFCb29sZWFuSUkoc3RydWN0LCBpbnNwZWN0b3JEaXYsIGNvbG9yKTtcclxuICAgICAgICAgICAgY2FzZSBBUy5udW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFOdW1iZXJJSShzdHJ1Y3QsIGluc3BlY3RvckRpdiwgY29sb3IpO1xyXG4gICAgICAgICAgICBjYXNlIEFTLnN0cmluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVN0cmluZ0lJKHN0cnVjdCwgaW5zcGVjdG9yRGl2LCBjb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVNJIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHR5cGU6IEFTO1xyXG4gICAgdmFsdWU6IGFueTtcclxuICAgIHNjb3BlOiBTY29wZTtcclxuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiBTY29wZSwgbmFtZSA9ICcnKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBU0k7XHJcbiAgICBzdGF0aWMgQWRqdXN0SW5wdXRXaWR0aChpbnB1dDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgdGVtcEVsID0gZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGlucHV0LnZhbHVlIH0gKTtcclxuICAgICAgICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgdGVtcEVsLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUuZm9udCA9ICdpbmhlcml0JztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUucGFkZGluZyA9IGlucHV0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCA/ICcxdmgnIDogJzJ2aCc7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSB0ZW1wRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnO1xyXG4gICAgICAgIHRlbXBFbC5yZW1vdmUoKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8jcmVnaW9uIEJvb2xlYW5cclxuZXhwb3J0IGNsYXNzIEFCb29sZWFuSSBleHRlbmRzIEFTSSB7XHJcbiAgICB0eXBlID0gQVMuYm9vbGVhbjtcclxuICAgIHZhbHVlOiBib29sZWFuO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICBzdXBlcihzY29wZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUJvb2xlYW5JSSBleHRlbmRzIEFTSUkge1xyXG4gICAgaW5zdGFuY2U6IEFCb29sZWFuSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBQm9vbGVhbkksIGRpdjogSFRNTERpdkVsZW1lbnQsIGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGRpdi5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSApO1xyXG4gICAgICAgIGlucHV0LmNoZWNrZWQgPSB0aGlzLmluc3RhbmNlLnZhbHVlO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yID09PSB1bmRlZmluZWQgPyBDRU5UUkFMX0NPTE9SXzMgOiBjb2xvcjtcclxuICAgICAgICBpbnB1dC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnZhbHVlID0gaW5wdXQuY2hlY2tlZDtcclxuICAgICAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaW5wdXQuY2hlY2tlZCA/IENFTlRSQUxfQ09MT1JfMSA6IENFTlRSQUxfQ09MT1JfMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEJvb2xlYW5cclxuXHJcbi8vI3JlZ2lvbiBOdW1iZXJcclxuZXhwb3J0IGNsYXNzIEFOdW1iZXJJIGV4dGVuZHMgQVNJIHtcclxuICAgIHR5cGUgPSBBUy5udW1iZXI7XHJcbiAgICB2YWx1ZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlLCBuYW1lID0gJycpIHtcclxuICAgICAgICBzdXBlcihzY29wZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBTnVtYmVySUkgZXh0ZW5kcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBTnVtYmVySTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBTnVtYmVySSwgZGl2OiBIVE1MRGl2RWxlbWVudCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5pbnN0YW5jZS52YWx1ZSArICcnIH0gKTtcclxuICAgICAgICBBU0lJLkFkanVzdElucHV0V2lkdGgoaW5wdXQsIGRpdik7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IgPT09IHVuZGVmaW5lZCA/IENFTlRSQUxfQ09MT1JfMyA6IGNvbG9yO1xyXG4gICAgICAgIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFTSUkuQWRqdXN0SW5wdXRXaWR0aChpbnB1dCwgZGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBwYXJzZUZsb2F0KGlucHV0LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIE51bWJlclxyXG5cclxuLy8jcmVnaW9uIFN0cmluZ1xyXG5leHBvcnQgY2xhc3MgQVN0cmluZ0kgZXh0ZW5kcyBBU0kge1xyXG4gICAgdHlwZSA9IEFTLnN0cmluZztcclxuICAgIHZhbHVlOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUsIG5hbWUgPSAnJykge1xyXG4gICAgICAgIHN1cGVyKHNjb3BlLCBuYW1lKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU3RyaW5nSUkgZXh0ZW5kcyBBU0lJIHtcclxuICAgIGluc3RhbmNlOiBBU3RyaW5nSTtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlOiBBU3RyaW5nSSwgZGl2OiBIVE1MRGl2RWxlbWVudCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGl2LmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGhpcy5pbnN0YW5jZS52YWx1ZSArICcnIH0gKTtcclxuICAgICAgICBBU0lJLkFkanVzdElucHV0V2lkdGgoaW5wdXQsIGRpdik7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3IgPT09IHVuZGVmaW5lZCA/IENFTlRSQUxfQ09MT1JfMyA6IGNvbG9yO1xyXG4gICAgICAgIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIEFTSUkuQWRqdXN0SW5wdXRXaWR0aChpbnB1dCwgZGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIFN0cmluZyIsICJpbXBvcnQgeyBBRkhhbmRsZXIsIEFGSSwgQUZSSSB9IGZyb20gXCJjbGFzc2VzL2Z1bmN0aW9ucy9mdW5jdGlvblwiO1xyXG5pbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBTY29wZSB9IGZyb20gXCJjbGFzc2VzL3Njb3BlXCI7XHJcbmltcG9ydCB7IEFTLCBBU0hhbmRsZXIsIEFTSSB9IGZyb20gXCJjbGFzc2VzL3N0cnVjdHMvc3RydWN0XCI7XHJcbmltcG9ydCB7IEltYWdlRmlsZSwgVmlkZW9GaWxlIH0gZnJvbSBcIi4vZmlsZS10eXBlcy9yZWFsLWZpbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHRU9EM09iamVjdEhhbmRsZXIge1xyXG4gICAgc3RhdGljIEdldFZhcmlhYmxlKG9iajogR0VPRDNPYmplY3QgfCBHRU9EM09iamVjdFJJLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG9iai52YXJpYWJsZXNbaV0ubmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai52YXJpYWJsZXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYXJpYWJsZSAnICsgbmFtZSArICcgbm90IGZvdW5kIG9uIG9iamVjdCAnICsgb2JqLmlkSW5TY2VuZSArICc6ICcgKyBvYmoubmFtZSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ3JlYXRlSUkob2JqOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBpbnNwZWN0b3JEaXY6IEhUTUxEaXZFbGVtZW50KTogR0VPRDNPYmplY3RJSSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHRU9EM09iamVjdElJKG9iaiwgYW5wLCBpbnNwZWN0b3JEaXYpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZVJJKG9iajogR0VPRDNPYmplY3QsIGFucDogQXBwQW5kUHJvamVjdCwgb2JqRGl2OiBIVE1MRGl2RWxlbWVudCk6IEdFT0QzT2JqZWN0Ukkge1xyXG4gICAgICAgIHJldHVybiBuZXcgR0VPRDNPYmplY3RSSShvYmosIGFucCwgb2JqRGl2KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0IHtcclxuICAgIGlkSW5TY2VuZTogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgb25TdGFydDogQUZJW107XHJcbiAgICBvbk5ld0ZyYW1lOiBBRklbXTtcclxuICAgIHZhcmlhYmxlczogQVNJW107XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5pZEluU2NlbmUgPSBpZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnb2JqZWN0JztcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMub25TdGFydCA9IFtdO1xyXG4gICAgICAgIHRoaXMub25OZXdGcmFtZSA9IFtdO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMuc3RyaW5nLCBTY29wZS5QdWJsaWMsICdTcHJpdGUgUGF0aCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnU3ByaXRlIFdpZHRoJykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcHJpdGUgSGVpZ2h0JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICd4JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICd5JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICd6JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcGVlZCB4JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcGVlZCB5JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdTcGVlZCB6JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdBY2NlbGVyYXRpb24geCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnQWNjZWxlcmF0aW9uIHknKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ0FjY2VsZXJhdGlvbiB6JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMuYm9vbGVhbiwgU2NvcGUuUHVibGljLCAnRG8gUmVjdGFuZ3VsYXIgSGl0Ym94JykpO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNyZWF0ZUkoQVMubnVtYmVyLCBTY29wZS5QdWJsaWMsICdIaXRib3ggUmFkaXVzL0hhbGYgV2lkdGgnKSk7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlB1YmxpYywgJ0hpdGJveCBIYWxmIEhlaWdodCcpKTtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKEFTSGFuZGxlci5DcmVhdGVJKEFTLm51bWJlciwgU2NvcGUuUHVibGljLCAnSGl0Ym94IEhhbGYgVGhpY2tuZXNzJykpO1xyXG5cclxuICAgICAgICB0aGlzLnZhcmlhYmxlc1sxXS52YWx1ZSA9IDEwMDtcclxuICAgICAgICB0aGlzLnZhcmlhYmxlc1syXS52YWx1ZSA9IDEwMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdFT0QzT2JqZWN0SUkge1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0O1xyXG4gICAgaW5zdGFuY2U6IEdFT0QzT2JqZWN0O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZTogR0VPRDNPYmplY3QsIGFucDogQXBwQW5kUHJvamVjdCwgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmFucCA9IGFucDtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBuYW1lRGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtaW5zcGVjdG9yLXRvcC1iYXIgaGJveCcpO1xyXG4gICAgICAgIG5hbWVEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogdGhpcy5pbnN0YW5jZS5pZEluU2NlbmUgKyAnOicgfSApO1xyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IG5hbWVEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiB0aGlzLmluc3RhbmNlLm5hbWUgfSApO1xyXG4gICAgICAgIGNvbnN0IGVkaXRTY3JpcHRzQnV0dG9uID0gbmFtZURpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnRWRpdCBTY3JpcHRzXHVEODNEXHVEQ0RDJyB9ICk7XHJcbiAgICAgICAgZWRpdFNjcmlwdHNCdXR0b24uY2xhc3NOYW1lID0gJ2dlb2QzLXNlY29uZGFyeS1idXR0b24nO1xyXG4gICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5uYW1lID0gbmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZGl0U2NyaXB0c0J1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBhbnAucHJvamVjdC5zY3JpcHRFZGl0b3IuY3VycmVudE9iamVjdCA9IHRoaXMuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGFucC5wcm9qZWN0LlN3aXRjaFRvVGFiKGFucC5wcm9qZWN0LnNjcmlwdEVkaXRvclRhYklEKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVzRGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtaW5zcGVjdG9yLXZhcmlhYmxlLWxpc3QgdmJveCcpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYXNJID0gdGhpcy5pbnN0YW5jZS52YXJpYWJsZXNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHZhckRpdiA9IHZhcmlhYmxlc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3Rvci12YXJpYWJsZSBoYm94Jyk7XHJcbiAgICAgICAgICAgIHZhckRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBhc0kubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIEFTSGFuZGxlci5DcmVhdGVJSShhc0ksIHZhckRpdi5jcmVhdGVEaXYoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFkZE5ld0RpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3Rvci1uZXctdmFyIGhib3gnKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVOYW1lSW5wdXQgPSBhZGROZXdEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAndGV4dCcsIHZhbHVlOiAndW5uYW1lZCcgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlVHlwZUlucHV0ID0gYWRkTmV3RGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBhZGRWYXJpYWJsZUJ1dHRvbiA9IGFkZE5ld0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG5cclxuICAgICAgICBhZGRWYXJpYWJsZUJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBBU1tpXTtcclxuICAgICAgICAgICAgdmFyaWFibGVUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogdHlwZSwgdmFsdWU6IGkgKyAnJyB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhcmlhYmxlVHlwZUlucHV0LnZhbHVlID0gJzEnO1xyXG5cclxuICAgICAgICBhZGRWYXJpYWJsZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdmFyaWFibGVOYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluc3RhbmNlLnZhcmlhYmxlc1tpXS5uYW1lID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhciA9IEFTSGFuZGxlci5DcmVhdGVJKHBhcnNlSW50KHZhcmlhYmxlVHlwZUlucHV0LnZhbHVlKSwgU2NvcGUuUHVibGljLCBuYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS52YXJpYWJsZXMucHVzaChuZXdWYXIpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdWYXJEaXYgPSB2YXJpYWJsZXNEaXYuY3JlYXRlRGl2KCdnZW9kMy1pbnNwZWN0b3ItdmFyaWFibGUgaGJveCcpO1xyXG4gICAgICAgICAgICBuZXdWYXJEaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogbmV3VmFyLm5hbWUgfSApO1xyXG4gICAgICAgICAgICBBU0hhbmRsZXIuQ3JlYXRlSUkobmV3VmFyLCBuZXdWYXJEaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgR0VPRDNPYmplY3RSSSB7XHJcbiAgICBpZEluU2NlbmU6IG51bWJlcjtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIG9uU3RhcnQ6IEFGUklbXTtcclxuICAgIG9uTmV3RnJhbWU6IEFGUklbXTtcclxuICAgIHZhcmlhYmxlczogQVNJW107XHJcbiAgICBvYmpEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgYW5wOiBBcHBBbmRQcm9qZWN0O1xyXG4gICAgcHJpdmF0ZSBwcmV2U3ByaXRlUGF0aDogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3Iob2JqOiBHRU9EM09iamVjdCwgYW5wOiBBcHBBbmRQcm9qZWN0LCBvYmpEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5pZEluU2NlbmUgPSBvYmouaWRJblNjZW5lO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG9iai5uYW1lO1xyXG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gW107XHJcbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gW107XHJcbiAgICAgICAgdGhpcy5vbk5ld0ZyYW1lID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoudmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzLnB1c2goQVNIYW5kbGVyLkNvcHkob2JqLnZhcmlhYmxlc1tpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5vblN0YXJ0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TdGFydC5wdXNoKEFGSGFuZGxlci5DcmVhdGVSSShvYmoub25TdGFydFtpXSwgYW5wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLm9uTmV3RnJhbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5ld0ZyYW1lLnB1c2goQUZIYW5kbGVyLkNyZWF0ZVJJKG9iai5vbk5ld0ZyYW1lW2ldLCBhbnApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmpEaXYgPSBvYmpEaXY7XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICAgICAgdGhpcy5wcmV2U3ByaXRlUGF0aCA9ICcnO1xyXG4gICAgICAgIHRoaXMuU2V0T2JqRGl2Q1NTUHJvcGVydGllcygpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBTZXRPYmpEaXZDU1NQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMub2JqRGl2LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgNTAlKSc7XHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBSZWZyZXNoU3ByaXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZVBhdGggPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1Nwcml0ZSBQYXRoJykudmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMucHJldlNwcml0ZVBhdGggIT09IHNwcml0ZVBhdGgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhRmlsZSA9IDxJbWFnZUZpbGUgfCBWaWRlb0ZpbGU+IHRoaXMuYW5wLnByb2plY3QuZmlsZU1hbmFnZXIuR2V0RmlsZUJ5UHJpbWl0aXZlUGF0aChzcHJpdGVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZVNyYyA9IG1lZGlhRmlsZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1lZGlhRWw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iakRpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1lZGlhRmlsZSBpbnN0YW5jZW9mIEltYWdlRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRWwgPSB0aGlzLm9iakRpdi5jcmVhdGVFbCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhRWwgPSB0aGlzLm9iakRpdi5jcmVhdGVFbCgndmlkZW8nKTtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUVsLmNvbnRyb2xzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFFbC5sb29wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lZGlhRWwuc3JjID0gc3ByaXRlU3JjO1xyXG4gICAgICAgICAgICAgICAgbWVkaWFFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgICAgIG1lZGlhRWwuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2U3ByaXRlUGF0aCA9IHNwcml0ZVBhdGg7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCB0byBmaW5kIGltYWdlL3ZpZGVvIHBhdGgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgU2V0TG9jYXRpb25BbmRXaWR0aCgpIHtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3ByaXRlIFdpZHRoJyk7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcHJpdGUgSGVpZ2h0Jyk7XHJcbiAgICAgICAgY29uc3QgeCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAneCcpO1xyXG4gICAgICAgIGNvbnN0IHkgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ3knKTtcclxuICAgICAgICBjb25zdCB6ID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICd6Jyk7XHJcbiAgICAgICAgY29uc3QgeFZlbCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnU3BlZWQgeCcpO1xyXG4gICAgICAgIGNvbnN0IHlWZWwgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ1NwZWVkIHknKTtcclxuICAgICAgICBjb25zdCB6VmVsID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdTcGVlZCB6Jyk7XHJcbiAgICAgICAgY29uc3QgeEFjY2VsID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKHRoaXMsICdBY2NlbGVyYXRpb24geCcpO1xyXG4gICAgICAgIGNvbnN0IHlBY2NlbCA9IEdFT0QzT2JqZWN0SGFuZGxlci5HZXRWYXJpYWJsZSh0aGlzLCAnQWNjZWxlcmF0aW9uIHknKTtcclxuICAgICAgICBjb25zdCB6QWNjZWwgPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUodGhpcywgJ0FjY2VsZXJhdGlvbiB6Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUud2lkdGggPSB3aWR0aC52YWx1ZSArICdweCc7XHJcbiAgICAgICAgdGhpcy5vYmpEaXYuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0LnZhbHVlICsgJ3B4JztcclxuXHJcbiAgICAgICAgeFZlbC52YWx1ZSArPSB4QWNjZWwudmFsdWU7XHJcbiAgICAgICAgeVZlbC52YWx1ZSArPSB5QWNjZWwudmFsdWU7XHJcbiAgICAgICAgelZlbC52YWx1ZSArPSB6QWNjZWwudmFsdWU7XHJcblxyXG4gICAgICAgIHgudmFsdWUgKz0geFZlbC52YWx1ZTtcclxuICAgICAgICB5LnZhbHVlICs9IHlWZWwudmFsdWU7XHJcbiAgICAgICAgei52YWx1ZSArPSB6VmVsLnZhbHVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMub2JqRGl2LnN0eWxlLmxlZnQgPSB4LnZhbHVlICsgJ3B4JztcclxuICAgICAgICB0aGlzLm9iakRpdi5zdHlsZS5ib3R0b20gPSB5LnZhbHVlICsgJ3B4JztcclxuICAgIH1cclxuICAgIFJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLlJlZnJlc2hTcHJpdGUoKTtcclxuICAgICAgICB0aGlzLlNldExvY2F0aW9uQW5kV2lkdGgoKTtcclxuICAgIH1cclxuICAgIE9uU3RhcnQoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9uU3RhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXJ0W2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPbk5ld0ZyYW1lKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vbk5ld0ZyYW1lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25OZXdGcmFtZVtpXS5FeGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHBBbmRQcm9qZWN0IH0gZnJvbSBcImNsYXNzZXMvcHJvamVjdFwiO1xyXG5pbXBvcnQgeyBTY29wZSB9IGZyb20gXCJjbGFzc2VzL3Njb3BlXCI7XHJcbmltcG9ydCB7IEFCb29sZWFuSSwgQU51bWJlckksIEFTLCBBU0hhbmRsZXIsIEFTSSwgQVN0cmluZ0kgfSBmcm9tIFwiY2xhc3Nlcy9zdHJ1Y3RzL3N0cnVjdFwiO1xyXG5pbXBvcnQgeyBHRU9EM09iamVjdEhhbmRsZXIgfSBmcm9tIFwiY2xhc3Nlcy90YWJzL2dlb2QzLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBCR19DT0xPUl8xLCBCR19DT0xPUl8yLCBCR19DT0xPUl8zLCBBQ0NFTlRfQ09MT1JfMSwgQUNDRU5UX0NPTE9SXzIsIEFDQ0VOVF9DT0xPUl8zLCBDRU5UUkFMX0NPTE9SXzEsIENFTlRSQUxfQ09MT1JfMiwgQ0VOVFJBTF9DT0xPUl8zLCBSRU1PVkVfQ09MT1JfMSwgUkVNT1ZFX0NPTE9SXzIgfSBmcm9tIFwiY29sb3JzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBRiB7XHJcbiAgICAnbm9uZScsXHJcbiAgICAnY2hhaW4nLFxyXG4gICAgJ2dldCcsXHJcbiAgICAnc2V0JyxcclxuICAgICdpZicsXHJcbiAgICAnaWZlbHNlJyxcclxuICAgICdjb21wYXJlJyxcclxuICAgICdrZXlkb3duJyxcclxuICAgICdhZGQnXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBRkhhbmRsZXIge1xyXG4gICAgc3RhdGljIENvcHkob2JqOiBBRkkpOiBBRkkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclBhcmFtID0gb2JqLnBhcmFtZXRlcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChjdXJyUGFyYW0gaW5zdGFuY2VvZiBBRkkpIHtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKHRoaXMuQ29weShjdXJyUGFyYW0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKEFTSGFuZGxlci5Db3B5KGN1cnJQYXJhbSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaChvYmoudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFGLm5vbmU6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFEb05vdGhpbmdJKCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY2hhaW46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFDaGFpbkkoPEFGSVtdPiBuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEkoPEFTSVtdPiBuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLnNldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNldEkobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5pZjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmSShuZXdQYXJhbXMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmZWxzZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmRWxzZUkobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jb21wYXJlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ29tcGFyZUkobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5rZXlkb3duOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBS2V5ZG93bkkobmV3UGFyYW1zKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5hZGQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFBZGRJKG5ld1BhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZUkodHlwZTogQUYsIHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpOiBBRkkge1xyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQUYubm9uZTpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jaGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNoYWluSSg8QUZJW10gfCB1bmRlZmluZWQ+IHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmdldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUdldEkoPEFTSVtdIHwgdW5kZWZpbmVkPiBwYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5zZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFTZXRJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmZWxzZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmRWxzZUkocGFyYW1ldGVycyk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuY29tcGFyZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNvbXBhcmVJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmtleWRvd246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFLZXlkb3duSShwYXJhbWV0ZXJzKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5hZGQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFBZGRJKHBhcmFtZXRlcnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBDcmVhdGVFSShvYmo6IEFGSSwgYmxvY2tEaXY6IEhUTUxEaXZFbGVtZW50LCBhbnA6IEFwcEFuZFByb2plY3QpOiBBRkVJIHtcclxuICAgICAgICBzd2l0Y2gob2JqLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBRi5ub25lOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBRG9Ob3RoaW5nRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jaGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUNoYWluRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5nZXQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFHZXRFSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLnNldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNldEVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuaWY6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFJZkVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuaWZlbHNlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBSWZFbHNlRUkob2JqLCBibG9ja0RpdiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jb21wYXJlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ29tcGFyZUVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYua2V5ZG93bjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUtleWRvd25FSShvYmosIGJsb2NrRGl2LCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmFkZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUFkZEVJKG9iaiwgYmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIENyZWF0ZVJJKG9iajogQUZJLCBhbnA6IEFwcEFuZFByb2plY3QpOiBBRlJJIHtcclxuICAgICAgICBzd2l0Y2gob2JqLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBRi5ub25lOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBRG9Ob3RoaW5nUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmNoYWluOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ2hhaW5SSShvYmosIGFucCk7XHJcbiAgICAgICAgICAgIGNhc2UgQUYuZ2V0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBR2V0Ukkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLnNldDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVNldFJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5pZjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmUkkob2JqLCBhbnApO1xyXG4gICAgICAgICAgICBjYXNlIEFGLmlmZWxzZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQUlmRWxzZVJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5jb21wYXJlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBQ29tcGFyZVJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5rZXlkb3duOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBS2V5ZG93blJJKG9iaiwgYW5wKTtcclxuICAgICAgICAgICAgY2FzZSBBRi5hZGQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFBZGRSSShvYmosIGFucCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyNyZWdpb24gQWJzdHJhY3QgQ2xhc3Nlc1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQUZJIHtcclxuICAgIHR5cGU6IEFGO1xyXG4gICAgZGVmYXVsdFBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW107XHJcbiAgICBwYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UGFyYW1ldGVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IFtdO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQUZFSSB7XHJcbiAgICBhbnA6IEFwcEFuZFByb2plY3Q7XHJcbiAgICBpbnN0YW5jZTogQUZJO1xyXG4gICAgZGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIHBhcmVudEVJOiBBRkVJIHwgdW5kZWZpbmVkO1xyXG4gICAgY29uc3RydWN0b3IoaW5zdGFuY2U6IEFGSSwgYmxvY2tEaXY6IEhUTUxEaXZFbGVtZW50LCBhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5kaXYgPSBibG9ja0RpdjtcclxuICAgICAgICB0aGlzLmFucCA9IGFucDtcclxuICAgICAgICB0aGlzLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgfVxyXG4gICAgYWJzdHJhY3QgRGlzcGxheUJsb2NrKCk6IHZvaWQ7XHJcbiAgICBzdGF0aWMgQWRqdXN0SW5wdXRXaWR0aChpbnB1dDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LCBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgdGVtcEVsID0gZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGlucHV0LnZhbHVlIH0gKTtcclxuICAgICAgICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgIHRlbXBFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgdGVtcEVsLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUuZm9udCA9ICdpbmhlcml0JztcclxuICAgICAgICB0ZW1wRWwuc3R5bGUucGFkZGluZyA9ICcxdmgnO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLndpZHRoID0gdGVtcEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJ3B4JztcclxuICAgICAgICB0ZW1wRWwucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgICBDcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdihpbmRleDogbnVtYmVyLCBwYXJhbURpdjogSFRNTERpdkVsZW1lbnQsIGJhY2tncm91bmRDb2xvcjogc3RyaW5nKTogdm9pZCB8IEFGRUkge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2luZGV4XTtcclxuICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBBU0kpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ3JlYXRlQVNJUGFyYW1ldGVyRGl2KGluZGV4LCBwYXJhbURpdiwgYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5DcmVhdGVBRklQYXJhbWV0ZXJEaXYoaW5kZXgsIHBhcmFtRGl2LCBiYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIENyZWF0ZUFTSVBhcmFtZXRlckRpdihpbmRleDogbnVtYmVyLCBwYXJhbURpdjogSFRNTERpdkVsZW1lbnQsIGJhY2tncm91bmRDb2xvcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgQUZFSS5TZXRQYXJhbWV0ZXJEaXYodGhpcy5hbnAsIHRoaXMsIHBhcmFtRGl2LCBpbmRleCk7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSA8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbaW5kZXhdO1xyXG4gICAgICAgIEFTSGFuZGxlci5DcmVhdGVJSShwYXJhbSwgcGFyYW1EaXYsIGJhY2tncm91bmRDb2xvcik7XHJcbiAgICB9XHJcbiAgICBDcmVhdGVBRklQYXJhbWV0ZXJEaXYoaW5kZXg6IG51bWJlciwgcGFyYW1EaXY6IEhUTUxEaXZFbGVtZW50LCBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZyk6IEFGRUkge1xyXG4gICAgICAgIEFGRUkuU2V0UGFyYW1ldGVyRGl2KHRoaXMuYW5wLCB0aGlzLCBwYXJhbURpdiwgaW5kZXgpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gPEFGST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2luZGV4XTtcclxuICAgICAgICBjb25zdCBwYXJhbUVJID0gQUZIYW5kbGVyLkNyZWF0ZUVJKHBhcmFtLCBwYXJhbURpdiwgdGhpcy5hbnApO1xyXG4gICAgICAgIHBhcmFtRUkucGFyZW50RUkgPSB0aGlzO1xyXG4gICAgICAgIGlmIChwYXJhbUVJLmluc3RhbmNlLnR5cGUgPT09IEFGLm5vbmUpIHtcclxuICAgICAgICAgICAgcGFyYW1FSS5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKHBhcmFtRUksIHRoaXMuYW5wLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJhbUVJO1xyXG4gICAgfVxyXG4gICAgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9PT0gcGFyYW1ldGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyRGVmYXVsdFBhcmFtID0gdGhpcy5pbnN0YW5jZS5kZWZhdWx0UGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9IGN1cnJEZWZhdWx0UGFyYW0gaW5zdGFuY2VvZiBBU0kgPyBBU0hhbmRsZXIuQ29weShjdXJyRGVmYXVsdFBhcmFtKSA6IEFGSGFuZGxlci5Db3B5KGN1cnJEZWZhdWx0UGFyYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIE1ha2VCbG9ja0RyYWdnYWJsZShibG9jazogQUZFSSwgYW5wOiBBcHBBbmRQcm9qZWN0LCBpc0NvcHk6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCBzY3JpcHRFZGl0b3IgPSBhbnAucHJvamVjdC5zY3JpcHRFZGl0b3I7XHJcbiAgICAgICAgYmxvY2suZGl2LmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICAgICAgYmxvY2suZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2NvcHknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2tJc0NvcHkgPSBpc0NvcHk7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2sgPSBibG9jaztcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmJsb2Nrc0Rpdi5zdHlsZS5oZWlnaHQgPSAnOTAlJztcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmRlbERpdi5zdHlsZS5oZWlnaHQgPSAnMTAlJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmxvY2suZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmJsb2Nrc0Rpdi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgICAgIHNjcmlwdEVkaXRvci5kZWxEaXYuc3R5bGUuaGVpZ2h0ID0gJzAlJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgU2V0UGFyYW1ldGVyRGl2KGFucDogQXBwQW5kUHJvamVjdCwgYWZlaTogQUZFSSwgcGFyYW1EaXY6IEhUTUxEaXZFbGVtZW50LCBwYXJhbUluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBzY3JpcHRFZGl0b3IgPSBhbnAucHJvamVjdC5zY3JpcHRFZGl0b3I7XHJcblxyXG4gICAgICAgIHBhcmFtRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyYW1EaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgICAgICBwYXJhbURpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8xO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYXJhbURpdi5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgcGFyYW1EaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGFyYW1EaXYuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jayA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG5ld0Jsb2NrO1xyXG4gICAgICAgICAgICBsZXQgbmV3QmxvY2tEaXY7XHJcbiAgICAgICAgICAgIGlmIChzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrSXNDb3B5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdCbG9ja0luc3RhbmNlID0gQUZIYW5kbGVyLkNvcHkoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5pbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBuZXdCbG9ja0RpdiA9IDxIVE1MRGl2RWxlbWVudD4gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5kaXYuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgbmV3QmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkobmV3QmxvY2tJbnN0YW5jZSwgbmV3QmxvY2tEaXYsIGFucCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5wYXJlbnRFSSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50RUkgPSBzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrLnBhcmVudEVJO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVJLlJlbW92ZVBhcmFtZXRlcihzY3JpcHRFZGl0b3IuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFSS5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld0Jsb2NrRGl2ID0gc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jay5kaXY7XHJcbiAgICAgICAgICAgICAgICBuZXdCbG9jayA9IHNjcmlwdEVkaXRvci5jdXJyZW50bHlEcmFnZ2VkQmxvY2s7XHJcbiAgICAgICAgICAgICAgICBuZXdCbG9ja0Rpdi5kZXRhY2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZmVpLmluc3RhbmNlLnBhcmFtZXRlcnNbcGFyYW1JbmRleF0gPSBuZXdCbG9jay5pbnN0YW5jZTtcclxuICAgICAgICAgICAgYWZlaS5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc2NyaXB0RWRpdG9yLmN1cnJlbnRseURyYWdnZWRCbG9jayA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFGUkkge1xyXG4gICAgdHlwZTogQUY7XHJcbiAgICBwYXJhbWV0ZXJzOiAoQVNJIHwgQUZSSSlbXTtcclxuICAgIGFucDogQXBwQW5kUHJvamVjdDtcclxuICAgIGFic3RyYWN0IEV4ZWN1dGUoKTogUHJvbWlzZTxhbnk+O1xyXG4gICAgY29uc3RydWN0b3Iob2dGdW5jdGlvbjogQUZJLCBhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSBvZ0Z1bmN0aW9uLnR5cGU7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5hbnAgPSBhbnA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvZ0Z1bmN0aW9uLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2dQYXJhbSA9IG9nRnVuY3Rpb24ucGFyYW1ldGVyc1tpXTtcclxuICAgICAgICAgICAgbGV0IGNvcHk7XHJcbiAgICAgICAgICAgIGlmIChvZ1BhcmFtIGluc3RhbmNlb2YgQVNJKSB7XHJcbiAgICAgICAgICAgICAgICBjb3B5ID0gQVNIYW5kbGVyLkNvcHkob2dQYXJhbSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3B5ID0gQUZIYW5kbGVyLkNyZWF0ZVJJKG9nUGFyYW0sIGFucCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goY29weSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBBYnN0cmFjdCBDbGFzc2VzXHJcblxyXG4vLyNyZWdpb24gRG8gTm90aGluZ1xyXG5leHBvcnQgY2xhc3MgQURvTm90aGluZ0kgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLm5vbmU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBRG9Ob3RoaW5nRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBRG9Ob3RoaW5nSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrJztcclxuICAgICAgICB0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBCR19DT0xPUl8zO1xyXG4gICAgfVxyXG4gICAgb3ZlcnJpZGUgUmVtb3ZlUGFyYW1ldGVyKHBhcmFtZXRlcjogQUZJKTogdm9pZCB7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFEb05vdGhpbmdSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHt9XHJcbn1cclxuLy8jZW5kcmVnaW9uIERvIE5vdGhpbmdcclxuXHJcbi8vI3JlZ2lvbiBDaGFpblxyXG5leHBvcnQgY2xhc3MgQUNoYWluSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuY2hhaW47XHJcbiAgICBkZWZhdWx0UGFyYW1ldGVyczogQUZJW107XHJcbiAgICBwYXJhbWV0ZXJzOiBBRklbXTtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBRkkpW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGNvbnN0IGRvTm90aGluZyA9IG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMucHVzaChkb05vdGhpbmcpO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBRkhhbmRsZXIuQ29weShkb05vdGhpbmcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQ2hhaW5FSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFDaGFpbkk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayB2Ym94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQkdfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9ICdmaXQtY29udGVudCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMXZoJztcclxuICAgICAgICBkaXYuc3R5bGUuZ2FwID0gJzF2aCc7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaTtcclxuICAgICAgICAgICAgY29uc3QgY3VyckJsb2NrRGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrLWlubmVyLXNlY3Rpb24gaGJveCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gY3VyckJsb2NrRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICctJyB9ICk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGN1cnJCbG9ja0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1yZW1vdmUtYnV0dG9uJztcclxuICAgICAgICAgICAgYWRkQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlCbG9jaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzLnNwbGljZShpbmRleCwgMCwgbmV3IEFEb05vdGhpbmdJKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5DcmVhdGVBRklQYXJhbWV0ZXJEaXYoaW5kZXgsIGN1cnJCbG9ja0Rpdi5jcmVhdGVEaXYoKSwgQkdfQ09MT1JfMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnKycgfSApO1xyXG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtYWRkLWJ1dHRvbic7XHJcblxyXG4gICAgICAgIGFkZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnMuc3BsaWNlKHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGgsIDAsIG5ldyBBRG9Ob3RoaW5nSSgpKTtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBSZW1vdmVQYXJhbWV0ZXIocGFyYW1ldGVyOiBBRkkpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzW2ldID09PSBwYXJhbWV0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1tpXSA9IEFGSGFuZGxlci5Db3B5KHRoaXMuaW5zdGFuY2UuZGVmYXVsdFBhcmFtZXRlcnNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUNoYWluUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFGUklbXTtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJhbWV0ZXJzW2ldLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIENoYWluXHJcblxyXG4vLyNyZWdpb24gR2V0XHJcbmV4cG9ydCBjbGFzcyBBR2V0SSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuZ2V0O1xyXG4gICAgcGFyYW1ldGVyczogQVNJW107XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiBBU0lbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSBuZXcgQVN0cmluZ0koU2NvcGUuVmFsdWUsICdWYXJpYWJsZSBOYW1lJyk7XHJcbiAgICAgICAgb2JqSW5kZXgudmFsdWUgPSAwO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFBhcmFtZXRlcnMgPSBbdmFyTmFtZSwgb2JqSW5kZXhdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weSh2YXJOYW1lKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG9iakluZGV4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUdldEVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUdldEk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayBoYm94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8yO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlckNvbG9yID0gQUNDRU5UX0NPTE9SXzM7XHJcbiAgICAgICAgY29uc3QgYW5wID0gdGhpcy5hbnA7XHJcblxyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSUQgPSB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV07XHJcblxyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnR2V0JyB9ICk7XHJcbiAgICAgICAgY29uc3QgdmFyRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnZnJvbScgfSApO1xyXG4gICAgICAgIGNvbnN0IG9iakRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqSURJbnB1dCA9IG9iakRpdi5jcmVhdGVFbCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgdmFyTmFtZUlucHV0ID0gdmFyRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzM7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMCc7XHJcbiAgICAgICAgdmFyTmFtZUlucHV0LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcwJztcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgb2JqSURJbnB1dC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiBpICsgJzogJyArIG9iakFycltpXS5uYW1lLCB2YWx1ZTogaSArICc6ICcgKyBvYmpBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBHZXRBbGxWYXJOYW1lcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyTmFtZUlucHV0LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iakFyciA9IGFucC5wcm9qZWN0LnNjZW5lVmlldy5vYmplY3RzO1xyXG4gICAgICAgICAgICBjb25zdCB2YXJBcnIgPSBvYmpBcnJbdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdLnZhbHVlXS52YXJpYWJsZXM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXJOYW1lSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogdmFyQXJyW2ldLm5hbWUsIHZhbHVlOiB2YXJBcnJbaV0ubmFtZSB9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqSURJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdLnZhbHVlID0gcGFyc2VJbnQob2JqSURJbnB1dC52YWx1ZS5zcGxpdCgnOicpWzBdKTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKG9iaklESW5wdXQsIGRpdik7XHJcbiAgICAgICAgICAgIEdldEFsbFZhck5hbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhck5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdLnZhbHVlID0gdmFyTmFtZUlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBBRkVJLkFkanVzdElucHV0V2lkdGgodmFyTmFtZUlucHV0LCBkaXYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgR2V0QWxsVmFyTmFtZXMoKTtcclxuXHJcbiAgICAgICAgb2JqSURJbnB1dC52YWx1ZSA9IG9iaklELnZhbHVlICsgJzogJyArIG9iakFycltvYmpJRC52YWx1ZV0ubmFtZTtcclxuICAgICAgICB2YXJOYW1lSW5wdXQudmFsdWUgPSB2YXJOYW1lLnZhbHVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0LCBkaXYpO1xyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBR2V0UkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIHBhcmFtZXRlcnM6IEFTSVtdO1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPEFTST4ge1xyXG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3Qgb2JqSW5kZXggPSB0aGlzLnBhcmFtZXRlcnNbMV07XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5hbnAucHJvamVjdC5nYW1lVmlldy5vYmplY3RzW29iakluZGV4LnZhbHVlXTtcclxuICAgICAgICByZXR1cm4gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKG9iaiwgdmFyTmFtZS52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEdldFxyXG5cclxuLy8jcmVnaW9uIFNldFxyXG5leHBvcnQgY2xhc3MgQVNldEkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLnNldDtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgdmFyTmFtZSA9IG5ldyBBU3RyaW5nSShTY29wZS5WYWx1ZSwgJ1ZhcmlhYmxlIE5hbWUnKTtcclxuICAgICAgICBjb25zdCBvYmpJbmRleCA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ09iamVjdCBJbmRleCcpO1xyXG4gICAgICAgIHZhck5hbWUudmFsdWUgPSAnU3ByaXRlIFBhdGgnO1xyXG4gICAgICAgIG9iakluZGV4LnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW3Zhck5hbWUsIG9iakluZGV4XTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFyTmFtZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShvYmpJbmRleCkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ3JlYXRlSShBUy5udW1iZXIsIFNjb3BlLlZhbHVlLCAnJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTZXRFSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFTZXRJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG4gICAgICAgIGNvbnN0IGFucCA9IHRoaXMuYW5wO1xyXG5cclxuICAgICAgICBjb25zdCB2YXJOYW1lID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IG9iaklEID0gPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ1NldCcgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhckRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ2Zyb20nIH0gKTtcclxuICAgICAgICBjb25zdCBvYmpEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgZGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICd0bycgfSApO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpJRElucHV0ID0gb2JqRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCB2YXJOYW1lSW5wdXQgPSB2YXJEaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuICAgICAgICB2YXJOYW1lSW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcwJztcclxuICAgICAgICB2YXJOYW1lSW5wdXQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzAnO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpBcnIgPSBhbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iakFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvYmpJRElucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGkgKyAnOiAnICsgb2JqQXJyW2ldLm5hbWUsIHZhbHVlOiBpICsgJzogJyArIG9iakFycltpXS5uYW1lIH0gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IEdldEFsbFZhck5hbWVzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXJOYW1lSW5wdXQuZW1wdHkoKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqQXJyID0gYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhckFyciA9IG9iakFyclsoPEFTST4gdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzFdKS52YWx1ZV0udmFyaWFibGVzO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhckFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyTmFtZUlucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IHZhckFycltpXS5uYW1lLCB2YWx1ZTogdmFyQXJyW2ldLm5hbWUgfSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YWx1ZURpdi5lbXB0eSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzJdIGluc3RhbmNlb2YgQUZJKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdigyLCB2YWx1ZURpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3JlYXRlQVNJUGFyYW1ldGVyRGl2KDIsIHZhbHVlRGl2LCBDRU5UUkFMX0NPTE9SXzMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG9iaklESW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV0pLnZhbHVlID0gcGFyc2VJbnQob2JqSURJbnB1dC52YWx1ZS5zcGxpdCgnOicpWzBdKTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKG9iaklESW5wdXQsIGRpdik7XHJcbiAgICAgICAgICAgIEdldEFsbFZhck5hbWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhck5hbWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXSkudmFsdWUgPSB2YXJOYW1lSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBHZXRBbGxWYXJOYW1lcygpO1xyXG5cclxuICAgICAgICBvYmpJRElucHV0LnZhbHVlID0gb2JqSUQudmFsdWUgKyAnOiAnICsgb2JqQXJyW29iaklELnZhbHVlXS5uYW1lO1xyXG4gICAgICAgIHZhck5hbWVJbnB1dC52YWx1ZSA9IHZhck5hbWUudmFsdWU7XHJcblxyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChvYmpJRElucHV0LCBkaXYpO1xyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aCh2YXJOYW1lSW5wdXQsIGRpdik7XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBSZW1vdmVQYXJhbWV0ZXIocGFyYW1ldGVyOiBBRkkpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzJdID09PSBwYXJhbWV0ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFBhcmFtID0gQVNIYW5kbGVyLkNyZWF0ZUkoKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXSkudHlwZSwgU2NvcGUuVmFsdWUsICcnKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5wYXJhbWV0ZXJzWzJdID0gZGVmYXVsdFBhcmFtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTZXRSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCB2YXJOYW1lID0gPEFTST4gdGhpcy5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IG9iakluZGV4ID0gPEFTST4gdGhpcy5wYXJhbWV0ZXJzWzFdO1xyXG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMucGFyYW1ldGVyc1syXTtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmFucC5wcm9qZWN0LmdhbWVWaWV3Lm9iamVjdHNbb2JqSW5kZXgudmFsdWVdO1xyXG4gICAgICAgIGNvbnN0IHZhclRvU2V0ID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKG9iaiwgdmFyTmFtZS52YWx1ZSk7XHJcbiAgICAgICAgdmFyVG9TZXQudmFsdWUgPSB2YWwgaW5zdGFuY2VvZiBBRlJJID8gKGF3YWl0IHZhbC5FeGVjdXRlKCkpLnZhbHVlIDogdmFsLnZhbHVlO1xyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBTZXRcclxuXHJcbi8vI3JlZ2lvbiBJZlxyXG5leHBvcnQgY2xhc3MgQUlmSSBleHRlbmRzIEFGSSB7XHJcbiAgICB0eXBlID0gQUYuaWY7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IG5ldyBBQm9vbGVhbkkoU2NvcGUuVmFsdWUsICdjb25kaXRpb24nKTtcclxuICAgICAgICBjb25zdCBkb05vdGhpbmcgPSBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICBjb25kaXRpb24udmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW2NvbmRpdGlvbiwgZG9Ob3RoaW5nXTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkoY29uZGl0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFGSGFuZGxlci5Db3B5KGRvTm90aGluZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFJZkVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUlmSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMuZGl2O1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrIHZib3gnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMjtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBjb25zdCB0b3BEaXYgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2staW5uZXItc2VjdGlvbiBoYm94Jyk7XHJcbiAgICAgICAgdG9wRGl2LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdJZicgfSApO1xyXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbkRpdiA9IHRvcERpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBjb25zdCBmdW5jdGlvbkRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5DcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdigwLCBjb25kaXRpb25EaXYsIEFDQ0VOVF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdigxLCBmdW5jdGlvbkRpdiwgQUNDRU5UX0NPTE9SXzMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUlmUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0xID0gdGhpcy5wYXJhbWV0ZXJzWzBdO1xyXG5cclxuICAgICAgICBjb25zdCBwYXJhbTFJc0FGUkkgPSBwYXJhbTEgaW5zdGFuY2VvZiBBRlJJO1xyXG5cclxuICAgICAgICBjb25zdCBjb25kaXRpb24gPSBwYXJhbTFJc0FGUkkgPyAoYXdhaXQgcGFyYW0xLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTEudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChjb25kaXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW0yID0gPEFGUkk+IHRoaXMucGFyYW1ldGVyc1sxXTtcclxuICAgICAgICAgICAgYXdhaXQgcGFyYW0yLkV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIElmXHJcblxyXG4vLyNyZWdpb24gSWYgRWxzZVxyXG5leHBvcnQgY2xhc3MgQUlmRWxzZUkgZXh0ZW5kcyBBRkkge1xyXG4gICAgdHlwZSA9IEFGLmlmZWxzZTtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtZXRlcnM6IChBU0kgfCBBRkkpW10gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgY29uc3QgY29uZGl0aW9uID0gbmV3IEFCb29sZWFuSShTY29wZS5WYWx1ZSwgJ2NvbmRpdGlvbicpO1xyXG4gICAgICAgIGNvbnN0IGRvTm90aGluZyA9IG5ldyBBRG9Ob3RoaW5nSSgpO1xyXG4gICAgICAgIGNvbnN0IGRvTm90aGluZzIgPSBuZXcgQURvTm90aGluZ0koKTtcclxuICAgICAgICBjb25kaXRpb24udmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW2NvbmRpdGlvbiwgZG9Ob3RoaW5nLCBkb05vdGhpbmcyXTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkoY29uZGl0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFGSGFuZGxlci5Db3B5KGRvTm90aGluZykpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBRkhhbmRsZXIuQ29weShkb05vdGhpbmcyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUlmRWxzZUVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUlmRWxzZUk7XHJcbiAgICBvdmVycmlkZSBEaXNwbGF5QmxvY2soKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXYuZW1wdHkoKTtcclxuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmRpdjtcclxuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2dlb2QzLXNjcmlwdC1ibG9jayB2Ym94JztcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQUNDRU5UX0NPTE9SXzI7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMztcclxuXHJcbiAgICAgICAgY29uc3QgdG9wRGl2ID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrLWlubmVyLXNlY3Rpb24gaGJveCcpO1xyXG4gICAgICAgIHRvcERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnSWYnIH0gKTtcclxuICAgICAgICBjb25zdCBjb25kaXRpb25EaXYgPSB0b3BEaXYuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgY29uc3QgZnVuY3Rpb24xRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGRpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnRWxzZScgfSApO1xyXG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uMkRpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuXHJcbiAgICAgICAgdGhpcy5DcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdigwLCBjb25kaXRpb25EaXYsIEFDQ0VOVF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdigxLCBmdW5jdGlvbjFEaXYsIEFDQ0VOVF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFGSVBhcmFtZXRlckRpdigyLCBmdW5jdGlvbjJEaXYsIEFDQ0VOVF9DT0xPUl8zKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFJZkVsc2VSSSBleHRlbmRzIEFGUkkge1xyXG4gICAgYXN5bmMgRXhlY3V0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBwYXJhbTEgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmFtMUlzQUZSSSA9IHBhcmFtMSBpbnN0YW5jZW9mIEFGUkk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IHBhcmFtMUlzQUZSSSA/IChhd2FpdCBwYXJhbTEuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGNvbmRpdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbTIgPSA8QUZSST4gdGhpcy5wYXJhbWV0ZXJzWzFdO1xyXG4gICAgICAgICAgICBhd2FpdCBwYXJhbTIuRXhlY3V0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtMyA9IDxBRlJJPiB0aGlzLnBhcmFtZXRlcnNbMl07XHJcbiAgICAgICAgICAgIGF3YWl0IHBhcmFtMy5FeGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBJZiBFbHNlXHJcblxyXG4vLyNyZWdpb24gQ29tcGFyZVxyXG5leHBvcnQgY2xhc3MgQUNvbXBhcmVJIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5jb21wYXJlO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCB2YWwxID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAndmFsMScpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBuZXcgQVN0cmluZ0koU2NvcGUuVmFsdWUsICdjb21wYXJpc29uIHR5cGUnKTtcclxuICAgICAgICBjb25zdCB2YWwyID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAndmFsMicpO1xyXG4gICAgICAgIHZhbDEudmFsdWUgPSAwO1xyXG4gICAgICAgIHR5cGUudmFsdWUgPSAnPSc7XHJcbiAgICAgICAgdmFsMi52YWx1ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UGFyYW1ldGVycyA9IFt2YWwxLCB0eXBlLCB2YWwyXTtcclxuICAgICAgICBpZiAocGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goQVNIYW5kbGVyLkNvcHkodmFsMSkpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weSh0eXBlKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KHZhbDIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQ29tcGFyZUVJIGV4dGVuZHMgQUZFSSB7XHJcbiAgICBpbnN0YW5jZTogQUNvbXBhcmVJO1xyXG4gICAgb3ZlcnJpZGUgRGlzcGxheUJsb2NrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5kaXY7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy1zY3JpcHQtYmxvY2sgaGJveCc7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMTtcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5ib3JkZXJDb2xvciA9IEFDQ0VOVF9DT0xPUl8zO1xyXG5cclxuICAgICAgICBjb25zdCB2YWwxRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVTZWxlY3QgPSBkaXYuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG4gICAgICAgIGNvbnN0IHZhbDJEaXYgPSBkaXYuY3JlYXRlRGl2KCk7XHJcblxyXG4gICAgICAgIHRoaXMuQ3JlYXRlQVNJT3JBRklQYXJhbWV0ZXJEaXYoMCwgdmFsMURpdiwgQ0VOVFJBTF9DT0xPUl8zKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDIsIHZhbDJEaXYsIENFTlRSQUxfQ09MT1JfMyk7XHJcblxyXG4gICAgICAgIHR5cGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJz0nLCB2YWx1ZTogJz0nIH0gKTtcclxuICAgICAgICB0eXBlU2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICchPScsIHZhbHVlOiAnIT0nIH0gKTtcclxuICAgICAgICB0eXBlU2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICc8JywgdmFsdWU6ICc8JyB9ICk7XHJcbiAgICAgICAgdHlwZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB0ZXh0OiAnPicsIHZhbHVlOiAnPicgfSApO1xyXG4gICAgICAgIHR5cGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJzw9JywgdmFsdWU6ICc8PScgfSApO1xyXG4gICAgICAgIHR5cGVTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJz49JywgdmFsdWU6ICc+PScgfSApO1xyXG5cclxuICAgICAgICB0eXBlU2VsZWN0LnZhbHVlID0gKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1sxXSkudmFsdWU7XHJcbiAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKHR5cGVTZWxlY3QsIGRpdik7XHJcblxyXG4gICAgICAgIHR5cGVTZWxlY3Qub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMV0pLnZhbHVlID0gdHlwZVNlbGVjdC52YWx1ZTtcclxuICAgICAgICAgICAgQUZFSS5BZGp1c3RJbnB1dFdpZHRoKHR5cGVTZWxlY3QsIGRpdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0eXBlU2VsZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IENFTlRSQUxfQ09MT1JfMztcclxuICAgICAgICB0eXBlU2VsZWN0LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcwJztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFDb21wYXJlUkkgZXh0ZW5kcyBBRlJJIHtcclxuICAgIGFzeW5jIEV4ZWN1dGUoKTogUHJvbWlzZTxBQm9vbGVhbkk+IHtcclxuICAgICAgICBjb25zdCBwYXJhbTEgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3QgcGFyYW0yID0gPEFTST4gdGhpcy5wYXJhbWV0ZXJzWzFdO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMyA9IHRoaXMucGFyYW1ldGVyc1syXTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFyYW0xSXNBRlJJID0gcGFyYW0xIGluc3RhbmNlb2YgQUZSSTtcclxuICAgICAgICBjb25zdCBwYXJhbTNJc0FGUkkgPSBwYXJhbTMgaW5zdGFuY2VvZiBBRlJJO1xyXG5cclxuICAgICAgICBjb25zdCB2YWwxID0gcGFyYW0xSXNBRlJJID8gKGF3YWl0IHBhcmFtMS5FeGVjdXRlKCkpLnZhbHVlIDogcGFyYW0xLnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IHZhbDIgPSBwYXJhbTNJc0FGUkkgPyAoYXdhaXQgcGFyYW0zLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTMudmFsdWU7XHJcblxyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBBQm9vbGVhbkkoU2NvcGUuVmFsdWUsICdvdXRwdXQnKTtcclxuICAgICAgICBzd2l0Y2gocGFyYW0yLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJz0nOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnZhbHVlID0gdmFsMSA9PT0gdmFsMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICchPSc6XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxICE9PSB2YWwyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJzwnOlxyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnZhbHVlID0gdmFsMSA8IHZhbDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnPic6XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxID4gdmFsMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICc8PSc6XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSB2YWwxIDw9IHZhbDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnPj0nOlxyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnZhbHVlID0gdmFsMSA+PSB2YWwyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvbiBDb21wYXJlXHJcblxyXG4vLyNyZWdpb24gS2V5ZG93blxyXG5leHBvcnQgY2xhc3MgQUtleWRvd25JIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5rZXlkb3duO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVyczogKEFTSSB8IEFGSSlbXSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBjb25zdCBrZXkgPSBuZXcgQVN0cmluZ0koU2NvcGUuVmFsdWUsICdrZXknKTtcclxuICAgICAgICBrZXkudmFsdWUgPSAnQW55JztcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW2tleV07XHJcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBrZXlsaXN0ID0gW1xyXG4gICAgICAgICdBbnknLFxyXG4gICAgICAgICdTcGFjZScsXHJcbiAgICAgICAgJ1VwIEFycm93JyxcclxuICAgICAgICAnRG93biBBcnJvdycsXHJcbiAgICAgICAgJ0xlZnQgQXJyb3cnLFxyXG4gICAgICAgICdSaWdodCBBcnJvdycsXHJcbiAgICAgICAgJ0EnLFxyXG4gICAgICAgICdCJyxcclxuICAgICAgICAnQycsXHJcbiAgICAgICAgJ0QnLFxyXG4gICAgICAgICdFJyxcclxuICAgICAgICAnRicsXHJcbiAgICAgICAgJ0cnLFxyXG4gICAgICAgICdIJyxcclxuICAgICAgICAnSScsXHJcbiAgICAgICAgJ0onLFxyXG4gICAgICAgICdLJyxcclxuICAgICAgICAnTCcsXHJcbiAgICAgICAgJ00nLFxyXG4gICAgICAgICdOJyxcclxuICAgICAgICAnTycsXHJcbiAgICAgICAgJ1AnLFxyXG4gICAgICAgICdRJyxcclxuICAgICAgICAnUicsXHJcbiAgICAgICAgJ1MnLFxyXG4gICAgICAgICdUJyxcclxuICAgICAgICAnVScsXHJcbiAgICAgICAgJ1YnLFxyXG4gICAgICAgICdXJyxcclxuICAgICAgICAnWCcsXHJcbiAgICAgICAgJ1knLFxyXG4gICAgICAgICdaJ1xyXG4gICAgXVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUtleWRvd25FSSBleHRlbmRzIEFGRUkge1xyXG4gICAgaW5zdGFuY2U6IEFLZXlkb3duSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMuZGl2O1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrIGhib3gnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzE7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMztcclxuXHJcbiAgICAgICAgY29uc3Qga2V5U2VsZWN0ID0gZGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0tleSBEb3duPycgfSApO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEFLZXlkb3duSS5rZXlsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJLZXkgPSBBS2V5ZG93bkkua2V5bGlzdFtpXTtcclxuICAgICAgICAgICAga2V5U2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJLZXksIHZhbHVlOiBjdXJyS2V5IH0gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGtleVNlbGVjdC52YWx1ZSA9ICg8QVNJPiB0aGlzLmluc3RhbmNlLnBhcmFtZXRlcnNbMF0pLnZhbHVlO1xyXG4gICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChrZXlTZWxlY3QsIGRpdik7XHJcblxyXG4gICAgICAgIGtleVNlbGVjdC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgKDxBU0k+IHRoaXMuaW5zdGFuY2UucGFyYW1ldGVyc1swXSkudmFsdWUgPSBrZXlTZWxlY3QudmFsdWU7XHJcbiAgICAgICAgICAgIEFGRUkuQWRqdXN0SW5wdXRXaWR0aChrZXlTZWxlY3QsIGRpdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBrZXlTZWxlY3Quc3R5bGUuYmFja2dyb3VuZENvbG9yID0gQ0VOVFJBTF9DT0xPUl8zO1xyXG4gICAgICAgIGtleVNlbGVjdC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMCc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBS2V5ZG93blJJIGV4dGVuZHMgQUZSSSB7XHJcbiAgICBhc3luYyBFeGVjdXRlKCk6IFByb21pc2U8QUJvb2xlYW5JPiB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gPEFTST4gdGhpcy5wYXJhbWV0ZXJzWzBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBBQm9vbGVhbkkoU2NvcGUuVmFsdWUsICdvdXRwdXQnKTtcclxuICAgICAgICBjb25zdCBpc0tleURvd24gPSB0aGlzLmFucC5wcm9qZWN0LmdhbWVWaWV3LnByZXNzZWRLZXlzLmdldChrZXkudmFsdWUpO1xyXG4gICAgICAgIG91dHB1dC52YWx1ZSA9IGlzS2V5RG93biA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBpc0tleURvd247XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGlzS2V5RG93bik7XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEtleWRvd25cclxuXHJcbi8vI3JlZ2lvbiBBZGRcclxuZXhwb3J0IGNsYXNzIEFBZGRJIGV4dGVuZHMgQUZJIHtcclxuICAgIHR5cGUgPSBBRi5hZGQ7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiAoQVNJIHwgQUZJKVtdIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGNvbnN0IG51bTEgPSBuZXcgQU51bWJlckkoU2NvcGUuVmFsdWUsICdudW0xJyk7XHJcbiAgICAgICAgY29uc3QgbnVtMiA9IG5ldyBBTnVtYmVySShTY29wZS5WYWx1ZSwgJ251bTInKTtcclxuICAgICAgICBudW0xLnZhbHVlID0gMDtcclxuICAgICAgICBudW0yLnZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQYXJhbWV0ZXJzID0gW251bTEsIG51bTJdO1xyXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMucHVzaChBU0hhbmRsZXIuQ29weShudW0xKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5wdXNoKEFTSGFuZGxlci5Db3B5KG51bTIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBQWRkRUkgZXh0ZW5kcyBBRkVJIHtcclxuICAgIGluc3RhbmNlOiBBQWRkSTtcclxuICAgIG92ZXJyaWRlIERpc3BsYXlCbG9jaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMuZGl2O1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtc2NyaXB0LWJsb2NrIGhib3gnO1xyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBDRU5UUkFMX0NPTE9SXzE7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcclxuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyQ29sb3IgPSBBQ0NFTlRfQ09MT1JfMztcclxuXHJcbiAgICAgICAgY29uc3QgbnVtMURpdiA9IGRpdi5jcmVhdGVEaXYoKTtcclxuICAgICAgICBkaXYuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJysnIH0gKTtcclxuICAgICAgICBjb25zdCBudW0yRGl2ID0gZGl2LmNyZWF0ZURpdigpO1xyXG5cclxuICAgICAgICB0aGlzLkNyZWF0ZUFTSU9yQUZJUGFyYW1ldGVyRGl2KDAsIG51bTFEaXYsIENFTlRSQUxfQ09MT1JfMyk7XHJcbiAgICAgICAgdGhpcy5DcmVhdGVBU0lPckFGSVBhcmFtZXRlckRpdigxLCBudW0yRGl2LCBDRU5UUkFMX0NPTE9SXzMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUFkZFJJIGV4dGVuZHMgQUZSSSB7XHJcbiAgICBhc3luYyBFeGVjdXRlKCk6IFByb21pc2U8QU51bWJlckk+IHtcclxuICAgICAgICBjb25zdCBwYXJhbTEgPSB0aGlzLnBhcmFtZXRlcnNbMF07XHJcbiAgICAgICAgY29uc3QgcGFyYW0yID0gdGhpcy5wYXJhbWV0ZXJzWzFdO1xyXG5cclxuICAgICAgICBjb25zdCBwYXJhbTFJc0FGUkkgPSBwYXJhbTEgaW5zdGFuY2VvZiBBRlJJO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtMklzQUZSSSA9IHBhcmFtMiBpbnN0YW5jZW9mIEFGUkk7XHJcblxyXG4gICAgICAgIGNvbnN0IG51bTEgPSBwYXJhbTFJc0FGUkkgPyAoYXdhaXQgcGFyYW0xLkV4ZWN1dGUoKSkudmFsdWUgOiBwYXJhbTEudmFsdWU7XHJcbiAgICAgICAgY29uc3QgbnVtMiA9IHBhcmFtMklzQUZSSSA/IChhd2FpdCBwYXJhbTIuRXhlY3V0ZSgpKS52YWx1ZSA6IHBhcmFtMi52YWx1ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV3IEFOdW1iZXJJKFNjb3BlLlZhbHVlLCAnc3VtJyk7XHJcbiAgICAgICAgb3V0cHV0LnZhbHVlID0gbnVtMSArIG51bTI7XHJcblxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uIEFkZFxyXG4iLCAiaW1wb3J0IHsgQUtleWRvd25JIH0gZnJvbSBcImNsYXNzZXMvZnVuY3Rpb25zL2Z1bmN0aW9uXCI7XHJcbmltcG9ydCB7IEdFT0QzT2JqZWN0SGFuZGxlciwgR0VPRDNPYmplY3RSSSB9IGZyb20gXCIuL2dlb2QzLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lVmlldyBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdTI1QjZcdUZFMEYnO1xyXG4gICAgZ2FtZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBzdGlsbFJ1bm5pbmc6IGJvb2xlYW47XHJcbiAgICBvYmplY3RzOiBHRU9EM09iamVjdFJJW107XHJcbiAgICBwcmVzc2VkS2V5czogTWFwPHN0cmluZywgYm9vbGVhbj47XHJcbiAgICBnZXQgcHJlc3NlZEtleXNBcnJheSgpOiBbc3RyaW5nLCBib29sZWFuXVtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByZXNzZWRLZXlzLmVudHJpZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcnJpZGUgYXN5bmMgRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGRpdi5lbXB0eSgpO1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtZ2FtZS12aWV3LW1haW4tZGl2IGdlb2QzLXRhYi1jb250YWluZXInO1xyXG4gICAgICAgIGNvbnN0IGdhbWVXcmFwcGVyID0gZGl2LmNyZWF0ZURpdignZ2VvZDMtZ2FtZS13cmFwcGVyJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lRGl2ID0gZ2FtZVdyYXBwZXIuY3JlYXRlRGl2KCdnZW9kMy1nYW1lJyk7XHJcbiAgICAgICAgdGhpcy5zdGlsbFJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMucHJlc3NlZEtleXMgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuTGlzdGVuRm9yS2V5UHJlc3NlcygpO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLk9uU3RhcnQoKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5zdGlsbFJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5Pbk5ld0ZyYW1lKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKDE1KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5zdGlsbFJ1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIExpc3RlbkZvcktleVByZXNzZXMoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRGl2LnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5nYW1lRGl2LmZvY3VzKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQUtleWRvd25JLmtleWxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycktleSA9IEFLZXlkb3duSS5rZXlsaXN0W2ldO1xyXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldChjdXJyS2V5LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVEaXYub25rZXlkb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmtleSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdBbnknLCB0cnVlKTtcclxuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdTcGFjZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdVcCBBcnJvdycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0Rvd24gQXJyb3cnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdMZWZ0IEFycm93JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1JpZ2h0IEFycm93JywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnQScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0InOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0InLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2MnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdDJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0UnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0UnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdGJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2YnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdGJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdnJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0gnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0gnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdJJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2knOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdJJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnSic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnSicsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0snOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnayc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0snLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdMJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdMJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnTScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ04nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ04nLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdPJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ28nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdPJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1EnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1EnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdSJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3InOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdSJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1QnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1QnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdVJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdVJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd2JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnVicsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1cnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1cnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdYJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3gnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdYJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnWSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd5JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnWScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1onOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAneic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1onLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nYW1lRGl2Lm9ua2V5dXAgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJyAnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdTcGFjZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdVcCBBcnJvdycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0Rvd24gQXJyb3cnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdMZWZ0IEFycm93JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1JpZ2h0IEFycm93JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnQScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0InOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnYic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0InLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2MnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdDJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0UnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0UnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdGJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2YnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdGJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdnJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnRycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0gnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0gnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdJJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2knOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdJJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnSic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnSicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0snOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnayc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ0snLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdMJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdMJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnTScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ04nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ04nLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdPJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ28nOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdPJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1EnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncSc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1EnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdSJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3InOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdSJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnUycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1QnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1QnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdVJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdVJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd2JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnVicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1cnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAndyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1cnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdYJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3gnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuc2V0KCdYJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnWSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICd5JzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnWScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1onOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAneic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5zZXQoJ1onLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJlc3NlZEtleXNBcnJheSA9IHRoaXMucHJlc3NlZEtleXNBcnJheTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwcmVzc2VkS2V5c0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlc3NlZEtleXNBcnJheVtpXVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRLZXlzLnNldCgnQW55JywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIE9uU3RhcnQoKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqSW5zdGFuY2VzID0gdGhpcy5hbnAucHJvamVjdC5zY2VuZVZpZXcub2JqZWN0cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iakluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdHMucHVzaChHRU9EM09iamVjdEhhbmRsZXIuQ3JlYXRlUkkob2JqSW5zdGFuY2VzW2ldLCB0aGlzLmFucCwgdGhpcy5nYW1lRGl2LmNyZWF0ZURpdigpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c1tpXS5PblN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgT25OZXdGcmFtZSgpIHtcclxuICAgICAgICB0aGlzLmdhbWVEaXYuZm9jdXMoKTtcclxuICAgICAgICBjb25zdCByZW5kZXJpbmdPcmRlcjogR0VPRDNPYmplY3RSSVtdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3Vyck9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAgICAgY3Vyck9iai5SZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5QbGFjZUludG9TcHJpdGVBcnJheShyZW5kZXJpbmdPcmRlciwgY3Vyck9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyaW5nT3JkZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY3VyclNwcml0ZSA9IHJlbmRlcmluZ09yZGVyW2ldO1xyXG4gICAgICAgICAgICBjdXJyU3ByaXRlLm9iakRpdi5zdHlsZS56SW5kZXggPSBpICsgJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c1tpXS5Pbk5ld0ZyYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgUGxhY2VJbnRvU3ByaXRlQXJyYXkoYXJyOiBHRU9EM09iamVjdFJJW10sIG5ld0l0ZW06IEdFT0QzT2JqZWN0UkkpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbG93ID0gMDtcclxuICAgICAgICBsZXQgaGlnaCA9IGFyci5sZW5ndGg7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1ogPSBHRU9EM09iamVjdEhhbmRsZXIuR2V0VmFyaWFibGUobmV3SXRlbSwgJ3onKTtcclxuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xyXG4gICAgICAgICAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xyXG4gICAgICAgICAgICBjb25zdCBtaWRaID0gR0VPRDNPYmplY3RIYW5kbGVyLkdldFZhcmlhYmxlKGFyclttaWRdLCAneicpO1xyXG4gICAgICAgICAgICBpZiAobWlkWiA8IG5ld1opIHtcclxuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhcnIuc3BsaWNlKGxvdywgMCwgbmV3SXRlbSk7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgbm9ybWFsaXplUGF0aCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuaW1wb3J0IHsgQXBwQW5kUHJvamVjdCB9IGZyb20gXCJjbGFzc2VzL3Byb2plY3RcIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3QsIEdFT0QzT2JqZWN0SGFuZGxlciB9IGZyb20gXCIuL2dlb2QzLW9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjZW5lVmlldyBleHRlbmRzIFRhYiB7XHJcbiAgICBzdGF0aWMgb3ZlcnJpZGUgaWNvbiA9ICdcdUQ4M0NcdURGMTAnO1xyXG4gICAgb2JqZWN0czogR0VPRDNPYmplY3RbXTtcclxuICAgIGhpZXJhcmNoeURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBzY2VuZURpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBpbnNwZWN0b3JEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihhbnA6IEFwcEFuZFByb2plY3QpIHtcclxuICAgICAgICBzdXBlcihhbnApO1xyXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdnZW9kMy10YWItY29udGFpbmVyIGhib3gnO1xyXG5cclxuICAgICAgICB0aGlzLmhpZXJhcmNoeURpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLW9iamVjdC1saXN0IHZib3gnKTtcclxuICAgICAgICBjb25zdCBzY2VuZVNjcm9sbFdyYXBwZXIgPSBkaXYuY3JlYXRlRGl2KCdnZW9kMy1zY2VuZS1zY3JvbGwtd3JhcHBlcicpO1xyXG4gICAgICAgIGNvbnN0IHNjZW5lV3JhcHBlciA9IHNjZW5lU2Nyb2xsV3JhcHBlci5jcmVhdGVEaXYoJ2dlb2QzLXNjZW5lLXdyYXBwZXInKTtcclxuICAgICAgICB0aGlzLnNjZW5lRGl2ID0gc2NlbmVXcmFwcGVyLmNyZWF0ZURpdignZ2VvZDMtc2NlbmUnKTtcclxuICAgICAgICB0aGlzLmluc3BlY3RvckRpdiA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWluc3BlY3RvciB2Ym94Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpc3REaXYgPSB0aGlzLmhpZXJhcmNoeURpdi5jcmVhdGVEaXYoJ3Zib3gnKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0RGl2ID0gbGlzdERpdi5jcmVhdGVEaXYoJ2dlb2QzLW9iamVjdC1pbi1saXN0IGhib3ggcG9pbnRlci1ob3ZlcicpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyT2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgICAgICBvYmplY3REaXYudGV4dENvbnRlbnQgPSBjdXJyT2JqLmlkSW5TY2VuZSArICc6ICcgKyBjdXJyT2JqLm5hbWU7XHJcbiAgICAgICAgICAgIG9iamVjdERpdi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgR0VPRDNPYmplY3RIYW5kbGVyLkNyZWF0ZUlJKGN1cnJPYmosIHRoaXMuYW5wLCB0aGlzLmluc3BlY3RvckRpdik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYnV0dG9uc0RpdiA9IHRoaXMuaGllcmFyY2h5RGl2LmNyZWF0ZURpdignaGJveCcpO1xyXG4gICAgICAgIGNvbnN0IHJlZnJlc2hCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTI3RjMnIH0gKTtcclxuICAgICAgICBjb25zdCBhZGRPYmpCdXR0b24gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrJyB9ICk7XHJcbiAgICAgICAgcmVmcmVzaEJ1dHRvbi5jbGFzc05hbWUgPSAnZ2VvZDMtc2Vjb25kYXJ5LWJ1dHRvbic7XHJcbiAgICAgICAgYWRkT2JqQnV0dG9uLmNsYXNzTmFtZSA9ICdnZW9kMy1hZGQtYnV0dG9uJztcclxuICAgICAgICByZWZyZXNoQnV0dG9uLnN0eWxlLndpZHRoID0gJzUwJSc7XHJcbiAgICAgICAgYWRkT2JqQnV0dG9uLnN0eWxlLndpZHRoID0gJzUwJSc7XHJcbiAgICAgICAgcmVmcmVzaEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lRGl2LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyT2JqID0gR0VPRDNPYmplY3RIYW5kbGVyLkNyZWF0ZVJJKHRoaXMub2JqZWN0c1tpXSwgdGhpcy5hbnAsIHRoaXMuc2NlbmVEaXYuY3JlYXRlRGl2KCkpO1xyXG4gICAgICAgICAgICAgICAgY3Vyck9iai5SZW5kZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhZGRPYmpCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm9iamVjdHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdPYmogPSBuZXcgR0VPRDNPYmplY3QoaW5kZXgpO1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3REaXYgPSBsaXN0RGl2LmNyZWF0ZURpdignZ2VvZDMtb2JqZWN0LWluLWxpc3QgaGJveCBwb2ludGVyLWhvdmVyJyk7XHJcbiAgICAgICAgICAgIG9iamVjdERpdi5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBuZXdPYmouaWRJblNjZW5lICsgJzogJyArIG5ld09iai5uYW1lIH0gKTtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3RzLnB1c2gobmV3T2JqKTtcclxuICAgICAgICAgICAgb2JqZWN0RGl2Lm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBHRU9EM09iamVjdEhhbmRsZXIuQ3JlYXRlSUkobmV3T2JqLCB0aGlzLmFucCwgdGhpcy5pbnNwZWN0b3JEaXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG92ZXJyaWRlIFVuRm9jdXMoZGl2OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBUYWIgfSBmcm9tIFwiLi90YWJcIjtcclxuaW1wb3J0IHsgR0VPRDNPYmplY3QgfSBmcm9tIFwiLi9nZW9kMy1vYmplY3RcIjtcclxuaW1wb3J0IHsgQUNoYWluSSwgQURvTm90aGluZ0ksIEFGLCBBRkVJLCBBRkhhbmRsZXIgfSBmcm9tIFwiY2xhc3Nlcy9mdW5jdGlvbnMvZnVuY3Rpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JpcHRFZGl0b3IgZXh0ZW5kcyBUYWIge1xyXG4gICAgc3RhdGljIG92ZXJyaWRlIGljb24gPSAnXHVEODNEXHVEQ0RDJztcclxuICAgIHNjcmlwdERpdjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBibG9ja3NEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgZGVsRGl2OiBIVE1MRGl2RWxlbWVudDtcclxuICAgIGN1cnJlbnRPYmplY3Q6IEdFT0QzT2JqZWN0O1xyXG4gICAgY3VycmVudGx5RHJhZ2dlZEJsb2NrOiBBRkVJIHwgdW5kZWZpbmVkO1xyXG4gICAgY3VycmVudGx5RHJhZ2dlZEJsb2NrSXNDb3B5OiBib29sZWFuO1xyXG5cclxuICAgIG92ZXJyaWRlIGFzeW5jIEZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBkaXYuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb2JqcyA9IHRoaXMuYW5wLnByb2plY3Quc2NlbmVWaWV3Lm9iamVjdHM7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE9iamVjdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmpzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE9iamVjdCA9IG9ianNbMF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXYuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnQ3JlYXRlIE9iamVjdHMgaW4gdGhlIFNjZW5lIFZpZXcgZmlyc3QhJyB9ICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSAnZ2VvZDMtdGFiLWNvbnRhaW5lciBoYm94JztcclxuICAgICAgICBjb25zdCBsZWZ0U2lkZSA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC13cmFwcGVyIHZib3gnKTtcclxuICAgICAgICBjb25zdCB0b3BEaXYgPSBsZWZ0U2lkZS5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1uYXZpZ2F0b3IgaGJveCcpO1xyXG5cclxuICAgICAgICBjb25zdCBvYmpJRElucHV0ID0gdG9wRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBjbHVzdGVyVHlwZUlucHV0ID0gdG9wRGl2LmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBjbHVzdGVyTnVtYmVySW5wdXQgPSB0b3BEaXYuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnbnVtYmVyJywgdmFsdWU6ICcwJyB9ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJPYmogPSBvYmpzW2ldO1xyXG4gICAgICAgICAgICBvYmpJRElucHV0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6IGN1cnJPYmouaWRJblNjZW5lICsgJzogJyArIGN1cnJPYmoubmFtZSwgdmFsdWU6IGkgKyAnJyB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9iaklESW5wdXQudmFsdWUgPSB0aGlzLmN1cnJlbnRPYmplY3QuaWRJblNjZW5lICsgJyc7XHJcblxyXG4gICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJ09uIFN0YXJ0JywgdmFsdWU6ICdPbiBTdGFydCcgfSApO1xyXG4gICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQuY3JlYXRlRWwoJ29wdGlvbicsIHsgdGV4dDogJ09uIE5ldyBGcmFtZScsIHZhbHVlOiAnT24gTmV3IEZyYW1lJyB9ICk7XHJcbiAgICAgICAgY2x1c3RlclR5cGVJbnB1dC52YWx1ZSA9ICdPbiBTdGFydCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2x1c3Rlck51bWJlcklucHV0Lm1pbiA9ICcwJztcclxuXHJcbiAgICAgICAgdGhpcy5zY3JpcHREaXYgPSBsZWZ0U2lkZS5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdCcpO1xyXG4gICAgICAgIGNvbnN0IGJsb2NrUG9vbCA9IGRpdi5jcmVhdGVEaXYoJ2dlb2QzLWJsb2NrLXBvb2wnKTtcclxuICAgICAgICB0aGlzLmJsb2Nrc0RpdiA9IGJsb2NrUG9vbC5jcmVhdGVEaXYoJ2dlb2QzLWJsb2Nrcy1saXN0IHZib3gnKTtcclxuICAgICAgICB0aGlzLmRlbERpdiA9IGJsb2NrUG9vbC5jcmVhdGVEaXYoJ2dlb2QzLWJsb2NrLWRlbGV0ZS1kaXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgTG9hZFNjcmlwdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY3JpcHREaXYuZW1wdHkoKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5jdXJyZW50T2JqZWN0O1xyXG4gICAgICAgICAgICBjb25zdCBzY3JpcHRUeXBlID0gY2x1c3RlclR5cGVJbnB1dC52YWx1ZSA9PT0gJ09uIFN0YXJ0JyA/IG9iai5vblN0YXJ0IDogb2JqLm9uTmV3RnJhbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoY2x1c3Rlck51bWJlcklucHV0LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSBzY3JpcHRUeXBlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc2NyaXB0VHlwZS5wdXNoKG5ldyBBQ2hhaW5JKFtuZXcgQURvTm90aGluZ0koKV0pKTtcclxuICAgICAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEFGSGFuZGxlci5DcmVhdGVFSShzY3JpcHRUeXBlW2luZGV4XSwgdGhpcy5zY3JpcHREaXYuY3JlYXRlRGl2KCksIHRoaXMuYW5wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5DcmVhdGVCbG9ja1Bvb2woKTtcclxuICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2JqSURJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqZWN0ID0gb2Jqc1twYXJzZUludChvYmpJRElucHV0LnZhbHVlKV07XHJcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuY3VycmVudE9iamVjdDtcclxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0VHlwZSA9IGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPT09ICdPbiBTdGFydCcgPyBvYmoub25TdGFydCA6IG9iai5vbk5ld0ZyYW1lO1xyXG4gICAgICAgICAgICBjbHVzdGVyTnVtYmVySW5wdXQudmFsdWUgPSAnMCc7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsdXN0ZXJUeXBlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuY3VycmVudE9iamVjdDtcclxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0VHlwZSA9IGNsdXN0ZXJUeXBlSW5wdXQudmFsdWUgPT09ICdPbiBTdGFydCcgPyBvYmoub25TdGFydCA6IG9iai5vbk5ld0ZyYW1lO1xyXG4gICAgICAgICAgICBjbHVzdGVyTnVtYmVySW5wdXQudmFsdWUgPSAnMCc7XHJcbiAgICAgICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5tYXggPSBzY3JpcHRUeXBlLmxlbmd0aCArICcnO1xyXG4gICAgICAgICAgICBMb2FkU2NyaXB0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsdXN0ZXJOdW1iZXJJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgTG9hZFNjcmlwdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZUJsb2NrUG9vbCgpIHtcclxuICAgICAgICB0aGlzLmJsb2Nrc0Rpdi5lbXB0eSgpO1xyXG5cclxuICAgICAgICB0aGlzLmRlbERpdi5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZWxEaXYuY2xhc3NOYW1lID0gJ2dlb2QzLWJsb2NrLWRlbGV0ZS1kaXYtaG92ZXInO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRlbERpdi5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmRlbERpdi5jbGFzc05hbWUgPSAnZ2VvZDMtYmxvY2stZGVsZXRlLWRpdic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISh0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9jayA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrSXNDb3B5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50bHlEcmFnZ2VkQmxvY2suZGl2LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50RUkgPSB0aGlzLmN1cnJlbnRseURyYWdnZWRCbG9jay5wYXJlbnRFSTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRFSSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RUkuUmVtb3ZlUGFyYW1ldGVyKHRoaXMuY3VycmVudGx5RHJhZ2dlZEJsb2NrLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFSS5EaXNwbGF5QmxvY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNoYWluSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmNoYWluLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IGdldEkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5nZXQsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3Qgc2V0SSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLnNldCwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBpZkkgPSBBRkhhbmRsZXIuQ3JlYXRlSShBRi5pZiwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBpZkVsc2VJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuaWZlbHNlLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmVJID0gQUZIYW5kbGVyLkNyZWF0ZUkoQUYuY29tcGFyZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBrZXlkb3duSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmtleWRvd24sIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgYWRkSSA9IEFGSGFuZGxlci5DcmVhdGVJKEFGLmFkZCwgdW5kZWZpbmVkKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hhaW5CbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShjaGFpbkksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuICAgICAgICBjb25zdCBnZXRCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShnZXRJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3Qgc2V0QmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoc2V0SSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGlmQmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoaWZJLCB0aGlzLmJsb2Nrc0Rpdi5jcmVhdGVEaXYoJ2dlb2QzLXNjcmlwdC1ibG9jaycpLCB0aGlzLmFucCk7XHJcbiAgICAgICAgY29uc3QgaWZFbHNlQmxvY2sgPSBBRkhhbmRsZXIuQ3JlYXRlRUkoaWZFbHNlSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGNvbXBhcmVCbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShjb21wYXJlSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGtleWRvd25CbG9jayA9IEFGSGFuZGxlci5DcmVhdGVFSShrZXlkb3duSSwgdGhpcy5ibG9ja3NEaXYuY3JlYXRlRGl2KCdnZW9kMy1zY3JpcHQtYmxvY2snKSwgdGhpcy5hbnApO1xyXG4gICAgICAgIGNvbnN0IGFkZEJsb2NrID0gQUZIYW5kbGVyLkNyZWF0ZUVJKGFkZEksIHRoaXMuYmxvY2tzRGl2LmNyZWF0ZURpdignZ2VvZDMtc2NyaXB0LWJsb2NrJyksIHRoaXMuYW5wKTtcclxuXHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoY2hhaW5CbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgICAgIEFGRUkuTWFrZUJsb2NrRHJhZ2dhYmxlKGdldEJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoc2V0QmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShpZkJsb2NrLCB0aGlzLmFucCwgdHJ1ZSk7XHJcbiAgICAgICAgQUZFSS5NYWtlQmxvY2tEcmFnZ2FibGUoaWZFbHNlQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShjb21wYXJlQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShrZXlkb3duQmxvY2ssIHRoaXMuYW5wLCB0cnVlKTtcclxuICAgICAgICBBRkVJLk1ha2VCbG9ja0RyYWdnYWJsZShhZGRCbG9jaywgdGhpcy5hbnAsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvdmVycmlkZSBVbkZvY3VzKGRpdjogSFRNTERpdkVsZW1lbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgZGl2LmVtcHR5KCk7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUNBQSxJQUFBQSxtQkFBdUQ7OztBQ0F2RCxJQUFBQyxtQkFBbUM7OztBQ0FuQyxJQUFBQyxtQkFBK0I7OztBQ0V4QixJQUFlLE1BQWYsTUFBbUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU10QixZQUFZLEtBQW9CO0FBQzVCLFNBQUssTUFBTTtBQUFBLEVBQ2Y7QUFlSjs7O0FDdEJBLHNCQUE4QjtBQUV2QixJQUFlLFlBQWYsTUFBeUI7QUFBQSxFQUU1QixVQUFVLFNBQXdDO0FBQzlDLFdBQXFCLFFBQVEsUUFBUSxLQUFLLFVBQVU7QUFBQSxFQUN4RDtBQUFBLEVBTUEsSUFBSSxPQUFlO0FBQ2YsVUFBTSxZQUFZLEtBQUssS0FBSyxRQUFRLEVBQUUsTUFBTSxHQUFHO0FBQy9DLFFBQUksS0FBSyxLQUFLLFFBQVEsTUFBTSxLQUFLO0FBQzdCLGFBQU87QUFBQSxJQUNYO0FBQ0EsV0FBTyxVQUFVLFVBQVUsU0FBUyxDQUFDO0FBQUEsRUFDekM7QUFBQSxFQUlBLFlBQVksTUFBYyxZQUFvQjtBQUMxQyxTQUFLLGFBQWE7QUFDbEIsU0FBSyxPQUFPO0FBQUEsRUFDaEI7QUFBQSxFQUNBLE1BQU0saUJBQWlCLEtBQW1DO0FBQUEsRUFBQztBQUFBLEVBQzNELE1BQU0saUJBQWlCLEtBQW9CLGNBQTZDO0FBQ3BGLFVBQU0sVUFBVSxJQUFJLFFBQVE7QUFDNUIsaUJBQWEsTUFBTTtBQUN6QixpQkFBYSxVQUFVLFlBQVk7QUFDekIsV0FBSyxVQUFVLE9BQU8sRUFBRSxXQUFXLEtBQUssTUFBTSxZQUFZO0FBQUEsSUFDcEU7QUFDQSxpQkFBYSxTQUFTLE9BQU8sRUFBRSxNQUFNLEtBQUssS0FBSyxDQUFFO0FBQ2pELGlCQUFhLFNBQVMsT0FBTyxFQUFFLE1BQU0sV0FBVyxLQUFLLEtBQUssQ0FBRTtBQUFBLEVBQzFEO0FBQUEsRUFDQSxNQUFNLEtBQUssS0FBbUM7QUFDMUMsVUFBTSxVQUFVLElBQUksUUFBUTtBQUM1QixZQUFRLFFBQVEsTUFBTTtBQUN0QixZQUFRLFFBQVEsWUFBWTtBQUU1QixVQUFNLGFBQWEsUUFBUSxRQUFRLFNBQVMsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLEtBQUssVUFBVSxPQUFPLEVBQUUsS0FBSyxDQUFFO0FBRTdHLGVBQVcsVUFBVSxZQUFZO0FBQzdCLFdBQUssVUFBVSxPQUFPLEVBQUUsS0FBSyxHQUFHO0FBQUEsSUFDcEM7QUFBQSxFQUNKO0FBQUEsRUFDQSxNQUFNLGtCQUFrQixLQUFvQixjQUE4QjtBQUN0RSxVQUFNLFVBQVUsSUFBSSxRQUFRO0FBQzVCLFlBQVEsY0FBYyxNQUFNO0FBQ2xDLFVBQU0sWUFBWSxRQUFRLGNBQWMsU0FBUyxTQUFTLEVBQUUsTUFBTSxRQUFRLE9BQU8sS0FBSyxLQUFLLENBQUU7QUFDN0YsWUFBUSxjQUFjLFNBQVMsT0FBTyxFQUFFLE1BQU0sV0FBVyxLQUFLLEtBQUssQ0FBRTtBQUUvRCxVQUFNLFFBQVEsSUFBSSxJQUFJO0FBQ3RCLFVBQU0sVUFBVSxJQUFJO0FBRXBCLGNBQVUsV0FBVyxZQUFZO0FBQzdCLFlBQU0sZUFBZSxLQUFLO0FBQzFCLFlBQU0sUUFBUSxNQUFNLGNBQWMsUUFBUSxnQkFBZ0IsZUFBZSxLQUFLO0FBQzlFLFlBQU0sV0FBVyxLQUFLO0FBQ3RCLFlBQU0sVUFBVSxLQUFLLEtBQUssTUFBTSxHQUFHLENBQUMsU0FBUyxNQUFNLElBQUksVUFBVTtBQUNqRSxVQUFJLFVBQVUsTUFBTTtBQUNoQixjQUFNLE9BQU8sT0FBTyxRQUFRLGdCQUFnQixVQUFVLEtBQUs7QUFBQSxNQUMvRDtBQUNBLFdBQUssT0FBTztBQUNaLFdBQUssaUJBQWlCLEtBQUssWUFBWTtBQUFBLElBQzNDO0FBQUEsRUFDSjtBQUFBLEVBQ0EsTUFBTSxLQUFLLEtBQW9CO0FBQzNCLFVBQU0sV0FBTywrQkFBYyxJQUFJLFFBQVEsZ0JBQWdCLEtBQUssT0FBTyxLQUFLO0FBQ3hFLFFBQUksSUFBSSxNQUFNLFFBQVEsTUFBTSxNQUFNLEtBQUssVUFBVSxLQUFLLElBQUksQ0FBQztBQUFBLEVBQy9EO0FBQ0o7OztBQ3ZFTyxJQUFNLGNBQU4sY0FBMEIsVUFBVTtBQUFBLEVBU3ZDLFlBQVksTUFBYyxZQUFvQjtBQUMxQyxVQUFNLE1BQU0sVUFBVTtBQVQxQixTQUFTLE9BQU87QUFVWixTQUFLLFFBQVEsQ0FBQztBQUFBLEVBQ2xCO0FBQUEsRUFQQSxJQUFhLE9BQW9CO0FBQzdCLFdBQU8sS0FBSztBQUFBLEVBQ2hCO0FBQUEsRUFPQSxNQUFlLEtBQUssS0FBbUM7QUFDbkQsVUFBTSxVQUFVLElBQUksUUFBUTtBQUM1QixVQUFNLEtBQUssR0FBRztBQUVkLFVBQU0sUUFBUSxJQUFJLElBQUk7QUFDdEIsVUFBTSxVQUFVLElBQUk7QUFDcEIsVUFBTSxZQUFZLFFBQVEsUUFBUSxVQUFVLE1BQU07QUFDbEQsVUFBTSxlQUFlLFVBQVUsU0FBUyxRQUFRO0FBQ2hELGFBQVMsSUFBSSxHQUFHLElBQUksaUJBQWlCLGlCQUFpQixRQUFRLEtBQUs7QUFDL0QsWUFBTSxXQUFXLGlCQUFpQixpQkFBaUIsQ0FBQztBQUNwRCxtQkFBYSxTQUFTLFVBQVUsRUFBRSxNQUFNLFVBQVUsT0FBTyxTQUFTLENBQUU7QUFBQSxJQUN4RTtBQUNBLGlCQUFhLFFBQVEsaUJBQWlCLGlCQUFpQixDQUFDO0FBQ3hELFVBQU0sWUFBWSxVQUFVLFNBQVMsU0FBUyxFQUFFLE1BQU0sUUFBUSxPQUFPLFVBQVUsQ0FBRTtBQUNqRixVQUFNLFlBQVksVUFBVSxTQUFTLFVBQVUsRUFBRSxNQUFNLElBQUksQ0FBRTtBQUM3RCxjQUFVLFVBQVUsWUFBWTtBQUM1QixZQUFNLGFBQWEsS0FBSyxRQUFRLEtBQUssS0FBSyxRQUFRLE1BQU0sTUFBTSxLQUFLLE9BQU8sVUFBVTtBQUNwRixZQUFNLFVBQVUsUUFBUSxnQkFBZ0I7QUFDeEMsWUFBTSxlQUFlLGlCQUFpQixpQkFBaUIsWUFBWSxLQUFLLE1BQU0sYUFBYSxLQUFLO0FBQ2hHLFVBQUksYUFBYSxVQUFVLG1CQUFZO0FBQ25DLGNBQU0sYUFBYSxPQUFPO0FBQUEsTUFDOUIsT0FBTztBQUNILGNBQU0sT0FBTyxVQUFVLE9BQU8sS0FBSyxVQUFVLFlBQVksQ0FBQztBQUFBLE1BQzlEO0FBQ0EsY0FBUSxNQUFNLEtBQUssWUFBWTtBQUMvQixXQUFLLE1BQU0sS0FBSyxZQUFZO0FBQzVCLFdBQUssS0FBSyxHQUFHO0FBQUEsSUFDakI7QUFDQSxTQUFLLG9CQUFvQjtBQUV6QixVQUFNLFlBQVksUUFBUSxRQUFRLFVBQVUsY0FBYztBQUMxRCxhQUFTLElBQUksR0FBRyxJQUFJLEtBQUssTUFBTSxRQUFRLEtBQUs7QUFDeEMsV0FBSyxNQUFNLENBQUMsRUFBRSxpQkFBaUIsS0FBSyxVQUFVLFVBQVUsb0NBQW9DLENBQUM7QUFBQSxJQUNqRztBQUFBLEVBQ0o7QUFBQSxFQUVBLFdBQVcsS0FBb0IsaUJBQTRCLGNBQThCO0FBQ3JGLFFBQUksS0FBSyxzQkFBc0IsVUFBYSxLQUFLLGtCQUFrQixDQUFDLE1BQU0sbUJBQW1CLEtBQUssa0JBQWtCLENBQUMsTUFBTSxjQUFjO0FBQ3JJLFdBQUssa0JBQWtCLENBQUMsRUFBRSxLQUFLLEdBQUc7QUFBQSxJQUN0QyxPQUFPO0FBQ0gsVUFBSSxLQUFLLHNCQUFzQixRQUFXO0FBQ3RDLGFBQUssa0JBQWtCLENBQUMsRUFBRSxZQUFZO0FBQUEsTUFDMUM7QUFDQSxXQUFLLG9CQUFvQixDQUFDLGlCQUFpQixZQUFZO0FBQ3ZELFdBQUssa0JBQWtCLENBQUMsRUFBRSxZQUFZO0FBQ3RDLFdBQUssa0JBQWtCLENBQUMsRUFBRSxrQkFBa0IsS0FBSyxZQUFZO0FBQUEsSUFDakU7QUFBQSxFQUNKO0FBQUEsRUFFQSxNQUFlLGtCQUFrQixLQUFvQixjQUE4QjtBQUMvRSxVQUFNLFVBQVUsSUFBSSxRQUFRO0FBQzVCLFlBQVEsY0FBYyxNQUFNO0FBQzVCLFVBQU0sWUFBWSxRQUFRLGNBQWMsU0FBUyxTQUFTLEVBQUUsTUFBTSxRQUFRLE9BQU8sS0FBSyxLQUFLLENBQUU7QUFDN0YsWUFBUSxjQUFjLFNBQVMsT0FBTyxFQUFFLE1BQU0sV0FBVyxLQUFLLEtBQUssQ0FBRTtBQUVyRSxVQUFNLFFBQVEsSUFBSSxJQUFJO0FBQ3RCLFVBQU0sVUFBVSxJQUFJO0FBRXBCLGNBQVUsV0FBVyxZQUFZO0FBQzdCLFlBQU0sZUFBZSxLQUFLO0FBQzFCLFlBQU0sUUFBUSxNQUFNLGdCQUFnQixRQUFRLGdCQUFnQixZQUFZO0FBQ3hFLFlBQU0sV0FBVyxLQUFLO0FBQ3RCLFlBQU0sVUFBVSxLQUFLLEtBQUssTUFBTSxHQUFHLENBQUMsU0FBUyxNQUFNLElBQUksVUFBVTtBQUNqRSxVQUFJLFVBQVUsTUFBTTtBQUNoQixjQUFNLE9BQU8sT0FBTyxRQUFRLGdCQUFnQixPQUFPO0FBQUEsTUFDdkQ7QUFDQSxXQUFLLE9BQU87QUFDWixZQUFNLGNBQXVDLENBQUM7QUFDOUMsWUFBTSxVQUFVO0FBQ2hCLFlBQU0sVUFBVTtBQUNoQixrQkFBWSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUIsVUFBSSxRQUFRO0FBRVosYUFBTyxZQUFZLENBQUMsRUFBRSxPQUFPLElBQUksS0FBSyxNQUFNLFFBQVE7QUFDaEQsY0FBTSxhQUFhLFlBQVksS0FBSztBQUNwQyxjQUFNLFlBQVksV0FBVyxPQUFPO0FBQ3BDLGNBQU0sV0FBVyxXQUFXLE9BQU8sRUFBRSxNQUFNLFNBQVM7QUFDcEQsaUJBQVMsT0FBTyxTQUFTLEtBQUssUUFBUSxhQUFhLFFBQVEsR0FBRyxPQUFPO0FBQ3JFLFlBQUksb0JBQW9CLGFBQWE7QUFDakMsc0JBQVksS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzlCO0FBQUEsUUFDSixPQUFPO0FBQ0gscUJBQVcsT0FBTztBQUFBLFFBQ3RCO0FBQ0EsWUFBSSxZQUFZLEtBQUssRUFBRSxPQUFPLEtBQUssWUFBWSxLQUFLLEVBQUUsT0FBTyxFQUFFLE1BQU0sUUFBUTtBQUN6RSxpQkFBTyxRQUFRLEtBQUssWUFBWSxLQUFLLEVBQUUsT0FBTyxLQUFLLFlBQVksS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLFFBQVE7QUFDekY7QUFDQSx3QkFBWSxJQUFJO0FBQ2hCLGdCQUFJLFNBQVMsR0FBRztBQUNaLDBCQUFZLEtBQUssRUFBRSxPQUFPO0FBQUEsWUFDOUI7QUFBQSxVQUNKO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFDQSxXQUFLLGlCQUFpQixLQUFLLFlBQVk7QUFBQSxJQUMzQztBQUFBLEVBQ0o7QUFDSjs7O0FDaEhBLElBQUFDLG1CQUE4QjtBQUV2QixJQUFlLFdBQWYsY0FBZ0MsVUFBVTtBQUFBLEVBTTdDLFlBQVksTUFBYyxZQUFvQjtBQUMxQyxVQUFNLE1BQU0sVUFBVTtBQUN0QixTQUFLLE1BQU07QUFBQSxFQUNmO0FBQUEsRUFQQSxJQUFhLE9BQWU7QUFDeEIsV0FBTyxLQUFLO0FBQUEsRUFDaEI7QUFBQSxFQU1BLE1BQWUsS0FBSyxLQUFtQztBQUNuRCxVQUFNLFVBQVUsSUFBSSxRQUFRO0FBQzVCLFVBQU0sS0FBSyxHQUFHO0FBQ2QsU0FBSyxrQkFBa0IsUUFBUSxPQUFPO0FBQUEsRUFDMUM7QUFBQSxFQUNBLE1BQWUsaUJBQWlCLEtBQW1DO0FBQy9ELFFBQUk7QUFDQSxZQUFNLE1BQU0sSUFBSTtBQUNoQixZQUFNLFFBQVEsSUFBSTtBQUNsQixZQUFNLFVBQVUsSUFBSTtBQUNwQixZQUFNLG1CQUFtQixRQUFRLGdCQUFnQixLQUFLLE9BQU87QUFDN0QsWUFBTSxRQUFRLE1BQU0sY0FBYyxnQkFBZ0I7QUFDbEQsVUFBSSxVQUFVLE1BQU07QUFDaEIsY0FBTSxJQUFJLE1BQU0sRUFBRTtBQUFBLE1BQ3RCO0FBQ0EsWUFBTSxjQUFjLE1BQU0sTUFBTSxXQUFXLEtBQUs7QUFDaEQsWUFBTSxPQUFPLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQztBQUNuQyxXQUFLLE1BQU0sSUFBSSxnQkFBZ0IsSUFBSTtBQUFBLElBQ3ZDLFNBQVEsR0FBTjtBQUFBLElBRUY7QUFBQSxFQUNKO0FBQUEsRUFDQSxNQUFlLGtCQUFrQixLQUFvQixjQUE2QztBQUM5RixVQUFNLFVBQVUsSUFBSSxRQUFRO0FBQzVCLFlBQVEsY0FBYyxNQUFNO0FBQ2xDLFVBQU0sWUFBWSxRQUFRLGNBQWMsU0FBUyxTQUFTLEVBQUUsTUFBTSxRQUFRLE9BQU8sS0FBSyxLQUFLLENBQUU7QUFDN0YsWUFBUSxjQUFjLFNBQVMsT0FBTyxFQUFFLE1BQU0sV0FBVyxLQUFLLEtBQUssQ0FBRTtBQUNyRSxVQUFNLGNBQWMsUUFBUSxjQUFjLFVBQVU7QUFDOUMsU0FBSyxrQkFBa0IsV0FBVztBQUN4QyxVQUFNLFlBQVksUUFBUSxjQUFjLFNBQVMsU0FBUyxFQUFFLE1BQU0sT0FBTyxDQUFFO0FBRXJFLFVBQU0sUUFBUSxJQUFJLElBQUk7QUFDdEIsVUFBTSxVQUFVLElBQUk7QUFFcEIsY0FBVSxXQUFXLFlBQVk7QUFDN0IsWUFBTSxlQUFlLEtBQUs7QUFDMUIsWUFBTSxTQUFTLE1BQU0sY0FBYyxRQUFRLGdCQUFnQixlQUFlLEtBQUs7QUFDL0UsWUFBTSxTQUFTLE1BQU0sY0FBYyxRQUFRLGdCQUFnQixlQUFlLGNBQWM7QUFDeEYsWUFBTSxXQUFXLEtBQUs7QUFDdEIsWUFBTSxVQUFVLEtBQUssS0FBSyxNQUFNLEdBQUcsQ0FBQyxTQUFTLE1BQU0sSUFBSSxVQUFVO0FBQ2pFLFVBQUksV0FBVyxNQUFNO0FBQ2pCLGNBQU0sT0FBTyxRQUFRLFFBQVEsZ0JBQWdCLFVBQVUsS0FBSztBQUFBLE1BQ2hFO0FBQ0EsVUFBSSxXQUFXLE1BQU07QUFDakIsY0FBTSxPQUFPLFFBQVEsUUFBUSxnQkFBZ0IsVUFBVSxjQUFjO0FBQUEsTUFDekU7QUFDQSxXQUFLLE9BQU87QUFDWixXQUFLLGlCQUFpQixLQUFLLFlBQVk7QUFBQSxJQUMzQztBQUNBLGNBQVUsV0FBVyxZQUFZO0FBQzdCLFlBQU0sWUFBWSxVQUFVO0FBQzVCLFVBQUksY0FBYyxNQUFNO0FBQ3BCLGNBQU0sY0FBYyxNQUFNLFVBQVUsQ0FBQyxFQUFFLFlBQVk7QUFDbkQsY0FBTSxPQUFPLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQztBQUNuQyxhQUFLLE1BQU0sSUFBSSxnQkFBZ0IsSUFBSTtBQUNuQyxjQUFNLG1CQUFlLGdDQUFjLElBQUksUUFBUSxnQkFBZ0IsS0FBSyxPQUFPLEtBQUs7QUFDaEYsY0FBTSx1QkFBbUIsZ0NBQWMsSUFBSSxRQUFRLGdCQUFnQixLQUFLLE9BQU8sY0FBYztBQUM3RixjQUFNLElBQUksSUFBSSxNQUFNLFFBQVEsTUFBTSxjQUFjLEtBQUssVUFBVSxJQUFJLENBQUM7QUFDcEUsY0FBTSxJQUFJLElBQUksTUFBTSxRQUFRLFlBQVksa0JBQWtCLFdBQVc7QUFBQSxNQUN6RTtBQUNBLGtCQUFZLE1BQU07QUFDbEIsV0FBSyxrQkFBa0IsV0FBVztBQUFBLElBQ3RDO0FBQUEsRUFDSjtBQUFBLEVBRUEsTUFBTSxLQUFLLEtBQW1DO0FBQzFDLFVBQU0sTUFBTSxLQUFLLEdBQUc7QUFDcEIsUUFBSTtBQUNBLFlBQU0sV0FBVyxNQUFNLE1BQU0sS0FBSyxJQUFJO0FBQ3RDLFlBQU0sY0FBYyxNQUFNLFNBQVMsWUFBWTtBQUMvQyxZQUFNLHVCQUFtQixnQ0FBYyxJQUFJLFFBQVEsZ0JBQWdCLEtBQUssT0FBTyxjQUFjO0FBQzdGLFlBQU0sSUFBSSxJQUFJLE1BQU0sUUFBUSxZQUFZLGtCQUFrQixXQUFXO0FBQUEsSUFDekUsU0FBUSxHQUFOO0FBQ0UsY0FBUSxJQUFJLHNCQUFzQixLQUFLLEtBQUssUUFBUSxJQUFJLG9CQUFvQjtBQUFBLElBQ2hGO0FBQUEsRUFDSjtBQUNKO0FBRU8sSUFBTSxZQUFOLGNBQXdCLFNBQVM7QUFBQSxFQUFqQztBQUFBO0FBQ0gsU0FBUyxPQUFPO0FBQUE7QUFBQSxFQUNoQixNQUFlLGtCQUFrQixLQUFnRDtBQUM3RSxVQUFNLE1BQU0sSUFBSSxTQUFTLEtBQUs7QUFDOUIsUUFBSSxNQUFNLFlBQVk7QUFDdEIsUUFBSSxNQUFNLEtBQUs7QUFDZixXQUFPO0FBQUEsRUFDWDtBQUNKO0FBRU8sSUFBTSxZQUFOLGNBQXdCLFNBQVM7QUFBQSxFQUFqQztBQUFBO0FBQ0gsU0FBUyxPQUFPO0FBQUE7QUFBQSxFQUNoQixNQUFlLGtCQUFrQixLQUFnRDtBQUM3RSxVQUFNLEtBQUssSUFBSSxTQUFTLE9BQU87QUFDL0IsT0FBRyxNQUFNLEtBQUs7QUFDZCxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBRU8sSUFBTSxZQUFOLGNBQXdCLFNBQVM7QUFBQSxFQUFqQztBQUFBO0FBQ0gsU0FBUyxPQUFPO0FBQUE7QUFBQSxFQUNoQixNQUFlLGtCQUFrQixLQUFnRDtBQUM3RSxVQUFNLE1BQU0sSUFBSSxTQUFTLE9BQU87QUFDaEMsUUFBSSxNQUFNLFlBQVk7QUFDdEIsUUFBSSxNQUFNLEtBQUs7QUFDZixXQUFPO0FBQUEsRUFDWDtBQUNKOzs7QUpqSE8sSUFBTSxtQkFBTixjQUErQixJQUFJO0FBQUEsRUF1RHRDLFlBQVksS0FBb0I7QUFDNUIsVUFBTSxHQUFHO0FBQ1QsU0FBSyxRQUFRLENBQUM7QUFBQSxFQUNsQjtBQUFBLEVBbkRBLElBQUksYUFBMEI7QUFDMUIsVUFBTSxTQUFTLENBQUM7QUFDaEIsYUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLE1BQU0sUUFBUSxLQUFLO0FBQ3hDLFVBQUksS0FBSyxNQUFNLENBQUMsYUFBYSxXQUFXO0FBQ3BDLGVBQU8sS0FBaUIsS0FBSyxNQUFNLENBQUMsQ0FBQztBQUFBLE1BQ3pDO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFFQSxJQUFJLGFBQTBCO0FBQzFCLFVBQU0sU0FBUyxDQUFDO0FBQ2hCLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxNQUFNLFFBQVEsS0FBSztBQUN4QyxVQUFJLEtBQUssTUFBTSxDQUFDLGFBQWEsV0FBVztBQUNwQyxlQUFPLEtBQWlCLEtBQUssTUFBTSxDQUFDLENBQUM7QUFBQSxNQUN6QztBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBRUEsSUFBSSxhQUEwQjtBQUMxQixVQUFNLFNBQVMsQ0FBQztBQUNoQixhQUFTLElBQUksR0FBRyxJQUFJLEtBQUssTUFBTSxRQUFRLEtBQUs7QUFDeEMsVUFBSSxLQUFLLE1BQU0sQ0FBQyxhQUFhLFdBQVc7QUFDcEMsZUFBTyxLQUFpQixLQUFLLE1BQU0sQ0FBQyxDQUFDO0FBQUEsTUFDekM7QUFBQSxJQUNKO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUVBLFFBQVEsTUFBYztBQUNsQixhQUFTLElBQUksR0FBRyxJQUFJLEtBQUssTUFBTSxRQUFRLEtBQUs7QUFDeEMsVUFBSSxLQUFLLE1BQU0sQ0FBQyxFQUFFLFNBQVMsTUFBTTtBQUM3QixlQUFPLEtBQUssTUFBTSxDQUFDO0FBQUEsTUFDdkI7QUFBQSxJQUNKO0FBQ0EsVUFBTSxJQUFJLE1BQU0sVUFBVSxPQUFPLFlBQVk7QUFBQSxFQUNqRDtBQUFBLEVBRUEsdUJBQXVCLE1BQWM7QUFDakMsYUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLE1BQU0sUUFBUSxLQUFLO0FBQ3hDLFVBQUksS0FBSyxNQUFNLENBQUMsRUFBRSxLQUFLLFFBQVEsTUFBTSxNQUFNO0FBQ3ZDLGVBQU8sS0FBSyxNQUFNLENBQUM7QUFBQSxNQUN2QjtBQUFBLElBQ0o7QUFDQSxVQUFNLElBQUksTUFBTSxVQUFVLE9BQU8sWUFBWTtBQUFBLEVBQ2pEO0FBQUEsRUFjUSx5QkFBeUIsVUFBZSxNQUFjLFlBQStCO0FBQ3pGLGFBQVMsT0FBTztBQUNoQixhQUFTLGFBQWE7QUFDdEIsWUFBTyxTQUFTLE1BQU07QUFBQSxNQUNsQixLQUFLO0FBQUEsTUFDTDtBQUNJLGVBQU8sT0FBTyxPQUFPLElBQUksWUFBWSxNQUFNLFVBQVUsR0FBRyxRQUFRO0FBQUEsTUFDcEUsS0FBSztBQUNELGVBQU8sT0FBTyxPQUFPLElBQUksVUFBVSxNQUFNLFVBQVUsR0FBRyxRQUFRO0FBQUEsTUFDbEUsS0FBSztBQUNELGVBQU8sT0FBTyxPQUFPLElBQUksVUFBVSxNQUFNLFVBQVUsR0FBRyxRQUFRO0FBQUEsTUFDbEUsS0FBSztBQUNELGVBQU8sT0FBTyxPQUFPLElBQUksVUFBVSxNQUFNLFVBQVUsR0FBRyxRQUFRO0FBQUEsSUFDdEU7QUFBQSxFQUNKO0FBQUEsRUFFQSxPQUFPLGlCQUFpQixNQUFjLFlBQW9CLE1BQXlCO0FBQy9FLFlBQU8sTUFBTTtBQUFBLE1BQ1QsS0FBSztBQUFBLE1BQ0w7QUFDSSxlQUFPLElBQUksWUFBWSxNQUFNLFVBQVU7QUFBQSxNQUMzQyxLQUFLO0FBQ0QsZUFBTyxJQUFJLFVBQVUsTUFBTSxVQUFVO0FBQUEsTUFDekMsS0FBSztBQUNELGVBQU8sSUFBSSxVQUFVLE1BQU0sVUFBVTtBQUFBLE1BQ3pDLEtBQUs7QUFDRCxlQUFPLElBQUksVUFBVSxNQUFNLFVBQVU7QUFBQSxJQUM3QztBQUFBLEVBQ0o7QUFBQSxFQUVBLE1BQU0sVUFBVSxLQUFvQjtBQUNoQyxTQUFLLFFBQVEsQ0FBQztBQUNkLFVBQU0sTUFBTSxJQUFJO0FBQ2hCLFVBQU0sUUFBUSxJQUFJO0FBQ2xCLFVBQU0sVUFBVSxJQUFJO0FBRXBCLFVBQU0sZ0JBQWdCLE1BQU0sZ0JBQWdCLFFBQVEsYUFBYTtBQUNqRSxRQUFJLGtCQUFrQixNQUFNO0FBQ3hCLFlBQU0sSUFBSSxNQUFNLCtCQUErQjtBQUFBLElBQ25EO0FBRUEsVUFBTSxjQUFnRCxDQUFDO0FBQ3ZELFVBQU0sVUFBVTtBQUNoQixVQUFNLFVBQVU7QUFDaEIsVUFBTSxVQUFVO0FBRWhCLFVBQU0sV0FBVyxJQUFJLE9BQU8sR0FBRztBQUMvQixVQUFNLE9BQU8sSUFBSSxZQUFZLFVBQVUsUUFBUTtBQUMvQyxnQkFBWSxLQUFLLENBQUMsZUFBZSxNQUFNLENBQUMsQ0FBQztBQUN6QyxTQUFLLE1BQU0sS0FBSyxJQUFJO0FBQ3BCLFFBQUksUUFBUTtBQUVaLFdBQU8sWUFBWSxDQUFDLEVBQUUsT0FBTyxJQUFJLGNBQWMsU0FBUyxRQUFRO0FBQzVELFlBQU0sYUFBYSxZQUFZLEtBQUs7QUFDcEMsWUFBTSxZQUFZLFdBQVcsT0FBTztBQUNwQyxZQUFNLFdBQVcsV0FBVyxPQUFPLEVBQUUsU0FBUyxTQUFTO0FBQ3ZELFlBQU0sZUFBZSxTQUFTLEtBQUssUUFBUSxRQUFRLGVBQWUsRUFBRTtBQUNwRSxVQUFJLFNBQVMsU0FBUyxpQ0FBaUM7QUFDbkQsWUFBSSxvQkFBb0IsMEJBQVM7QUFDN0IsZ0JBQU0saUJBQWlCLElBQUksWUFBWSxjQUFjLFdBQVcsT0FBTyxFQUFFLElBQUk7QUFDN0UsZUFBSyxNQUFNLEtBQUssY0FBYztBQUM5QixxQkFBVyxPQUFPLEVBQUUsTUFBTSxLQUFLLGNBQWM7QUFDN0Msc0JBQVksS0FBSyxDQUFDLFVBQVUsZ0JBQWdCLENBQUMsQ0FBQztBQUM5QztBQUFBLFFBQ0osV0FBVyxvQkFBb0Isd0JBQU87QUFDbEMsY0FBSSxTQUFTLGNBQWMsTUFBTTtBQUM3QixrQkFBTSxPQUFPLE1BQU0sTUFBTSxXQUFtQixRQUFRO0FBQ3BELGtCQUFNLFdBQVcsS0FBSyxNQUFNLElBQUk7QUFDaEMsa0JBQU0sVUFBVSxLQUFLLHlCQUF5QixVQUFVLGFBQWEsTUFBTSxHQUFHLEVBQUUsR0FBRyxXQUFXLE9BQU8sRUFBRSxJQUFJO0FBQzNHLHVCQUFXLE9BQU8sRUFBRSxNQUFNLEtBQUssT0FBTztBQUN0QyxpQkFBSyxNQUFNLEtBQUssT0FBTztBQUFBLFVBQzNCO0FBQ0EscUJBQVcsT0FBTztBQUFBLFFBQ3RCO0FBQUEsTUFDSixPQUFPO0FBQ0gsbUJBQVcsT0FBTztBQUFBLE1BQ3RCO0FBQ0EsVUFBSSxZQUFZLEtBQUssRUFBRSxPQUFPLEtBQUssWUFBWSxLQUFLLEVBQUUsT0FBTyxFQUFFLFNBQVMsUUFBUTtBQUM1RSxlQUFPLFFBQVEsS0FBSyxZQUFZLEtBQUssRUFBRSxPQUFPLEtBQUssWUFBWSxLQUFLLEVBQUUsT0FBTyxFQUFFLFNBQVMsUUFBUTtBQUM1RjtBQUNBLHNCQUFZLElBQUk7QUFDaEIsY0FBSSxTQUFTLEdBQUc7QUFDWix3QkFBWSxLQUFLLEVBQUUsT0FBTztBQUFBLFVBQzlCO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUFBLEVBRUEsTUFBZSxNQUFNLEtBQW9DO0FBQ3JELFFBQUksTUFBTTtBQUNWLFNBQUssVUFBVTtBQUNmLFNBQUssUUFBUSxZQUFZO0FBQ3pCLFNBQUssVUFBVSxJQUFJLFVBQVUsTUFBTTtBQUNuQyxTQUFLLGdCQUFnQixJQUFJLFVBQVUsTUFBTTtBQUN6QyxTQUFLLFFBQVEsTUFBTSxRQUFRO0FBQzNCLFNBQUssY0FBYyxNQUFNLFFBQVE7QUFDakMsU0FBSyxNQUFNLENBQUMsRUFBRSxLQUFLLEtBQUssR0FBRztBQUFBLEVBQy9CO0FBQUEsRUFFUyxRQUFRLEtBQTJDO0FBQ3hELFFBQUksTUFBTTtBQUFBLEVBQ2Q7QUFDSjtBQTFLYSxpQkFDTyxPQUFPO0FBRGQsaUJBNERGLG1CQUFtQjtBQUFBLEVBQ3RCO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0o7OztBS3ZFRyxJQUFNLGFBQWE7QUFDbkIsSUFBTSxhQUFhO0FBQ25CLElBQU0saUJBQWlCO0FBQ3ZCLElBQU0saUJBQWlCO0FBQ3ZCLElBQU0saUJBQWlCO0FBQ3ZCLElBQU0sa0JBQWtCO0FBQ3hCLElBQU0sa0JBQWtCO0FBQ3hCLElBQU0sa0JBQWtCOzs7QUNMeEIsSUFBSyxLQUFMLGtCQUFLQyxRQUFMO0FBQ0gsRUFBQUEsUUFBQTtBQUNBLEVBQUFBLFFBQUE7QUFDQSxFQUFBQSxRQUFBO0FBQ0EsRUFBQUEsUUFBQTtBQUpRLFNBQUFBO0FBQUEsR0FBQTtBQU9MLElBQU0sWUFBTixNQUFnQjtBQUFBLEVBQ25CLE9BQU8sS0FBSyxLQUFlO0FBQ3ZCLFFBQUk7QUFDSixZQUFPLElBQUksTUFBTTtBQUFBLE1BQ2IsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUFBLE1BQ0w7QUFDSSxpQkFBUyxJQUFJLFVBQVUsSUFBSSxPQUFPLElBQUksSUFBSTtBQUMxQztBQUFBLE1BQ0osS0FBSztBQUNELGlCQUFTLElBQUksU0FBUyxJQUFJLE9BQU8sSUFBSSxJQUFJO0FBQ3pDO0FBQUEsTUFDSixLQUFLO0FBQ0QsaUJBQVMsSUFBSSxTQUFTLElBQUksT0FBTyxJQUFJLElBQUk7QUFDekM7QUFBQSxJQUNSO0FBQ0EsV0FBTyxRQUFRLElBQUk7QUFDbkIsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLE9BQU8sUUFBUSxNQUFVLE9BQWMsTUFBbUI7QUFDdEQsWUFBTyxNQUFNO0FBQUEsTUFDVCxLQUFLO0FBQUEsTUFDTCxLQUFLO0FBQUEsTUFDTDtBQUNJLGVBQU8sSUFBSSxVQUFVLE9BQU8sSUFBSTtBQUFBLE1BQ3BDLEtBQUs7QUFDRCxlQUFPLElBQUksU0FBUyxPQUFPLElBQUk7QUFBQSxNQUNuQyxLQUFLO0FBQ0QsZUFBTyxJQUFJLFNBQVMsT0FBTyxJQUFJO0FBQUEsSUFDdkM7QUFBQSxFQUNKO0FBQUEsRUFDQSxPQUFPLFNBQVMsUUFBYSxjQUE4QixRQUE0QixRQUFpQjtBQUNwRyxZQUFPLE9BQU8sTUFBTTtBQUFBLE1BQ2hCLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMO0FBQ0ksZUFBTyxJQUFJLFdBQVcsUUFBUSxjQUFjLEtBQUs7QUFBQSxNQUNyRCxLQUFLO0FBQ0QsZUFBTyxJQUFJLFVBQVUsUUFBUSxjQUFjLEtBQUs7QUFBQSxNQUNwRCxLQUFLO0FBQ0QsZUFBTyxJQUFJLFVBQVUsUUFBUSxjQUFjLEtBQUs7QUFBQSxJQUN4RDtBQUFBLEVBQ0o7QUFDSjtBQUVPLElBQWUsTUFBZixNQUFtQjtBQUFBLEVBS3RCLFlBQVksT0FBYyxPQUFPLElBQUk7QUFDakMsU0FBSyxPQUFPO0FBQ1osU0FBSyxRQUFRO0FBQUEsRUFDakI7QUFDSjtBQUVPLElBQWUsT0FBZixNQUFvQjtBQUFBLEVBRXZCLE9BQU8saUJBQWlCLE9BQTZDLEtBQXFCO0FBQ3RGLFVBQU0sU0FBUyxJQUFJLFNBQVMsT0FBTyxFQUFFLE1BQU0sTUFBTSxNQUFNLENBQUU7QUFDekQsV0FBTyxNQUFNLFdBQVc7QUFDeEIsV0FBTyxNQUFNLGFBQWE7QUFDMUIsV0FBTyxNQUFNLGFBQWE7QUFDMUIsV0FBTyxNQUFNLE9BQU87QUFDcEIsV0FBTyxNQUFNLFVBQVUsaUJBQWlCLG1CQUFtQixRQUFRO0FBQ25FLFVBQU0sTUFBTSxRQUFRLE9BQU8sc0JBQXNCLEVBQUUsUUFBUTtBQUMzRCxXQUFPLE9BQU87QUFBQSxFQUNsQjtBQUNKO0FBR08sSUFBTSxZQUFOLGNBQXdCLElBQUk7QUFBQSxFQUcvQixZQUFZLE9BQWMsT0FBTyxJQUFJO0FBQ2pDLFVBQU0sT0FBTyxJQUFJO0FBSHJCLGdCQUFPO0FBSUgsU0FBSyxRQUFRO0FBQUEsRUFDakI7QUFDSjtBQUVPLElBQU0sYUFBTixjQUF5QixLQUFLO0FBQUEsRUFFakMsWUFBWSxVQUFxQixLQUFxQixRQUE0QixRQUFXO0FBQ3pGLFVBQU07QUFDTixTQUFLLFdBQVc7QUFDaEIsVUFBTSxRQUFRLElBQUksU0FBUyxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUU7QUFDekQsVUFBTSxVQUFVLEtBQUssU0FBUztBQUM5QixVQUFNLE1BQU0sa0JBQWtCLFVBQVUsU0FBWSxrQkFBa0I7QUFDdEUsVUFBTSxVQUFVLE1BQU07QUFDbEIsV0FBSyxTQUFTLFFBQVEsTUFBTTtBQUM1QixZQUFNLE1BQU0sa0JBQWtCLE1BQU0sVUFBVSxrQkFBa0I7QUFBQSxJQUNwRTtBQUFBLEVBQ0o7QUFDSjtBQUlPLElBQU0sV0FBTixjQUF1QixJQUFJO0FBQUEsRUFHOUIsWUFBWSxPQUFjLE9BQU8sSUFBSTtBQUNqQyxVQUFNLE9BQU8sSUFBSTtBQUhyQixnQkFBTztBQUlILFNBQUssUUFBUTtBQUFBLEVBQ2pCO0FBQ0o7QUFFTyxJQUFNLFlBQU4sY0FBd0IsS0FBSztBQUFBLEVBRWhDLFlBQVksVUFBb0IsS0FBcUIsUUFBNEIsUUFBVztBQUN4RixVQUFNO0FBQ04sU0FBSyxXQUFXO0FBQ2hCLFVBQU0sUUFBUSxJQUFJLFNBQVMsU0FBUyxFQUFFLE1BQU0sUUFBUSxPQUFPLEtBQUssU0FBUyxRQUFRLEdBQUcsQ0FBRTtBQUN0RixTQUFLLGlCQUFpQixPQUFPLEdBQUc7QUFDaEMsVUFBTSxNQUFNLGtCQUFrQixVQUFVLFNBQVksa0JBQWtCO0FBQ3RFLFVBQU0sVUFBVSxNQUFNO0FBQ2xCLFdBQUssaUJBQWlCLE9BQU8sR0FBRztBQUFBLElBQ3BDO0FBQ0EsVUFBTSxXQUFXLE1BQU07QUFDbkIsV0FBSyxTQUFTLFFBQVEsV0FBVyxNQUFNLEtBQUs7QUFBQSxJQUNoRDtBQUFBLEVBQ0o7QUFDSjtBQUlPLElBQU0sV0FBTixjQUF1QixJQUFJO0FBQUEsRUFHOUIsWUFBWSxPQUFjLE9BQU8sSUFBSTtBQUNqQyxVQUFNLE9BQU8sSUFBSTtBQUhyQixnQkFBTztBQUlILFNBQUssUUFBUTtBQUFBLEVBQ2pCO0FBQ0o7QUFFTyxJQUFNLFlBQU4sY0FBd0IsS0FBSztBQUFBLEVBRWhDLFlBQVksVUFBb0IsS0FBcUIsUUFBNEIsUUFBVztBQUN4RixVQUFNO0FBQ04sU0FBSyxXQUFXO0FBQ2hCLFVBQU0sUUFBUSxJQUFJLFNBQVMsU0FBUyxFQUFFLE1BQU0sUUFBUSxPQUFPLEtBQUssU0FBUyxRQUFRLEdBQUcsQ0FBRTtBQUN0RixTQUFLLGlCQUFpQixPQUFPLEdBQUc7QUFDaEMsVUFBTSxNQUFNLGtCQUFrQixVQUFVLFNBQVksa0JBQWtCO0FBQ3RFLFVBQU0sVUFBVSxNQUFNO0FBQ2xCLFdBQUssaUJBQWlCLE9BQU8sR0FBRztBQUFBLElBQ3BDO0FBQ0EsVUFBTSxXQUFXLE1BQU07QUFDbkIsV0FBSyxTQUFTLFFBQVEsTUFBTTtBQUFBLElBQ2hDO0FBQUEsRUFDSjtBQUNKOzs7QUN6Sk8sSUFBTSxxQkFBTixNQUF5QjtBQUFBLEVBQzVCLE9BQU8sWUFBWSxLQUFrQyxNQUFjO0FBQy9ELGFBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxVQUFVLFFBQVEsS0FBSztBQUMzQyxVQUFJLElBQUksVUFBVSxDQUFDLEVBQUUsU0FBUyxNQUFNO0FBQ2hDLGVBQU8sSUFBSSxVQUFVLENBQUM7QUFBQSxNQUMxQjtBQUFBLElBQ0o7QUFDQSxVQUFNLElBQUksTUFBTSxjQUFjLE9BQU8sMEJBQTBCLElBQUksWUFBWSxPQUFPLElBQUksSUFBSTtBQUFBLEVBQ2xHO0FBQUEsRUFDQSxPQUFPLFNBQVMsS0FBa0IsS0FBb0IsY0FBNkM7QUFDL0YsV0FBTyxJQUFJLGNBQWMsS0FBSyxLQUFLLFlBQVk7QUFBQSxFQUNuRDtBQUFBLEVBQ0EsT0FBTyxTQUFTLEtBQWtCLEtBQW9CLFFBQXVDO0FBQ3pGLFdBQU8sSUFBSSxjQUFjLEtBQUssS0FBSyxNQUFNO0FBQUEsRUFDN0M7QUFDSjtBQUVPLElBQU0sY0FBTixNQUFrQjtBQUFBLEVBTXJCLFlBQVksSUFBWTtBQUNwQixTQUFLLFlBQVk7QUFDakIsU0FBSyxPQUFPO0FBQ1osU0FBSyxZQUFZLENBQUM7QUFDbEIsU0FBSyxVQUFVLENBQUM7QUFDaEIsU0FBSyxhQUFhLENBQUM7QUFDbkIsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsYUFBYSxDQUFDO0FBQzdFLFNBQUssVUFBVSxLQUFLLFVBQVUsd0NBQWlDLGNBQWMsQ0FBQztBQUM5RSxTQUFLLFVBQVUsS0FBSyxVQUFVLHdDQUFpQyxlQUFlLENBQUM7QUFDL0UsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsR0FBRyxDQUFDO0FBQ25FLFNBQUssVUFBVSxLQUFLLFVBQVUsd0NBQWlDLEdBQUcsQ0FBQztBQUNuRSxTQUFLLFVBQVUsS0FBSyxVQUFVLHdDQUFpQyxHQUFHLENBQUM7QUFDbkUsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsU0FBUyxDQUFDO0FBQ3pFLFNBQUssVUFBVSxLQUFLLFVBQVUsd0NBQWlDLFNBQVMsQ0FBQztBQUN6RSxTQUFLLFVBQVUsS0FBSyxVQUFVLHdDQUFpQyxTQUFTLENBQUM7QUFDekUsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsZ0JBQWdCLENBQUM7QUFDaEYsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsZ0JBQWdCLENBQUM7QUFDaEYsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsZ0JBQWdCLENBQUM7QUFDaEYsU0FBSyxVQUFVLEtBQUssVUFBVSx5Q0FBa0MsdUJBQXVCLENBQUM7QUFDeEYsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsMEJBQTBCLENBQUM7QUFDMUYsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsb0JBQW9CLENBQUM7QUFDcEYsU0FBSyxVQUFVLEtBQUssVUFBVSx3Q0FBaUMsdUJBQXVCLENBQUM7QUFFdkYsU0FBSyxVQUFVLENBQUMsRUFBRSxRQUFRO0FBQzFCLFNBQUssVUFBVSxDQUFDLEVBQUUsUUFBUTtBQUFBLEVBQzlCO0FBQ0o7QUFFTyxJQUFNLGdCQUFOLE1BQW9CO0FBQUEsRUFJdkIsWUFBWSxVQUF1QixLQUFvQixLQUFxQjtBQUN4RSxTQUFLLFdBQVc7QUFDaEIsU0FBSyxNQUFNO0FBQ1gsUUFBSSxNQUFNO0FBQ1YsVUFBTSxVQUFVLElBQUksVUFBVSw4QkFBOEI7QUFDNUQsWUFBUSxTQUFTLE9BQU8sRUFBRSxNQUFNLEtBQUssU0FBUyxZQUFZLElBQUksQ0FBRTtBQUNoRSxVQUFNLFlBQVksUUFBUSxTQUFTLFNBQVMsRUFBRSxNQUFNLFFBQVEsT0FBTyxLQUFLLFNBQVMsS0FBSyxDQUFFO0FBQ3hGLFVBQU0sb0JBQW9CLFFBQVEsU0FBUyxVQUFVLEVBQUUsTUFBTSx3QkFBaUIsQ0FBRTtBQUNoRixzQkFBa0IsWUFBWTtBQUM5QixjQUFVLFdBQVcsTUFBTTtBQUN2QixXQUFLLFNBQVMsT0FBTyxVQUFVO0FBQUEsSUFDbkM7QUFDQSxzQkFBa0IsVUFBVSxNQUFNO0FBQzlCLFVBQUksUUFBUSxhQUFhLGdCQUFnQixLQUFLO0FBQzlDLFVBQUksUUFBUSxZQUFZLElBQUksUUFBUSxpQkFBaUI7QUFBQSxJQUN6RDtBQUNBLFVBQU0sZUFBZSxJQUFJLFVBQVUsb0NBQW9DO0FBQ3ZFLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxTQUFTLFVBQVUsUUFBUSxLQUFLO0FBQ3JELFlBQU0sTUFBTSxLQUFLLFNBQVMsVUFBVSxDQUFDO0FBQ3JDLFlBQU0sU0FBUyxhQUFhLFVBQVUsK0JBQStCO0FBQ3JFLGFBQU8sU0FBUyxPQUFPLEVBQUUsTUFBTSxJQUFJLEtBQUssQ0FBRTtBQUMxQyxnQkFBVSxTQUFTLEtBQUssT0FBTyxVQUFVLENBQUM7QUFBQSxJQUM5QztBQUNBLFVBQU0sWUFBWSxJQUFJLFVBQVUsOEJBQThCO0FBRTlELFVBQU0sb0JBQW9CLFVBQVUsU0FBUyxTQUFTLEVBQUUsTUFBTSxRQUFRLE9BQU8sVUFBVSxDQUFFO0FBQ3pGLFVBQU0sb0JBQW9CLFVBQVUsU0FBUyxRQUFRO0FBQ3JELFVBQU0sb0JBQW9CLFVBQVUsU0FBUyxVQUFVLEVBQUUsTUFBTSxJQUFJLENBQUU7QUFFckUsc0JBQWtCLFlBQVk7QUFFOUIsYUFBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUs7QUFDeEIsWUFBTSxPQUFPLEdBQUcsQ0FBQztBQUNqQix3QkFBa0IsU0FBUyxVQUFVLEVBQUUsTUFBTSxNQUFNLE9BQU8sSUFBSSxHQUFHLENBQUU7QUFBQSxJQUN2RTtBQUNBLHNCQUFrQixRQUFRO0FBRTFCLHNCQUFrQixVQUFVLE1BQU07QUFDOUIsWUFBTSxPQUFPLGtCQUFrQjtBQUMvQixlQUFTLElBQUksR0FBRyxJQUFJLEtBQUssU0FBUyxVQUFVLFFBQVEsS0FBSztBQUNyRCxZQUFJLEtBQUssU0FBUyxVQUFVLENBQUMsRUFBRSxTQUFTLE1BQU07QUFDMUM7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUNBLFlBQU0sU0FBUyxVQUFVLFFBQVEsU0FBUyxrQkFBa0IsS0FBSyxtQkFBaUIsSUFBSTtBQUN0RixXQUFLLFNBQVMsVUFBVSxLQUFLLE1BQU07QUFDbkMsWUFBTSxZQUFZLGFBQWEsVUFBVSwrQkFBK0I7QUFDeEUsZ0JBQVUsU0FBUyxPQUFPLEVBQUUsTUFBTSxPQUFPLEtBQUssQ0FBRTtBQUNoRCxnQkFBVSxTQUFTLFFBQVEsU0FBUztBQUFBLElBQ3hDO0FBQUEsRUFDSjtBQUNKO0FBQ08sSUFBTSxnQkFBTixNQUFvQjtBQUFBLEVBU3ZCLFlBQVksS0FBa0IsS0FBb0IsUUFBd0I7QUFDdEUsU0FBSyxZQUFZLElBQUk7QUFDckIsU0FBSyxPQUFPLElBQUk7QUFDaEIsU0FBSyxZQUFZLENBQUM7QUFDbEIsU0FBSyxVQUFVLENBQUM7QUFDaEIsU0FBSyxhQUFhLENBQUM7QUFDbkIsYUFBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLFVBQVUsUUFBUSxLQUFLO0FBQzNDLFdBQUssVUFBVSxLQUFLLFVBQVUsS0FBSyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFBQSxJQUN4RDtBQUNBLGFBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxRQUFRLFFBQVEsS0FBSztBQUN6QyxXQUFLLFFBQVEsS0FBSyxVQUFVLFNBQVMsSUFBSSxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUM7QUFBQSxJQUM3RDtBQUNBLGFBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxXQUFXLFFBQVEsS0FBSztBQUM1QyxXQUFLLFdBQVcsS0FBSyxVQUFVLFNBQVMsSUFBSSxXQUFXLENBQUMsR0FBRyxHQUFHLENBQUM7QUFBQSxJQUNuRTtBQUNBLFNBQUssU0FBUztBQUNkLFNBQUssTUFBTTtBQUNYLFNBQUssaUJBQWlCO0FBQ3RCLFNBQUssdUJBQXVCO0FBQUEsRUFDaEM7QUFBQSxFQUNRLHlCQUF5QjtBQUM3QixTQUFLLE9BQU8sTUFBTSxZQUFZO0FBQzlCLFNBQUssT0FBTyxNQUFNLFdBQVc7QUFBQSxFQUNqQztBQUFBLEVBQ1EsZ0JBQWdCO0FBQ3BCLFVBQU0sYUFBYSxtQkFBbUIsWUFBWSxNQUFNLGFBQWEsRUFBRTtBQUN2RSxRQUFJLEtBQUssbUJBQW1CLFlBQVk7QUFDcEMsVUFBSTtBQUNBLGNBQU0sWUFBb0MsS0FBSyxJQUFJLFFBQVEsWUFBWSx1QkFBdUIsVUFBVTtBQUN4RyxjQUFNLFlBQVksVUFBVTtBQUM1QixZQUFJO0FBQ0osYUFBSyxPQUFPLE1BQU07QUFDbEIsWUFBSSxxQkFBcUIsV0FBVztBQUNoQyxvQkFBVSxLQUFLLE9BQU8sU0FBUyxLQUFLO0FBQUEsUUFDeEMsT0FBTztBQUNILG9CQUFVLEtBQUssT0FBTyxTQUFTLE9BQU87QUFDdEMsa0JBQVEsV0FBVztBQUNuQixrQkFBUSxPQUFPO0FBQUEsUUFDbkI7QUFDQSxnQkFBUSxNQUFNO0FBQ2QsZ0JBQVEsTUFBTSxRQUFRO0FBQ3RCLGdCQUFRLE1BQU0sU0FBUztBQUN2QixhQUFLLGlCQUFpQjtBQUFBLE1BQzFCLFNBQVEsR0FBTjtBQUNFLGdCQUFRLElBQUksaUNBQWlDO0FBQUEsTUFDakQ7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUFBLEVBQ1Esc0JBQXNCO0FBQzFCLFVBQU0sUUFBUSxtQkFBbUIsWUFBWSxNQUFNLGNBQWM7QUFDakUsVUFBTSxTQUFTLG1CQUFtQixZQUFZLE1BQU0sZUFBZTtBQUNuRSxVQUFNLElBQUksbUJBQW1CLFlBQVksTUFBTSxHQUFHO0FBQ2xELFVBQU0sSUFBSSxtQkFBbUIsWUFBWSxNQUFNLEdBQUc7QUFDbEQsVUFBTSxJQUFJLG1CQUFtQixZQUFZLE1BQU0sR0FBRztBQUNsRCxVQUFNLE9BQU8sbUJBQW1CLFlBQVksTUFBTSxTQUFTO0FBQzNELFVBQU0sT0FBTyxtQkFBbUIsWUFBWSxNQUFNLFNBQVM7QUFDM0QsVUFBTSxPQUFPLG1CQUFtQixZQUFZLE1BQU0sU0FBUztBQUMzRCxVQUFNLFNBQVMsbUJBQW1CLFlBQVksTUFBTSxnQkFBZ0I7QUFDcEUsVUFBTSxTQUFTLG1CQUFtQixZQUFZLE1BQU0sZ0JBQWdCO0FBQ3BFLFVBQU0sU0FBUyxtQkFBbUIsWUFBWSxNQUFNLGdCQUFnQjtBQUVwRSxTQUFLLE9BQU8sTUFBTSxRQUFRLE1BQU0sUUFBUTtBQUN4QyxTQUFLLE9BQU8sTUFBTSxTQUFTLE9BQU8sUUFBUTtBQUUxQyxTQUFLLFNBQVMsT0FBTztBQUNyQixTQUFLLFNBQVMsT0FBTztBQUNyQixTQUFLLFNBQVMsT0FBTztBQUVyQixNQUFFLFNBQVMsS0FBSztBQUNoQixNQUFFLFNBQVMsS0FBSztBQUNoQixNQUFFLFNBQVMsS0FBSztBQUVoQixTQUFLLE9BQU8sTUFBTSxPQUFPLEVBQUUsUUFBUTtBQUNuQyxTQUFLLE9BQU8sTUFBTSxTQUFTLEVBQUUsUUFBUTtBQUFBLEVBQ3pDO0FBQUEsRUFDQSxTQUFTO0FBQ0wsU0FBSyxjQUFjO0FBQ25CLFNBQUssb0JBQW9CO0FBQUEsRUFDN0I7QUFBQSxFQUNBLFVBQVU7QUFDTixhQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxRQUFRLEtBQUs7QUFDMUMsV0FBSyxRQUFRLENBQUMsRUFBRSxRQUFRO0FBQUEsSUFDNUI7QUFBQSxFQUNKO0FBQUEsRUFDQSxhQUFhO0FBQ1QsYUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFdBQVcsUUFBUSxLQUFLO0FBQzdDLFdBQUssV0FBVyxDQUFDLEVBQUUsUUFBUTtBQUFBLElBQy9CO0FBQUEsRUFDSjtBQUNKOzs7QUNqTU8sSUFBTSxZQUFOLE1BQWdCO0FBQUEsRUFDbkIsT0FBTyxLQUFLLEtBQWU7QUFDdkIsVUFBTSxZQUFZLENBQUM7QUFDbkIsYUFBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLFdBQVcsUUFBUSxLQUFLO0FBQzVDLFlBQU0sWUFBWSxJQUFJLFdBQVcsQ0FBQztBQUNsQyxVQUFJLHFCQUFxQkMsTUFBSztBQUMxQixrQkFBVSxLQUFLLEtBQUssS0FBSyxTQUFTLENBQUM7QUFBQSxNQUN2QyxPQUFPO0FBQ0gsa0JBQVUsS0FBSyxVQUFVLEtBQUssU0FBUyxDQUFDO0FBQUEsTUFDNUM7QUFBQSxJQUNKO0FBQ0EsWUFBTyxJQUFJLE1BQU07QUFBQSxNQUNiLEtBQUs7QUFBQSxNQUNMO0FBQ0ksZUFBTyxJQUFJLFlBQVk7QUFBQSxNQUMzQixLQUFLO0FBQ0QsZUFBTyxJQUFJLFFBQWdCLFNBQVM7QUFBQSxNQUN4QyxLQUFLO0FBQ0QsZUFBTyxJQUFJLE1BQWMsU0FBUztBQUFBLE1BQ3RDLEtBQUs7QUFDRCxlQUFPLElBQUksTUFBTSxTQUFTO0FBQUEsTUFDOUIsS0FBSztBQUNELGVBQU8sSUFBSSxLQUFLLFNBQVM7QUFBQSxNQUM3QixLQUFLO0FBQ0QsZUFBTyxJQUFJLFNBQVMsU0FBUztBQUFBLE1BQ2pDLEtBQUs7QUFDRCxlQUFPLElBQUksVUFBVSxTQUFTO0FBQUEsTUFDbEMsS0FBSztBQUNELGVBQU8sSUFBSSxVQUFVLFNBQVM7QUFBQSxNQUNsQyxLQUFLO0FBQ0QsZUFBTyxJQUFJLE1BQU0sU0FBUztBQUFBLElBQ2xDO0FBQUEsRUFDSjtBQUFBLEVBQ0EsT0FBTyxRQUFRLE1BQVUsWUFBNEM7QUFDakUsWUFBTyxNQUFNO0FBQUEsTUFDVCxLQUFLO0FBQUEsTUFDTDtBQUNJLGVBQU8sSUFBSSxZQUFZO0FBQUEsTUFDM0IsS0FBSztBQUNELGVBQU8sSUFBSSxRQUE0QixVQUFVO0FBQUEsTUFDckQsS0FBSztBQUNELGVBQU8sSUFBSSxNQUEwQixVQUFVO0FBQUEsTUFDbkQsS0FBSztBQUNELGVBQU8sSUFBSSxNQUFNLFVBQVU7QUFBQSxNQUMvQixLQUFLO0FBQ0QsZUFBTyxJQUFJLEtBQUssVUFBVTtBQUFBLE1BQzlCLEtBQUs7QUFDRCxlQUFPLElBQUksU0FBUyxVQUFVO0FBQUEsTUFDbEMsS0FBSztBQUNELGVBQU8sSUFBSSxVQUFVLFVBQVU7QUFBQSxNQUNuQyxLQUFLO0FBQ0QsZUFBTyxJQUFJLFVBQVUsVUFBVTtBQUFBLE1BQ25DLEtBQUs7QUFDRCxlQUFPLElBQUksTUFBTSxVQUFVO0FBQUEsSUFDbkM7QUFBQSxFQUNKO0FBQUEsRUFDQSxPQUFPLFNBQVMsS0FBVSxVQUEwQixLQUEwQjtBQUMxRSxZQUFPLElBQUksTUFBTTtBQUFBLE1BQ2IsS0FBSztBQUFBLE1BQ0w7QUFDSSxlQUFPLElBQUksYUFBYSxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQzlDLEtBQUs7QUFDRCxlQUFPLElBQUksU0FBUyxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQzFDLEtBQUs7QUFDRCxlQUFPLElBQUksT0FBTyxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQ3hDLEtBQUs7QUFDRCxlQUFPLElBQUksT0FBTyxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQ3hDLEtBQUs7QUFDRCxlQUFPLElBQUksTUFBTSxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQ3ZDLEtBQUs7QUFDRCxlQUFPLElBQUksVUFBVSxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQzNDLEtBQUs7QUFDRCxlQUFPLElBQUksV0FBVyxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQzVDLEtBQUs7QUFDRCxlQUFPLElBQUksV0FBVyxLQUFLLFVBQVUsR0FBRztBQUFBLE1BQzVDLEtBQUs7QUFDRCxlQUFPLElBQUksT0FBTyxLQUFLLFVBQVUsR0FBRztBQUFBLElBQzVDO0FBQUEsRUFDSjtBQUFBLEVBQ0EsT0FBTyxTQUFTLEtBQVUsS0FBMEI7QUFDaEQsWUFBTyxJQUFJLE1BQU07QUFBQSxNQUNiLEtBQUs7QUFBQSxNQUNMO0FBQ0ksZUFBTyxJQUFJLGFBQWEsS0FBSyxHQUFHO0FBQUEsTUFDcEMsS0FBSztBQUNELGVBQU8sSUFBSSxTQUFTLEtBQUssR0FBRztBQUFBLE1BQ2hDLEtBQUs7QUFDRCxlQUFPLElBQUksT0FBTyxLQUFLLEdBQUc7QUFBQSxNQUM5QixLQUFLO0FBQ0QsZUFBTyxJQUFJLE9BQU8sS0FBSyxHQUFHO0FBQUEsTUFDOUIsS0FBSztBQUNELGVBQU8sSUFBSSxNQUFNLEtBQUssR0FBRztBQUFBLE1BQzdCLEtBQUs7QUFDRCxlQUFPLElBQUksVUFBVSxLQUFLLEdBQUc7QUFBQSxNQUNqQyxLQUFLO0FBQ0QsZUFBTyxJQUFJLFdBQVcsS0FBSyxHQUFHO0FBQUEsTUFDbEMsS0FBSztBQUNELGVBQU8sSUFBSSxXQUFXLEtBQUssR0FBRztBQUFBLE1BQ2xDLEtBQUs7QUFDRCxlQUFPLElBQUksT0FBTyxLQUFLLEdBQUc7QUFBQSxJQUNsQztBQUFBLEVBQ0o7QUFDSjtBQUdPLElBQWVBLE9BQWYsTUFBbUI7QUFBQSxFQUl0QixjQUFjO0FBQ1YsU0FBSyxvQkFBb0IsQ0FBQztBQUMxQixTQUFLLGFBQWEsQ0FBQztBQUFBLEVBQ3ZCO0FBQ0o7QUFFTyxJQUFlLE9BQWYsTUFBb0I7QUFBQSxFQUt2QixZQUFZLFVBQWUsVUFBMEIsS0FBb0I7QUFDckUsU0FBSyxXQUFXO0FBQ2hCLFNBQUssTUFBTTtBQUNYLFNBQUssTUFBTTtBQUNYLFNBQUssYUFBYTtBQUFBLEVBQ3RCO0FBQUEsRUFFQSxPQUFPLGlCQUFpQixPQUE2QyxLQUFxQjtBQUN0RixVQUFNLFNBQVMsSUFBSSxTQUFTLE9BQU8sRUFBRSxNQUFNLE1BQU0sTUFBTSxDQUFFO0FBQ3pELFdBQU8sTUFBTSxXQUFXO0FBQ3hCLFdBQU8sTUFBTSxhQUFhO0FBQzFCLFdBQU8sTUFBTSxhQUFhO0FBQzFCLFdBQU8sTUFBTSxPQUFPO0FBQ3BCLFdBQU8sTUFBTSxVQUFVO0FBQ3ZCLFVBQU0sTUFBTSxRQUFRLE9BQU8sc0JBQXNCLEVBQUUsUUFBUTtBQUMzRCxXQUFPLE9BQU87QUFBQSxFQUNsQjtBQUFBLEVBQ0EsMkJBQTJCLE9BQWUsVUFBMEIsaUJBQXNDO0FBQ3RHLFVBQU0sUUFBUSxLQUFLLFNBQVMsV0FBVyxLQUFLO0FBQzVDLFFBQUksaUJBQWlCLEtBQUs7QUFDdEIsYUFBTyxLQUFLLHNCQUFzQixPQUFPLFVBQVUsZUFBZTtBQUFBLElBQ3RFLE9BQU87QUFDSCxhQUFPLEtBQUssc0JBQXNCLE9BQU8sVUFBVSxlQUFlO0FBQUEsSUFDdEU7QUFBQSxFQUNKO0FBQUEsRUFDQSxzQkFBc0IsT0FBZSxVQUEwQixpQkFBK0I7QUFDMUYsU0FBSyxnQkFBZ0IsS0FBSyxLQUFLLE1BQU0sVUFBVSxLQUFLO0FBQ3BELFVBQU0sUUFBYyxLQUFLLFNBQVMsV0FBVyxLQUFLO0FBQ2xELGNBQVUsU0FBUyxPQUFPLFVBQVUsZUFBZTtBQUFBLEVBQ3ZEO0FBQUEsRUFDQSxzQkFBc0IsT0FBZSxVQUEwQixpQkFBK0I7QUFDMUYsU0FBSyxnQkFBZ0IsS0FBSyxLQUFLLE1BQU0sVUFBVSxLQUFLO0FBQ3BELFVBQU0sUUFBYyxLQUFLLFNBQVMsV0FBVyxLQUFLO0FBQ2xELFVBQU0sVUFBVSxVQUFVLFNBQVMsT0FBTyxVQUFVLEtBQUssR0FBRztBQUM1RCxZQUFRLFdBQVc7QUFDbkIsUUFBSSxRQUFRLFNBQVMsU0FBUyxjQUFTO0FBQ25DLGNBQVEsSUFBSSxNQUFNLGtCQUFrQjtBQUFBLElBQ3hDLE9BQU87QUFDSCxXQUFLLG1CQUFtQixTQUFTLEtBQUssS0FBSyxLQUFLO0FBQUEsSUFDcEQ7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBQ0EsZ0JBQWdCLFdBQXNCO0FBQ2xDLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxTQUFTLFdBQVcsUUFBUSxLQUFLO0FBQ3RELFVBQUksS0FBSyxTQUFTLFdBQVcsQ0FBQyxNQUFNLFdBQVc7QUFDM0MsY0FBTSxtQkFBbUIsS0FBSyxTQUFTLGtCQUFrQixDQUFDO0FBQzFELGFBQUssU0FBUyxXQUFXLENBQUMsSUFBSSw0QkFBNEIsTUFBTSxVQUFVLEtBQUssZ0JBQWdCLElBQUksVUFBVSxLQUFLLGdCQUFnQjtBQUFBLE1BQ3RJO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFBQSxFQUNBLE9BQU8sbUJBQW1CLE9BQWEsS0FBb0IsUUFBaUI7QUFDeEUsVUFBTSxlQUFlLElBQUksUUFBUTtBQUNqQyxVQUFNLElBQUksWUFBWTtBQUN0QixVQUFNLElBQUksaUJBQWlCLGFBQWEsQ0FBQyxVQUFxQjtBQUMxRCxZQUFNLGdCQUFnQjtBQUN0QixVQUFJLE1BQU0saUJBQWlCLE1BQU07QUFDN0IsY0FBTSxhQUFhLGdCQUFnQjtBQUFBLE1BQ3ZDO0FBQ0EsbUJBQWEsOEJBQThCO0FBQzNDLG1CQUFhLHdCQUF3QjtBQUNyQyxtQkFBYSxVQUFVLE1BQU0sU0FBUztBQUN0QyxtQkFBYSxPQUFPLE1BQU0sU0FBUztBQUFBLElBQ3ZDLENBQUM7QUFFRCxVQUFNLElBQUksaUJBQWlCLFdBQVcsQ0FBQyxVQUFxQjtBQUN4RCxZQUFNLGdCQUFnQjtBQUN0QixZQUFNLGVBQWU7QUFDckIsbUJBQWEsVUFBVSxNQUFNLFNBQVM7QUFDdEMsbUJBQWEsT0FBTyxNQUFNLFNBQVM7QUFBQSxJQUN2QyxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBQ0EsT0FBaUIsZ0JBQWdCLEtBQW9CLE1BQVksVUFBMEIsWUFBb0I7QUFDM0csVUFBTSxlQUFlLElBQUksUUFBUTtBQUVqQyxhQUFTLGlCQUFpQixZQUFZLENBQUMsVUFBcUI7QUFDeEQsWUFBTSxnQkFBZ0I7QUFDdEIsWUFBTSxlQUFlO0FBQ3JCLFVBQUksTUFBTSxpQkFBaUIsTUFBTTtBQUM3QixjQUFNLGFBQWEsYUFBYTtBQUFBLE1BQ3BDO0FBQ0EsZUFBUyxNQUFNLGNBQWM7QUFDN0IsZUFBUyxNQUFNLGNBQWM7QUFBQSxJQUNqQyxDQUFDO0FBRUQsYUFBUyxpQkFBaUIsYUFBYSxDQUFDLFVBQXFCO0FBQ3pELFlBQU0sZ0JBQWdCO0FBQ3RCLGVBQVMsTUFBTSxjQUFjO0FBQUEsSUFDakMsQ0FBQztBQUVELGFBQVMsaUJBQWlCLFFBQVEsQ0FBQyxVQUFxQjtBQUNwRCxZQUFNLGdCQUFnQjtBQUN0QixVQUFJLGFBQWEsMEJBQTBCLFFBQVc7QUFDbEQ7QUFBQSxNQUNKO0FBQ0EsVUFBSTtBQUNKLFVBQUk7QUFDSixVQUFJLGFBQWEsNkJBQTZCO0FBQzFDLGNBQU0sbUJBQW1CLFVBQVUsS0FBSyxhQUFhLHNCQUFzQixRQUFRO0FBQ25GLHNCQUErQixhQUFhLHNCQUFzQixJQUFJLFVBQVUsSUFBSTtBQUNwRixtQkFBVyxVQUFVLFNBQVMsa0JBQWtCLGFBQWEsR0FBRztBQUFBLE1BQ3BFLE9BQU87QUFDSCxZQUFJLGFBQWEsc0JBQXNCLGFBQWEsUUFBVztBQUMzRCxnQkFBTSxXQUFXLGFBQWEsc0JBQXNCO0FBQ3BELG1CQUFTLGdCQUFnQixhQUFhLHNCQUFzQixRQUFRO0FBQ3BFLG1CQUFTLGFBQWE7QUFBQSxRQUMxQjtBQUNBLHNCQUFjLGFBQWEsc0JBQXNCO0FBQ2pELG1CQUFXLGFBQWE7QUFDeEIsb0JBQVksT0FBTztBQUFBLE1BQ3ZCO0FBQ0EsV0FBSyxTQUFTLFdBQVcsVUFBVSxJQUFJLFNBQVM7QUFDaEQsV0FBSyxhQUFhO0FBQ2xCLFlBQU0sZUFBZTtBQUNyQixtQkFBYSx3QkFBd0I7QUFBQSxJQUN6QyxDQUFDO0FBQUEsRUFDTDtBQUNKO0FBRU8sSUFBZUMsUUFBZixNQUFvQjtBQUFBLEVBS3ZCLFlBQVksWUFBaUIsS0FBb0I7QUFDN0MsU0FBSyxPQUFPLFdBQVc7QUFDdkIsU0FBSyxhQUFhLENBQUM7QUFDbkIsU0FBSyxNQUFNO0FBQ1gsYUFBUyxJQUFJLEdBQUcsSUFBSSxXQUFXLFdBQVcsUUFBUSxLQUFLO0FBQ25ELFlBQU0sVUFBVSxXQUFXLFdBQVcsQ0FBQztBQUN2QyxVQUFJO0FBQ0osVUFBSSxtQkFBbUIsS0FBSztBQUN4QixlQUFPLFVBQVUsS0FBSyxPQUFPO0FBQUEsTUFDakMsT0FBTztBQUNILGVBQU8sVUFBVSxTQUFTLFNBQVMsR0FBRztBQUFBLE1BQzFDO0FBQ0EsV0FBSyxXQUFXLEtBQUssSUFBSTtBQUFBLElBQzdCO0FBQUEsRUFDSjtBQUNKO0FBSU8sSUFBTSxjQUFOLGNBQTBCRCxLQUFJO0FBQUEsRUFBOUI7QUFBQTtBQUNILGdCQUFPO0FBQUE7QUFDWDtBQUVPLElBQU0sZUFBTixjQUEyQixLQUFLO0FBQUEsRUFFMUIsZUFBcUI7QUFDMUIsU0FBSyxJQUFJLFlBQVk7QUFDckIsU0FBSyxJQUFJLE1BQU0sa0JBQWtCO0FBQUEsRUFDckM7QUFBQSxFQUNTLGdCQUFnQixXQUFzQjtBQUFBLEVBQUU7QUFDckQ7QUFFTyxJQUFNLGVBQU4sY0FBMkJDLE1BQUs7QUFBQSxFQUNuQyxNQUFNLFVBQXlCO0FBQUEsRUFBQztBQUNwQztBQUlPLElBQU0sVUFBTixjQUFzQkQsS0FBSTtBQUFBLEVBSTdCLFlBQVksYUFBa0MsUUFBVztBQUNyRCxVQUFNO0FBSlYsZ0JBQU87QUFLSCxVQUFNLFlBQVksSUFBSSxZQUFZO0FBQ2xDLFNBQUssa0JBQWtCLEtBQUssU0FBUztBQUNyQyxRQUFJLGVBQWUsUUFBVztBQUMxQixXQUFLLGFBQWE7QUFBQSxJQUN0QixPQUFPO0FBQ0gsV0FBSyxXQUFXLEtBQUssVUFBVSxLQUFLLFNBQVMsQ0FBQztBQUFBLElBQ2xEO0FBQUEsRUFDSjtBQUNKO0FBRU8sSUFBTSxXQUFOLGNBQXVCLEtBQUs7QUFBQSxFQUV0QixlQUFxQjtBQUMxQixTQUFLLElBQUksTUFBTTtBQUNmLFVBQU0sTUFBTSxLQUFLO0FBQ2pCLFFBQUksWUFBWTtBQUNoQixRQUFJLE1BQU0sa0JBQWtCO0FBQzVCLFFBQUksTUFBTSxjQUFjO0FBQ3hCLFFBQUksTUFBTSxjQUFjO0FBQ3hCLFFBQUksTUFBTSxRQUFRO0FBQ2xCLFFBQUksTUFBTSxVQUFVO0FBQ3BCLFFBQUksTUFBTSxNQUFNO0FBRWhCLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxTQUFTLFdBQVcsUUFBUSxLQUFLO0FBQ3RELFlBQU0sUUFBUTtBQUNkLFlBQU0sZUFBZSxJQUFJLFVBQVUsdUNBQXVDO0FBRTFFLFlBQU0sZUFBZSxhQUFhLFNBQVMsVUFBVSxFQUFFLE1BQU0sSUFBSSxDQUFFO0FBQ25FLFlBQU1FLGFBQVksYUFBYSxTQUFTLFVBQVUsRUFBRSxNQUFNLElBQUksQ0FBRTtBQUVoRSxtQkFBYSxZQUFZO0FBQ3pCLE1BQUFBLFdBQVUsWUFBWTtBQUV0QixtQkFBYSxVQUFVLE1BQU07QUFDekIsYUFBSyxTQUFTLFdBQVcsT0FBTyxPQUFPLENBQUM7QUFDeEMsYUFBSyxhQUFhO0FBQUEsTUFDdEI7QUFDQSxNQUFBQSxXQUFVLFVBQVUsTUFBTTtBQUN0QixhQUFLLFNBQVMsV0FBVyxPQUFPLE9BQU8sR0FBRyxJQUFJLFlBQVksQ0FBQztBQUMzRCxhQUFLLGFBQWE7QUFBQSxNQUN0QjtBQUVBLFdBQUssc0JBQXNCLE9BQU8sYUFBYSxVQUFVLEdBQUcsVUFBVTtBQUFBLElBQzFFO0FBQ0EsVUFBTSxZQUFZLElBQUksU0FBUyxVQUFVLEVBQUUsTUFBTSxJQUFJLENBQUU7QUFDdkQsY0FBVSxZQUFZO0FBRXRCLGNBQVUsVUFBVSxNQUFNO0FBQ3RCLFdBQUssU0FBUyxXQUFXLE9BQU8sS0FBSyxTQUFTLFdBQVcsUUFBUSxHQUFHLElBQUksWUFBWSxDQUFDO0FBQ3JGLFdBQUssYUFBYTtBQUFBLElBQ3RCO0FBQUEsRUFDSjtBQUFBLEVBQ1MsZ0JBQWdCLFdBQXNCO0FBQzNDLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxTQUFTLFdBQVcsUUFBUSxLQUFLO0FBQ3RELFVBQUksS0FBSyxTQUFTLFdBQVcsQ0FBQyxNQUFNLFdBQVc7QUFDM0MsYUFBSyxTQUFTLFdBQVcsQ0FBQyxJQUFJLFVBQVUsS0FBSyxLQUFLLFNBQVMsa0JBQWtCLENBQUMsQ0FBQztBQUFBLE1BQ25GO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSjtBQUVPLElBQU0sV0FBTixjQUF1QkQsTUFBSztBQUFBLEVBRS9CLE1BQU0sVUFBeUI7QUFDM0IsYUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFdBQVcsUUFBUSxLQUFLO0FBQzdDLFlBQU0sS0FBSyxXQUFXLENBQUMsRUFBRSxRQUFRO0FBQUEsSUFDckM7QUFBQSxFQUNKO0FBQ0o7QUFJTyxJQUFNLFFBQU4sY0FBb0JELEtBQUk7QUFBQSxFQUczQixZQUFZLFlBQStCO0FBQ3ZDLFVBQU07QUFIVixnQkFBTztBQUlILFVBQU0sV0FBVyxJQUFJLHdCQUFzQixjQUFjO0FBQ3pELFVBQU0sVUFBVSxJQUFJLHdCQUFzQixlQUFlO0FBQ3pELGFBQVMsUUFBUTtBQUNqQixZQUFRLFFBQVE7QUFDaEIsU0FBSyxvQkFBb0IsQ0FBQyxTQUFTLFFBQVE7QUFDM0MsUUFBSSxlQUFlLFFBQVc7QUFDMUIsV0FBSyxhQUFhO0FBQUEsSUFDdEIsT0FBTztBQUNILFdBQUssV0FBVyxLQUFLLFVBQVUsS0FBSyxPQUFPLENBQUM7QUFDNUMsV0FBSyxXQUFXLEtBQUssVUFBVSxLQUFLLFFBQVEsQ0FBQztBQUFBLElBQ2pEO0FBQUEsRUFDSjtBQUNKO0FBRU8sSUFBTSxTQUFOLGNBQXFCLEtBQUs7QUFBQSxFQUVwQixlQUFxQjtBQUMxQixTQUFLLElBQUksTUFBTTtBQUNmLFVBQU0sTUFBTSxLQUFLO0FBQ2pCLFFBQUksWUFBWTtBQUNoQixRQUFJLE1BQU0sa0JBQWtCO0FBQzVCLFFBQUksTUFBTSxjQUFjO0FBQ3hCLFFBQUksTUFBTSxjQUFjO0FBQ3hCLFVBQU0sTUFBTSxLQUFLO0FBRWpCLFVBQU0sVUFBVSxLQUFLLFNBQVMsV0FBVyxDQUFDO0FBQzFDLFVBQU0sUUFBUSxLQUFLLFNBQVMsV0FBVyxDQUFDO0FBRXhDLFFBQUksU0FBUyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUU7QUFDcEMsVUFBTSxTQUFTLElBQUksVUFBVTtBQUM3QixRQUFJLFNBQVMsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFFO0FBQ3JDLFVBQU0sU0FBUyxJQUFJLFVBQVU7QUFFN0IsVUFBTSxhQUFhLE9BQU8sU0FBUyxRQUFRO0FBQzNDLFVBQU0sZUFBZSxPQUFPLFNBQVMsUUFBUTtBQUU3QyxlQUFXLE1BQU0sa0JBQWtCO0FBQ25DLGlCQUFhLE1BQU0sa0JBQWtCO0FBRXJDLGVBQVcsTUFBTSxlQUFlO0FBQ2hDLGlCQUFhLE1BQU0sZUFBZTtBQUVsQyxVQUFNLFNBQVMsSUFBSSxRQUFRLFVBQVU7QUFDckMsYUFBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFFBQVEsS0FBSztBQUNwQyxpQkFBVyxTQUFTLFVBQVUsRUFBRSxNQUFNLElBQUksT0FBTyxPQUFPLENBQUMsRUFBRSxNQUFNLE9BQU8sSUFBSSxPQUFPLE9BQU8sQ0FBQyxFQUFFLEtBQUssQ0FBRTtBQUFBLElBQ3hHO0FBRUEsVUFBTSxpQkFBaUIsTUFBTTtBQUN6QixtQkFBYSxNQUFNO0FBQ25CLFlBQU1HLFVBQVMsSUFBSSxRQUFRLFVBQVU7QUFDckMsWUFBTSxTQUFTQSxRQUFPLEtBQUssU0FBUyxXQUFXLENBQUMsRUFBRSxLQUFLLEVBQUU7QUFDekQsZUFBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFFBQVEsS0FBSztBQUNwQyxxQkFBYSxTQUFTLFVBQVUsRUFBRSxNQUFNLE9BQU8sQ0FBQyxFQUFFLE1BQU0sT0FBTyxPQUFPLENBQUMsRUFBRSxLQUFLLENBQUU7QUFBQSxNQUNwRjtBQUFBLElBQ0o7QUFFQSxlQUFXLFdBQVcsTUFBTTtBQUN4QixXQUFLLFNBQVMsV0FBVyxDQUFDLEVBQUUsUUFBUSxTQUFTLFdBQVcsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDM0UsV0FBSyxpQkFBaUIsWUFBWSxHQUFHO0FBQ3JDLHFCQUFlO0FBQUEsSUFDbkI7QUFDQSxpQkFBYSxXQUFXLE1BQU07QUFDMUIsV0FBSyxTQUFTLFdBQVcsQ0FBQyxFQUFFLFFBQVEsYUFBYTtBQUNqRCxXQUFLLGlCQUFpQixjQUFjLEdBQUc7QUFBQSxJQUMzQztBQUVBLG1CQUFlO0FBRWYsZUFBVyxRQUFRLE1BQU0sUUFBUSxPQUFPLE9BQU8sTUFBTSxLQUFLLEVBQUU7QUFDNUQsaUJBQWEsUUFBUSxRQUFRO0FBRTdCLFNBQUssaUJBQWlCLFlBQVksR0FBRztBQUNyQyxTQUFLLGlCQUFpQixjQUFjLEdBQUc7QUFBQSxFQUMzQztBQUNKO0FBRU8sSUFBTSxTQUFOLGNBQXFCRixNQUFLO0FBQUEsRUFFN0IsTUFBTSxVQUF3QjtBQUMxQixVQUFNLFVBQVUsS0FBSyxXQUFXLENBQUM7QUFDakMsVUFBTSxXQUFXLEtBQUssV0FBVyxDQUFDO0FBQ2xDLFVBQU0sTUFBTSxLQUFLLElBQUksUUFBUSxTQUFTLFFBQVEsU0FBUyxLQUFLO0FBQzVELFdBQU8sbUJBQW1CLFlBQVksS0FBSyxRQUFRLEtBQUs7QUFBQSxFQUM1RDtBQUNKO0FBSU8sSUFBTSxRQUFOLGNBQW9CRCxLQUFJO0FBQUEsRUFFM0IsWUFBWSxZQUF1QztBQUMvQyxVQUFNO0FBRlYsZ0JBQU87QUFHSCxVQUFNLFVBQVUsSUFBSSx3QkFBc0IsZUFBZTtBQUN6RCxVQUFNLFdBQVcsSUFBSSx3QkFBc0IsY0FBYztBQUN6RCxZQUFRLFFBQVE7QUFDaEIsYUFBUyxRQUFRO0FBQ2pCLFNBQUssb0JBQW9CLENBQUMsU0FBUyxRQUFRO0FBQzNDLFFBQUksZUFBZSxRQUFXO0FBQzFCLFdBQUssYUFBYTtBQUFBLElBQ3RCLE9BQU87QUFDSCxXQUFLLFdBQVcsS0FBSyxVQUFVLEtBQUssT0FBTyxDQUFDO0FBQzVDLFdBQUssV0FBVyxLQUFLLFVBQVUsS0FBSyxRQUFRLENBQUM7QUFDN0MsV0FBSyxXQUFXLEtBQUssVUFBVSx1Q0FBZ0MsRUFBRSxDQUFDO0FBQUEsSUFDdEU7QUFBQSxFQUNKO0FBQ0o7QUFFTyxJQUFNLFNBQU4sY0FBcUIsS0FBSztBQUFBLEVBRXBCLGVBQXFCO0FBQzFCLFNBQUssSUFBSSxNQUFNO0FBQ2YsVUFBTSxNQUFNLEtBQUs7QUFDakIsUUFBSSxZQUFZO0FBQ2hCLFFBQUksTUFBTSxrQkFBa0I7QUFDNUIsUUFBSSxNQUFNLGNBQWM7QUFDeEIsUUFBSSxNQUFNLGNBQWM7QUFDeEIsVUFBTSxNQUFNLEtBQUs7QUFFakIsVUFBTSxVQUFnQixLQUFLLFNBQVMsV0FBVyxDQUFDO0FBQ2hELFVBQU0sUUFBYyxLQUFLLFNBQVMsV0FBVyxDQUFDO0FBRTlDLFFBQUksU0FBUyxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUU7QUFDcEMsVUFBTSxTQUFTLElBQUksVUFBVTtBQUM3QixRQUFJLFNBQVMsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFFO0FBQ3JDLFVBQU0sU0FBUyxJQUFJLFVBQVU7QUFDN0IsUUFBSSxTQUFTLE9BQU8sRUFBRSxNQUFNLEtBQUssQ0FBRTtBQUNuQyxVQUFNLFdBQVcsSUFBSSxVQUFVO0FBRS9CLFVBQU0sYUFBYSxPQUFPLFNBQVMsUUFBUTtBQUMzQyxVQUFNLGVBQWUsT0FBTyxTQUFTLFFBQVE7QUFFN0MsZUFBVyxNQUFNLGtCQUFrQjtBQUNuQyxpQkFBYSxNQUFNLGtCQUFrQjtBQUVyQyxlQUFXLE1BQU0sZUFBZTtBQUNoQyxpQkFBYSxNQUFNLGVBQWU7QUFFbEMsVUFBTSxTQUFTLElBQUksUUFBUSxVQUFVO0FBQ3JDLGFBQVMsSUFBSSxHQUFHLElBQUksT0FBTyxRQUFRLEtBQUs7QUFDcEMsaUJBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxJQUFJLE9BQU8sT0FBTyxDQUFDLEVBQUUsTUFBTSxPQUFPLElBQUksT0FBTyxPQUFPLENBQUMsRUFBRSxLQUFLLENBQUU7QUFBQSxJQUN4RztBQUVBLFVBQU0saUJBQWlCLE1BQU07QUFDekIsbUJBQWEsTUFBTTtBQUNuQixZQUFNRyxVQUFTLElBQUksUUFBUSxVQUFVO0FBQ3JDLFlBQU0sU0FBU0EsUUFBYyxLQUFLLFNBQVMsV0FBVyxDQUFDLEVBQUcsS0FBSyxFQUFFO0FBQ2pFLGVBQVMsSUFBSSxHQUFHLElBQUksT0FBTyxRQUFRLEtBQUs7QUFDcEMscUJBQWEsU0FBUyxVQUFVLEVBQUUsTUFBTSxPQUFPLENBQUMsRUFBRSxNQUFNLE9BQU8sT0FBTyxDQUFDLEVBQUUsS0FBSyxDQUFFO0FBQUEsTUFDcEY7QUFFQSxlQUFTLE1BQU07QUFDZixVQUFJLEtBQUssU0FBUyxXQUFXLENBQUMsYUFBYUgsTUFBSztBQUM1QyxhQUFLLHNCQUFzQixHQUFHLFVBQVUsZUFBZTtBQUFBLE1BQzNELE9BQU87QUFDSCxhQUFLLHNCQUFzQixHQUFHLFVBQVUsZUFBZTtBQUFBLE1BQzNEO0FBQUEsSUFDSjtBQUVBLGVBQVcsV0FBVyxNQUFNO0FBQ3hCLE1BQU8sS0FBSyxTQUFTLFdBQVcsQ0FBQyxFQUFHLFFBQVEsU0FBUyxXQUFXLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ25GLFdBQUssaUJBQWlCLFlBQVksR0FBRztBQUNyQyxxQkFBZTtBQUFBLElBQ25CO0FBQ0EsaUJBQWEsV0FBVyxNQUFNO0FBQzFCLE1BQU8sS0FBSyxTQUFTLFdBQVcsQ0FBQyxFQUFHLFFBQVEsYUFBYTtBQUN6RCxXQUFLLGlCQUFpQixjQUFjLEdBQUc7QUFBQSxJQUMzQztBQUVBLG1CQUFlO0FBRWYsZUFBVyxRQUFRLE1BQU0sUUFBUSxPQUFPLE9BQU8sTUFBTSxLQUFLLEVBQUU7QUFDNUQsaUJBQWEsUUFBUSxRQUFRO0FBRTdCLFNBQUssaUJBQWlCLFlBQVksR0FBRztBQUNyQyxTQUFLLGlCQUFpQixjQUFjLEdBQUc7QUFBQSxFQUMzQztBQUFBLEVBQ1MsZ0JBQWdCLFdBQXNCO0FBQzNDLFFBQUksS0FBSyxTQUFTLFdBQVcsQ0FBQyxNQUFNLFdBQVc7QUFDM0MsWUFBTSxlQUFlLFVBQVUsUUFBZSxLQUFLLFNBQVMsV0FBVyxDQUFDLEVBQUcscUJBQW1CLEVBQUU7QUFDaEcsV0FBSyxTQUFTLFdBQVcsQ0FBQyxJQUFJO0FBQUEsSUFDbEM7QUFBQSxFQUNKO0FBQ0o7QUFFTyxJQUFNLFNBQU4sY0FBcUJDLE1BQUs7QUFBQSxFQUM3QixNQUFNLFVBQXlCO0FBQzNCLFVBQU0sVUFBZ0IsS0FBSyxXQUFXLENBQUM7QUFDdkMsVUFBTSxXQUFpQixLQUFLLFdBQVcsQ0FBQztBQUN4QyxVQUFNLE1BQU0sS0FBSyxXQUFXLENBQUM7QUFDN0IsVUFBTSxNQUFNLEtBQUssSUFBSSxRQUFRLFNBQVMsUUFBUSxTQUFTLEtBQUs7QUFDNUQsVUFBTSxXQUFXLG1CQUFtQixZQUFZLEtBQUssUUFBUSxLQUFLO0FBQ2xFLGFBQVMsUUFBUSxlQUFlQSxTQUFRLE1BQU0sSUFBSSxRQUFRLEdBQUcsUUFBUSxJQUFJO0FBQUEsRUFDN0U7QUFDSjtBQUlPLElBQU0sT0FBTixjQUFtQkQsS0FBSTtBQUFBLEVBRTFCLFlBQVksWUFBdUM7QUFDL0MsVUFBTTtBQUZWLGdCQUFPO0FBR0gsVUFBTSxZQUFZLElBQUkseUJBQXVCLFdBQVc7QUFDeEQsVUFBTSxZQUFZLElBQUksWUFBWTtBQUNsQyxjQUFVLFFBQVE7QUFDbEIsU0FBSyxvQkFBb0IsQ0FBQyxXQUFXLFNBQVM7QUFDOUMsUUFBSSxlQUFlLFFBQVc7QUFDMUIsV0FBSyxhQUFhO0FBQUEsSUFDdEIsT0FBTztBQUNILFdBQUssV0FBVyxLQUFLLFVBQVUsS0FBSyxTQUFTLENBQUM7QUFDOUMsV0FBSyxXQUFXLEtBQUssVUFBVSxLQUFLLFNBQVMsQ0FBQztBQUFBLElBQ2xEO0FBQUEsRUFDSjtBQUNKO0FBRU8sSUFBTSxRQUFOLGNBQW9CLEtBQUs7QUFBQSxFQUVuQixlQUFxQjtBQUMxQixTQUFLLElBQUksTUFBTTtBQUNmLFVBQU0sTUFBTSxLQUFLO0FBQ2pCLFFBQUksWUFBWTtBQUNoQixRQUFJLE1BQU0sa0JBQWtCO0FBQzVCLFFBQUksTUFBTSxjQUFjO0FBQ3hCLFFBQUksTUFBTSxjQUFjO0FBRXhCLFVBQU0sU0FBUyxJQUFJLFVBQVUsdUNBQXVDO0FBQ3BFLFdBQU8sU0FBUyxPQUFPLEVBQUUsTUFBTSxLQUFLLENBQUU7QUFDdEMsVUFBTSxlQUFlLE9BQU8sVUFBVTtBQUN0QyxVQUFNLGNBQWMsSUFBSSxVQUFVO0FBRWxDLFNBQUssMkJBQTJCLEdBQUcsY0FBYyxjQUFjO0FBQy9ELFNBQUssc0JBQXNCLEdBQUcsYUFBYSxjQUFjO0FBQUEsRUFDN0Q7QUFDSjtBQUVPLElBQU0sUUFBTixjQUFvQkMsTUFBSztBQUFBLEVBQzVCLE1BQU0sVUFBeUI7QUFDM0IsVUFBTSxTQUFTLEtBQUssV0FBVyxDQUFDO0FBRWhDLFVBQU0sZUFBZSxrQkFBa0JBO0FBRXZDLFVBQU0sWUFBWSxnQkFBZ0IsTUFBTSxPQUFPLFFBQVEsR0FBRyxRQUFRLE9BQU87QUFFekUsUUFBSSxXQUFXO0FBQ1gsWUFBTSxTQUFnQixLQUFLLFdBQVcsQ0FBQztBQUN2QyxZQUFNLE9BQU8sUUFBUTtBQUFBLElBQ3pCO0FBQUEsRUFDSjtBQUNKO0FBSU8sSUFBTSxXQUFOLGNBQXVCRCxLQUFJO0FBQUEsRUFFOUIsWUFBWSxZQUF1QztBQUMvQyxVQUFNO0FBRlYsZ0JBQU87QUFHSCxVQUFNLFlBQVksSUFBSSx5QkFBdUIsV0FBVztBQUN4RCxVQUFNLFlBQVksSUFBSSxZQUFZO0FBQ2xDLFVBQU0sYUFBYSxJQUFJLFlBQVk7QUFDbkMsY0FBVSxRQUFRO0FBQ2xCLFNBQUssb0JBQW9CLENBQUMsV0FBVyxXQUFXLFVBQVU7QUFDMUQsUUFBSSxlQUFlLFFBQVc7QUFDMUIsV0FBSyxhQUFhO0FBQUEsSUFDdEIsT0FBTztBQUNILFdBQUssV0FBVyxLQUFLLFVBQVUsS0FBSyxTQUFTLENBQUM7QUFDOUMsV0FBSyxXQUFXLEtBQUssVUFBVSxLQUFLLFNBQVMsQ0FBQztBQUM5QyxXQUFLLFdBQVcsS0FBSyxVQUFVLEtBQUssVUFBVSxDQUFDO0FBQUEsSUFDbkQ7QUFBQSxFQUNKO0FBQ0o7QUFFTyxJQUFNLFlBQU4sY0FBd0IsS0FBSztBQUFBLEVBRXZCLGVBQXFCO0FBQzFCLFNBQUssSUFBSSxNQUFNO0FBQ2YsVUFBTSxNQUFNLEtBQUs7QUFDakIsUUFBSSxZQUFZO0FBQ2hCLFFBQUksTUFBTSxrQkFBa0I7QUFDNUIsUUFBSSxNQUFNLGNBQWM7QUFDeEIsUUFBSSxNQUFNLGNBQWM7QUFFeEIsVUFBTSxTQUFTLElBQUksVUFBVSx1Q0FBdUM7QUFDcEUsV0FBTyxTQUFTLE9BQU8sRUFBRSxNQUFNLEtBQUssQ0FBRTtBQUN0QyxVQUFNLGVBQWUsT0FBTyxVQUFVO0FBQ3RDLFVBQU0sZUFBZSxJQUFJLFVBQVU7QUFDbkMsUUFBSSxTQUFTLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBRTtBQUNyQyxVQUFNLGVBQWUsSUFBSSxVQUFVO0FBRW5DLFNBQUssMkJBQTJCLEdBQUcsY0FBYyxjQUFjO0FBQy9ELFNBQUssc0JBQXNCLEdBQUcsY0FBYyxjQUFjO0FBQzFELFNBQUssc0JBQXNCLEdBQUcsY0FBYyxjQUFjO0FBQUEsRUFDOUQ7QUFDSjtBQUVPLElBQU0sWUFBTixjQUF3QkMsTUFBSztBQUFBLEVBQ2hDLE1BQU0sVUFBeUI7QUFDM0IsVUFBTSxTQUFTLEtBQUssV0FBVyxDQUFDO0FBRWhDLFVBQU0sZUFBZSxrQkFBa0JBO0FBRXZDLFVBQU0sWUFBWSxnQkFBZ0IsTUFBTSxPQUFPLFFBQVEsR0FBRyxRQUFRLE9BQU87QUFFekUsUUFBSSxXQUFXO0FBQ1gsWUFBTSxTQUFnQixLQUFLLFdBQVcsQ0FBQztBQUN2QyxZQUFNLE9BQU8sUUFBUTtBQUFBLElBQ3pCLE9BQU87QUFDSCxZQUFNLFNBQWdCLEtBQUssV0FBVyxDQUFDO0FBQ3ZDLFlBQU0sT0FBTyxRQUFRO0FBQUEsSUFDekI7QUFBQSxFQUNKO0FBQ0o7QUFJTyxJQUFNLFlBQU4sY0FBd0JELEtBQUk7QUFBQSxFQUUvQixZQUFZLFlBQXVDO0FBQy9DLFVBQU07QUFGVixnQkFBTztBQUdILFVBQU0sT0FBTyxJQUFJLHdCQUFzQixNQUFNO0FBQzdDLFVBQU0sT0FBTyxJQUFJLHdCQUFzQixpQkFBaUI7QUFDeEQsVUFBTSxPQUFPLElBQUksd0JBQXNCLE1BQU07QUFDN0MsU0FBSyxRQUFRO0FBQ2IsU0FBSyxRQUFRO0FBQ2IsU0FBSyxRQUFRO0FBQ2IsU0FBSyxvQkFBb0IsQ0FBQyxNQUFNLE1BQU0sSUFBSTtBQUMxQyxRQUFJLGVBQWUsUUFBVztBQUMxQixXQUFLLGFBQWE7QUFBQSxJQUN0QixPQUFPO0FBQ0gsV0FBSyxXQUFXLEtBQUssVUFBVSxLQUFLLElBQUksQ0FBQztBQUN6QyxXQUFLLFdBQVcsS0FBSyxVQUFVLEtBQUssSUFBSSxDQUFDO0FBQ3pDLFdBQUssV0FBVyxLQUFLLFVBQVUsS0FBSyxJQUFJLENBQUM7QUFBQSxJQUM3QztBQUFBLEVBQ0o7QUFDSjtBQUVPLElBQU0sYUFBTixjQUF5QixLQUFLO0FBQUEsRUFFeEIsZUFBcUI7QUFDMUIsU0FBSyxJQUFJLE1BQU07QUFDZixVQUFNLE1BQU0sS0FBSztBQUNqQixRQUFJLFlBQVk7QUFDaEIsUUFBSSxNQUFNLGtCQUFrQjtBQUM1QixRQUFJLE1BQU0sY0FBYztBQUN4QixRQUFJLE1BQU0sY0FBYztBQUV4QixVQUFNLFVBQVUsSUFBSSxVQUFVO0FBQzlCLFVBQU0sYUFBYSxJQUFJLFNBQVMsUUFBUTtBQUN4QyxVQUFNLFVBQVUsSUFBSSxVQUFVO0FBRTlCLFNBQUssMkJBQTJCLEdBQUcsU0FBUyxlQUFlO0FBQzNELFNBQUssMkJBQTJCLEdBQUcsU0FBUyxlQUFlO0FBRTNELGVBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFFO0FBQ3hELGVBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxNQUFNLE9BQU8sS0FBSyxDQUFFO0FBQzFELGVBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFFO0FBQ3hELGVBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFFO0FBQ3hELGVBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxNQUFNLE9BQU8sS0FBSyxDQUFFO0FBQzFELGVBQVcsU0FBUyxVQUFVLEVBQUUsTUFBTSxNQUFNLE9BQU8sS0FBSyxDQUFFO0FBRTFELGVBQVcsUUFBZSxLQUFLLFNBQVMsV0FBVyxDQUFDLEVBQUc7QUFDdkQsU0FBSyxpQkFBaUIsWUFBWSxHQUFHO0FBRXJDLGVBQVcsV0FBVyxNQUFNO0FBQ3hCLE1BQU8sS0FBSyxTQUFTLFdBQVcsQ0FBQyxFQUFHLFFBQVEsV0FBVztBQUN2RCxXQUFLLGlCQUFpQixZQUFZLEdBQUc7QUFBQSxJQUN6QztBQUVBLGVBQVcsTUFBTSxrQkFBa0I7QUFDbkMsZUFBVyxNQUFNLGVBQWU7QUFBQSxFQUNwQztBQUNKO0FBRU8sSUFBTSxhQUFOLGNBQXlCQyxNQUFLO0FBQUEsRUFDakMsTUFBTSxVQUE4QjtBQUNoQyxVQUFNLFNBQVMsS0FBSyxXQUFXLENBQUM7QUFDaEMsVUFBTSxTQUFlLEtBQUssV0FBVyxDQUFDO0FBQ3RDLFVBQU0sU0FBUyxLQUFLLFdBQVcsQ0FBQztBQUVoQyxVQUFNLGVBQWUsa0JBQWtCQTtBQUN2QyxVQUFNLGVBQWUsa0JBQWtCQTtBQUV2QyxVQUFNLE9BQU8sZ0JBQWdCLE1BQU0sT0FBTyxRQUFRLEdBQUcsUUFBUSxPQUFPO0FBQ3BFLFVBQU0sT0FBTyxnQkFBZ0IsTUFBTSxPQUFPLFFBQVEsR0FBRyxRQUFRLE9BQU87QUFFcEUsVUFBTSxTQUFTLElBQUkseUJBQXVCLFFBQVE7QUFDbEQsWUFBTyxPQUFPLE9BQU87QUFBQSxNQUNqQixLQUFLO0FBQUEsTUFDTDtBQUNJLGVBQU8sUUFBUSxTQUFTO0FBQ3hCO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxRQUFRLFNBQVM7QUFDeEI7QUFBQSxNQUNKLEtBQUs7QUFDRCxlQUFPLFFBQVEsT0FBTztBQUN0QjtBQUFBLE1BQ0osS0FBSztBQUNELGVBQU8sUUFBUSxPQUFPO0FBQ3RCO0FBQUEsTUFDSixLQUFLO0FBQ0QsZUFBTyxRQUFRLFFBQVE7QUFDdkI7QUFBQSxNQUNKLEtBQUs7QUFDRCxlQUFPLFFBQVEsUUFBUTtBQUN2QjtBQUFBLElBQ1I7QUFFQSxXQUFPO0FBQUEsRUFDWDtBQUNKO0FBSU8sSUFBTSxZQUFOLGNBQXdCRCxLQUFJO0FBQUEsRUFFL0IsWUFBWSxZQUF1QztBQUMvQyxVQUFNO0FBRlYsZ0JBQU87QUFHSCxVQUFNLE1BQU0sSUFBSSx3QkFBc0IsS0FBSztBQUMzQyxRQUFJLFFBQVE7QUFDWixTQUFLLG9CQUFvQixDQUFDLEdBQUc7QUFDN0IsUUFBSSxlQUFlLFFBQVc7QUFDMUIsV0FBSyxhQUFhO0FBQUEsSUFDdEIsT0FBTztBQUNILFdBQUssV0FBVyxLQUFLLFVBQVUsS0FBSyxHQUFHLENBQUM7QUFBQSxJQUM1QztBQUFBLEVBQ0o7QUFtQ0o7QUEvQ2EsVUFhRixVQUFVO0FBQUEsRUFDYjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDSjtBQUdHLElBQU0sYUFBTixjQUF5QixLQUFLO0FBQUEsRUFFeEIsZUFBcUI7QUFDMUIsU0FBSyxJQUFJLE1BQU07QUFDZixVQUFNLE1BQU0sS0FBSztBQUNqQixRQUFJLFlBQVk7QUFDaEIsUUFBSSxNQUFNLGtCQUFrQjtBQUM1QixRQUFJLE1BQU0sY0FBYztBQUN4QixRQUFJLE1BQU0sY0FBYztBQUV4QixVQUFNLFlBQVksSUFBSSxTQUFTLFFBQVE7QUFDdkMsUUFBSSxTQUFTLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBRTtBQUUxQyxhQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxRQUFRLEtBQUs7QUFDL0MsWUFBTSxVQUFVLFVBQVUsUUFBUSxDQUFDO0FBQ25DLGdCQUFVLFNBQVMsVUFBVSxFQUFFLE1BQU0sU0FBUyxPQUFPLFFBQVEsQ0FBRTtBQUFBLElBQ25FO0FBRUEsY0FBVSxRQUFlLEtBQUssU0FBUyxXQUFXLENBQUMsRUFBRztBQUN0RCxTQUFLLGlCQUFpQixXQUFXLEdBQUc7QUFFcEMsY0FBVSxXQUFXLE1BQU07QUFDdkIsTUFBTyxLQUFLLFNBQVMsV0FBVyxDQUFDLEVBQUcsUUFBUSxVQUFVO0FBQ3RELFdBQUssaUJBQWlCLFdBQVcsR0FBRztBQUFBLElBQ3hDO0FBRUEsY0FBVSxNQUFNLGtCQUFrQjtBQUNsQyxjQUFVLE1BQU0sZUFBZTtBQUFBLEVBQ25DO0FBQ0o7QUFFTyxJQUFNLGFBQU4sY0FBeUJDLE1BQUs7QUFBQSxFQUNqQyxNQUFNLFVBQThCO0FBQ2hDLFVBQU0sTUFBWSxLQUFLLFdBQVcsQ0FBQztBQUVuQyxVQUFNLFNBQVMsSUFBSSx5QkFBdUIsUUFBUTtBQUNsRCxVQUFNLFlBQVksS0FBSyxJQUFJLFFBQVEsU0FBUyxZQUFZLElBQUksSUFBSSxLQUFLO0FBQ3JFLFdBQU8sUUFBUSxjQUFjLFNBQVksUUFBUTtBQUVqRCxZQUFRLElBQUksU0FBUztBQUVyQixXQUFPO0FBQUEsRUFDWDtBQUNKO0FBSU8sSUFBTSxRQUFOLGNBQW9CRCxLQUFJO0FBQUEsRUFFM0IsWUFBWSxZQUF1QztBQUMvQyxVQUFNO0FBRlYsZ0JBQU87QUFHSCxVQUFNLE9BQU8sSUFBSSx3QkFBc0IsTUFBTTtBQUM3QyxVQUFNLE9BQU8sSUFBSSx3QkFBc0IsTUFBTTtBQUM3QyxTQUFLLFFBQVE7QUFDYixTQUFLLFFBQVE7QUFDYixTQUFLLG9CQUFvQixDQUFDLE1BQU0sSUFBSTtBQUNwQyxRQUFJLGVBQWUsUUFBVztBQUMxQixXQUFLLGFBQWE7QUFBQSxJQUN0QixPQUFPO0FBQ0gsV0FBSyxXQUFXLEtBQUssVUFBVSxLQUFLLElBQUksQ0FBQztBQUN6QyxXQUFLLFdBQVcsS0FBSyxVQUFVLEtBQUssSUFBSSxDQUFDO0FBQUEsSUFDN0M7QUFBQSxFQUNKO0FBQ0o7QUFFTyxJQUFNLFNBQU4sY0FBcUIsS0FBSztBQUFBLEVBRXBCLGVBQXFCO0FBQzFCLFNBQUssSUFBSSxNQUFNO0FBQ2YsVUFBTSxNQUFNLEtBQUs7QUFDakIsUUFBSSxZQUFZO0FBQ2hCLFFBQUksTUFBTSxrQkFBa0I7QUFDNUIsUUFBSSxNQUFNLGNBQWM7QUFDeEIsUUFBSSxNQUFNLGNBQWM7QUFFeEIsVUFBTSxVQUFVLElBQUksVUFBVTtBQUM5QixRQUFJLFNBQVMsT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFFO0FBQ2xDLFVBQU0sVUFBVSxJQUFJLFVBQVU7QUFFOUIsU0FBSywyQkFBMkIsR0FBRyxTQUFTLGVBQWU7QUFDM0QsU0FBSywyQkFBMkIsR0FBRyxTQUFTLGVBQWU7QUFBQSxFQUMvRDtBQUNKO0FBRU8sSUFBTSxTQUFOLGNBQXFCQyxNQUFLO0FBQUEsRUFDN0IsTUFBTSxVQUE2QjtBQUMvQixVQUFNLFNBQVMsS0FBSyxXQUFXLENBQUM7QUFDaEMsVUFBTSxTQUFTLEtBQUssV0FBVyxDQUFDO0FBRWhDLFVBQU0sZUFBZSxrQkFBa0JBO0FBQ3ZDLFVBQU0sZUFBZSxrQkFBa0JBO0FBRXZDLFVBQU0sT0FBTyxnQkFBZ0IsTUFBTSxPQUFPLFFBQVEsR0FBRyxRQUFRLE9BQU87QUFDcEUsVUFBTSxPQUFPLGdCQUFnQixNQUFNLE9BQU8sUUFBUSxHQUFHLFFBQVEsT0FBTztBQUVwRSxVQUFNLFNBQVMsSUFBSSx3QkFBc0IsS0FBSztBQUM5QyxXQUFPLFFBQVEsT0FBTztBQUV0QixXQUFPO0FBQUEsRUFDWDtBQUNKOzs7QUMzNkJPLElBQU0sV0FBTixjQUF1QixJQUFJO0FBQUEsRUFNOUIsSUFBSSxtQkFBd0M7QUFDeEMsV0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLFFBQVEsQ0FBQztBQUFBLEVBQ2hEO0FBQUEsRUFFQSxNQUFlLE1BQU0sS0FBb0M7QUFDckQsUUFBSSxNQUFNO0FBQ1YsUUFBSSxZQUFZO0FBQ2hCLFVBQU0sY0FBYyxJQUFJLFVBQVUsb0JBQW9CO0FBQ3RELFNBQUssVUFBVSxZQUFZLFVBQVUsWUFBWTtBQUNqRCxTQUFLLGVBQWU7QUFDcEIsU0FBSyxVQUFVLENBQUM7QUFDaEIsU0FBSyxjQUFjLG9CQUFJLElBQUk7QUFFM0IsU0FBSyxvQkFBb0I7QUFFekIsVUFBTSxLQUFLLFFBQVE7QUFDbkIsV0FBTyxLQUFLLGNBQWM7QUFDdEIsV0FBSyxXQUFXO0FBQ2hCLFlBQU0sTUFBTSxFQUFFO0FBQUEsSUFDbEI7QUFBQSxFQUNKO0FBQUEsRUFDUyxRQUFRLEtBQTJDO0FBQ3hELFFBQUksTUFBTTtBQUNWLFNBQUssZUFBZTtBQUFBLEVBQ3hCO0FBQUEsRUFFUSxzQkFBc0I7QUFDMUIsU0FBSyxRQUFRLFdBQVc7QUFDeEIsU0FBSyxRQUFRLE1BQU07QUFFbkIsYUFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsUUFBUSxLQUFLO0FBQy9DLFlBQU0sVUFBVSxVQUFVLFFBQVEsQ0FBQztBQUNuQyxXQUFLLFlBQVksSUFBSSxTQUFTLEtBQUs7QUFBQSxJQUN2QztBQUVBLFNBQUssUUFBUSxZQUFZLENBQUMsVUFBVTtBQUNoQyxjQUFRLElBQUksTUFBTSxHQUFHO0FBQ3JCLFdBQUssWUFBWSxJQUFJLE9BQU8sSUFBSTtBQUNoQyxjQUFRLE1BQU0sS0FBSztBQUFBLFFBQ2YsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLFNBQVMsSUFBSTtBQUNsQztBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLFlBQVksSUFBSTtBQUNyQztBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLGNBQWMsSUFBSTtBQUN2QztBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLGNBQWMsSUFBSTtBQUN2QztBQUFBLFFBQ0osS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLGVBQWUsSUFBSTtBQUN4QztBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNELGVBQUssWUFBWSxJQUFJLEtBQUssSUFBSTtBQUM5QjtBQUFBLE1BQ1I7QUFBQSxJQUNKO0FBQ0EsU0FBSyxRQUFRLFVBQVUsQ0FBQyxVQUFVO0FBQzlCLGNBQVEsTUFBTSxLQUFLO0FBQUEsUUFDZixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksU0FBUyxLQUFLO0FBQ25DO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksWUFBWSxLQUFLO0FBQ3RDO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksY0FBYyxLQUFLO0FBQ3hDO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksY0FBYyxLQUFLO0FBQ3hDO0FBQUEsUUFDSixLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksZUFBZSxLQUFLO0FBQ3pDO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElBQUksS0FBSyxLQUFLO0FBQy9CO0FBQUEsUUFDSixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0QsZUFBSyxZQUFZLElB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QWlCO0FBQUEsRUFHL0MsWUFBWSxLQUFVLFFBQWU7QUFDcEMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUMsWUFBVyxJQUFJO0FBRXRCLGdCQUFZLE1BQU07QUFFbEIsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEscUJBQXFCLEVBQzdCLFFBQVEsNkRBQTZELEVBQ3JFLFFBQVEsVUFBUSxLQUNmLGVBQWUscUJBQXFCLEVBQ3BDLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUNoQyxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJBUyIsICJBRkkiLCAiQUZSSSIsICJhZGRCdXR0b24iLCAib2JqQXJyIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
